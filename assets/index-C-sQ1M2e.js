(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Xm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var em={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Tb(){if(hv)return Ml;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var fv;function Sb(){return fv||(fv=1,em.exports=Tb()),em.exports}var L=Sb(),tm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Ab(){if(dv)return Ve;dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=I&&k[I]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,H={};function j(k,Q,ne){this.props=k,this.context=Q,this.refs=H,this.updater=ne||O}j.prototype.isReactComponent={},j.prototype.setState=function(k,Q){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Q,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=j.prototype;function ae(k,Q,ne){this.props=k,this.context=Q,this.refs=H,this.updater=ne||O}var J=ae.prototype=new $;J.constructor=ae,x(J,j.prototype),J.isPureReactComponent=!0;var fe=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function V(k,Q,ne,Y,he,ve){return ne=ve.ref,{$$typeof:r,type:k,key:Q,ref:ne!==void 0?ne:null,props:ve}}function T(k,Q){return V(k.type,Q,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function A(k){var Q={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return Q[ne]})}var C=/\/+/g;function N(k,Q){return typeof k=="object"&&k!==null&&k.key!=null?A(""+k.key):Q.toString(36)}function D(){}function ke(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(D,D):(k.status="pending",k.then(function(Q){k.status==="pending"&&(k.status="fulfilled",k.value=Q)},function(Q){k.status==="pending"&&(k.status="rejected",k.reason=Q)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function je(k,Q,ne,Y,he){var ve=typeof k;(ve==="undefined"||ve==="boolean")&&(k=null);var ge=!1;if(k===null)ge=!0;else switch(ve){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(k.$$typeof){case r:case e:ge=!0;break;case E:return ge=k._init,je(ge(k._payload),Q,ne,Y,he)}}if(ge)return he=he(k),ge=Y===""?"."+N(k,0):Y,fe(he)?(ne="",ge!=null&&(ne=ge.replace(C,"$&/")+"/"),je(he,Q,ne,"",function(Ne){return Ne})):he!=null&&(S(he)&&(he=T(he,ne+(he.key==null||k&&k.key===he.key?"":(""+he.key).replace(C,"$&/")+"/")+ge)),Q.push(he)),1;ge=0;var Je=Y===""?".":Y+":";if(fe(k))for(var _e=0;_e<k.length;_e++)Y=k[_e],ve=Je+N(Y,_e),ge+=je(Y,Q,ne,ve,he);else if(_e=w(k),typeof _e=="function")for(k=_e.call(k),_e=0;!(Y=k.next()).done;)Y=Y.value,ve=Je+N(Y,_e++),ge+=je(Y,Q,ne,ve,he);else if(ve==="object"){if(typeof k.then=="function")return je(ke(k),Q,ne,Y,he);throw Q=String(k),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(k,Q,ne){if(k==null)return k;var Y=[],he=0;return je(k,Y,"","",function(ve){return Q.call(ne,ve,he++)}),Y}function ee(k){if(k._status===-1){var Q=k._result;Q=Q(),Q.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=Q)}if(k._status===1)return k._result.default;throw k._result}var ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function ce(){}return Ve.Children={map:W,forEach:function(k,Q,ne){W(k,function(){Q.apply(this,arguments)},ne)},count:function(k){var Q=0;return W(k,function(){Q++}),Q},toArray:function(k){return W(k,function(Q){return Q})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ve.Component=j,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=ae,Ve.StrictMode=s,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(k){return oe.H.useMemoCache(k)}},Ve.cache=function(k){return function(){return k.apply(null,arguments)}},Ve.cloneElement=function(k,Q,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var Y=x({},k.props),he=k.key,ve=void 0;if(Q!=null)for(ge in Q.ref!==void 0&&(ve=void 0),Q.key!==void 0&&(he=""+Q.key),Q)!de.call(Q,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Q.ref===void 0||(Y[ge]=Q[ge]);var ge=arguments.length-2;if(ge===1)Y.children=ne;else if(1<ge){for(var Je=Array(ge),_e=0;_e<ge;_e++)Je[_e]=arguments[_e+2];Y.children=Je}return V(k.type,he,void 0,void 0,ve,Y)},Ve.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ve.createElement=function(k,Q,ne){var Y,he={},ve=null;if(Q!=null)for(Y in Q.key!==void 0&&(ve=""+Q.key),Q)de.call(Q,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(he[Y]=Q[Y]);var ge=arguments.length-2;if(ge===1)he.children=ne;else if(1<ge){for(var Je=Array(ge),_e=0;_e<ge;_e++)Je[_e]=arguments[_e+2];he.children=Je}if(k&&k.defaultProps)for(Y in ge=k.defaultProps,ge)he[Y]===void 0&&(he[Y]=ge[Y]);return V(k,ve,void 0,void 0,null,he)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(k){return{$$typeof:m,render:k}},Ve.isValidElement=S,Ve.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:ee}},Ve.memo=function(k,Q){return{$$typeof:g,type:k,compare:Q===void 0?null:Q}},Ve.startTransition=function(k){var Q=oe.T,ne={};oe.T=ne;try{var Y=k(),he=oe.S;he!==null&&he(ne,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(ce,ue)}catch(ve){ue(ve)}finally{oe.T=Q}},Ve.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ve.use=function(k){return oe.H.use(k)},Ve.useActionState=function(k,Q,ne){return oe.H.useActionState(k,Q,ne)},Ve.useCallback=function(k,Q){return oe.H.useCallback(k,Q)},Ve.useContext=function(k){return oe.H.useContext(k)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(k,Q){return oe.H.useDeferredValue(k,Q)},Ve.useEffect=function(k,Q,ne){var Y=oe.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(k,Q)},Ve.useId=function(){return oe.H.useId()},Ve.useImperativeHandle=function(k,Q,ne){return oe.H.useImperativeHandle(k,Q,ne)},Ve.useInsertionEffect=function(k,Q){return oe.H.useInsertionEffect(k,Q)},Ve.useLayoutEffect=function(k,Q){return oe.H.useLayoutEffect(k,Q)},Ve.useMemo=function(k,Q){return oe.H.useMemo(k,Q)},Ve.useOptimistic=function(k,Q){return oe.H.useOptimistic(k,Q)},Ve.useReducer=function(k,Q,ne){return oe.H.useReducer(k,Q,ne)},Ve.useRef=function(k){return oe.H.useRef(k)},Ve.useState=function(k){return oe.H.useState(k)},Ve.useSyncExternalStore=function(k,Q,ne){return oe.H.useSyncExternalStore(k,Q,ne)},Ve.useTransition=function(){return oe.H.useTransition()},Ve.version="19.1.0",Ve}var mv;function Wm(){return mv||(mv=1,tm.exports=Ab()),tm.exports}var q=Wm();const bb=Xm(q);var nm={exports:{}},Vl={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function wb(){return pv||(pv=1,function(r){function e(W,ee){var ue=W.length;W.push(ee);e:for(;0<ue;){var ce=ue-1>>>1,k=W[ce];if(0<o(k,ee))W[ce]=ee,W[ue]=k,ue=ce;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ee=W[0],ue=W.pop();if(ue!==ee){W[0]=ue;e:for(var ce=0,k=W.length,Q=k>>>1;ce<Q;){var ne=2*(ce+1)-1,Y=W[ne],he=ne+1,ve=W[he];if(0>o(Y,ue))he<k&&0>o(ve,Y)?(W[ce]=ve,W[he]=ue,ce=he):(W[ce]=Y,W[ne]=ue,ce=ne);else if(he<k&&0>o(ve,ue))W[ce]=ve,W[he]=ue,ce=he;else break e}}return ee}function o(W,ee){var ue=W.sortIndex-ee.sortIndex;return ue!==0?ue:W.id-ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,I=null,w=3,O=!1,x=!1,H=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function fe(W){for(var ee=n(g);ee!==null;){if(ee.callback===null)s(g);else if(ee.startTime<=W)s(g),ee.sortIndex=ee.expirationTime,e(p,ee);else break;ee=n(g)}}function oe(W){if(H=!1,fe(W),!x)if(n(p)!==null)x=!0,de||(de=!0,N());else{var ee=n(g);ee!==null&&je(oe,ee.startTime-W)}}var de=!1,V=-1,T=5,S=-1;function A(){return j?!0:!(r.unstable_now()-S<T)}function C(){if(j=!1,de){var W=r.unstable_now();S=W;var ee=!0;try{e:{x=!1,H&&(H=!1,ae(V),V=-1),O=!0;var ue=w;try{t:{for(fe(W),I=n(p);I!==null&&!(I.expirationTime>W&&A());){var ce=I.callback;if(typeof ce=="function"){I.callback=null,w=I.priorityLevel;var k=ce(I.expirationTime<=W);if(W=r.unstable_now(),typeof k=="function"){I.callback=k,fe(W),ee=!0;break t}I===n(p)&&s(p),fe(W)}else s(p);I=n(p)}if(I!==null)ee=!0;else{var Q=n(g);Q!==null&&je(oe,Q.startTime-W),ee=!1}}break e}finally{I=null,w=ue,O=!1}ee=void 0}}finally{ee?N():de=!1}}}var N;if(typeof J=="function")N=function(){J(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ke=D.port2;D.port1.onmessage=C,N=function(){ke.postMessage(null)}}else N=function(){$(C,0)};function je(W,ee){V=$(function(){W(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var ue=w;w=ee;try{return W()}finally{w=ue}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=w;w=W;try{return ee()}finally{w=ue}},r.unstable_scheduleCallback=function(W,ee,ue){var ce=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ce+ue:ce):ue=ce,W){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ue+k,W={id:E++,callback:ee,priorityLevel:W,startTime:ue,expirationTime:k,sortIndex:-1},ue>ce?(W.sortIndex=ue,e(g,W),n(p)===null&&W===n(g)&&(H?(ae(V),V=-1):H=!0,je(oe,ue-ce))):(W.sortIndex=k,e(p,W),x||O||(x=!0,de||(de=!0,N()))),W},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(W){var ee=w;return function(){var ue=w;w=ee;try{return W.apply(this,arguments)}finally{w=ue}}}}(rm)),rm}var gv;function Rb(){return gv||(gv=1,im.exports=wb()),im.exports}var sm={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Ib(){if(yv)return un;yv=1;var r=Wm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},un.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,I=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:I,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:I,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,I=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:I,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.1.0",un}var _v;function Cb(){if(_v)return sm.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=Ib(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function Db(){if(vv)return Vl;vv=1;var r=Rb(),e=Wm(),n=Cb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,I=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),J=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case j:return"Profiler";case H:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case J:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case T:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}var je=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ce=[],k=-1;function Q(t){return{current:t}}function ne(t){0>k||(t.current=ce[k],ce[k]=null,k--)}function Y(t,i){k++,ce[k]=t.current,t.current=i}var he=Q(null),ve=Q(null),ge=Q(null),Je=Q(null);function _e(t,i){switch(Y(ge,i),Y(ve,t),Y(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?j_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=j_(i),t=z_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(he),Y(he,t)}function Ne(){ne(he),ne(ve),ne(ge)}function et(t){t.memoizedState!==null&&Y(Je,t);var i=he.current,a=z_(i,t.type);i!==a&&(Y(ve,t),Y(he,a))}function Ie(t){ve.current===t&&(ne(he),ne(ve)),Je.current===t&&(ne(Je),Cl._currentValue=ue)}var Xe=Object.prototype.hasOwnProperty,dt=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,Fe=r.unstable_shouldYield,xe=r.unstable_requestPaint,st=r.unstable_now,Ge=r.unstable_getCurrentPriorityLevel,nt=r.unstable_ImmediatePriority,mt=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,Tn=r.unstable_LowPriority,Un=r.unstable_IdlePriority,bt=r.log,mn=r.unstable_setDisableYieldValue,Me=null,De=null;function Et(t){if(typeof bt=="function"&&mn(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Me,t)}catch{}}var Nt=Math.clz32?Math.clz32:Kt,vs=Math.log,pi=Math.LN2;function Kt(t){return t>>>=0,t===0?32:31-(vs(t)/pi|0)|0}var In=256,gi=4194304;function ni(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ua(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=ni(l):(v&=b,v!==0?h=ni(v):a||(a=b&~t,a!==0&&(h=ni(a))))):(b=l&~d,b!==0?h=ni(b):v!==0?h=ni(v):a||(a=l&~t,a!==0&&(h=ni(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Es(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Co(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=In;return In<<=1,(In&4194048)===0&&(In=256),t}function Oo(){var t=gi;return gi<<=1,(gi&62914560)===0&&(gi=4194304),t}function ji(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function zi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function No(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-Nt(a),ie=1<<Z;b[Z]=0,M[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var K=G[Z];K!==null&&(K.lane&=-536870913)}a&=~ie}l!==0&&yi(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function yi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Nt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function xo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Nt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ar(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function vu(t,i){var a=ee.p;try{return ee.p=t,i()}finally{ee.p=a}}var yt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+yt,xt="__reactProps$"+yt,jn="__reactContainer$"+yt,Mo="__reactEvents$"+yt,nf="__reactListeners$"+yt,br="__reactHandles$"+yt,Eu="__reactResources$"+yt,Ts="__reactMarker$"+yt;function wr(t){delete t[Ut],delete t[xt],delete t[Mo],delete t[nf],delete t[br]}function Bi(t){var i=t[Ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[jn]||a[Ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=F_(t);t!==null;){if(a=t[Ut])return a;t=F_(t)}return i}t=a,a=t.parentNode}return null}function _i(t){if(t=t[Ut]||t[jn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function vi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pn(t){var i=t[Eu];return i||(i=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(t){t[Ts]=!0}var Vo=new Set,ha={};function ii(t,i){qi(t,i),qi(t+"Capture",i)}function qi(t,i){for(ha[t]=i,t=0;t<i.length;t++)Vo.add(i[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Su={},Ss={};function Au(t){return Xe.call(Ss,t)?!0:Xe.call(Su,t)?!1:Tu.test(t)?Ss[t]=!0:(Su[t]=!0,!1)}function Rr(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ei(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Jt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var As,bu;function Hi(t){if(As===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);As=i&&i[1]||"",bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+bu}var fa=!1;function da(t,i){if(!t||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var G=K}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(K){G=K}t.call(ie.prototype)}}else{try{throw Error()}catch(K){G=K}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var M=v.split(`
`),F=b.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===F.length)for(l=M.length-1,h=F.length-1;1<=l&&0<=h&&M[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==F[h]){var Z=`
`+M[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Hi(a):""}function ko(t){switch(t.tag){case 26:case 27:case 5:return Hi(t.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 15:return da(t.type,!1);case 11:return da(t.type.render,!1);case 1:return da(t.type,!0);case 31:return Hi("Activity");default:return""}}function ma(t){try{var i="";do i+=ko(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Po(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rf(t){var i=Po(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function pa(t){t._valueTracker||(t._valueTracker=rf(t))}function Lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Po(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var sf=/[\n"\\]/g;function Mt(t){return t.replace(sf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cn(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+gn(i)):t.value!==""+gn(i)&&(t.value=""+gn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ir(t,v,gn(i)):a!=null?Ir(t,v,gn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+gn(b):t.removeAttribute("name")}function ws(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ir(t,i,a){i==="number"&&bs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function lt(t,i,a){if(i!=null&&(i=""+gn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+gn(a):""}function Rs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(je(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=gn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function zn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Is.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&wu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&wu(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Gi=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Qi=null;function zo(t){var i=_i(t);if(i&&(t=i.stateNode)){var a=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[xt]||null;if(!h)throw Error(s(90));Cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Lo(l)}break e;case"textarea":lt(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Fi(t,!!a.multiple,i,!1)}}}var Ti=!1;function Ru(t,i,a){if(Ti)return t(i,a);Ti=!0;try{var l=t(i);return l}finally{if(Ti=!1,(Ki!==null||Qi!==null)&&(vc(),Ki&&(i=Ki,t=Qi,Qi=Ki=null,zo(i),t)))for(i=0;i<t.length;i++)zo(t[i])}}function Cs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(ri)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{qn=!1}var Si=null,Cr=null,Yi=null;function Bo(){if(Yi)return Yi;var t,i=Cr,a=i.length,l,h="value"in Si?Si.value:Si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Yi=h.slice(t,1<l?1-l:void 0)}function Ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function bi(){return!0}function qo(){return!1}function Qt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?bi:qo,this.isPropagationStopped=qo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),i}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Qt(it),Os=E({},it,{view:0,detail:0}),Iu=Qt(Os),_a,va,wi,Ns=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(_a=t.screenX-wi.screenX,va=t.screenY-wi.screenY):va=_a=0,wi=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Hn=Qt(Ns),Cu=E({},Ns,{dataTransfer:0}),lf=Qt(Cu),xs=E({},Os,{relatedTarget:0}),Ea=Qt(xs),Ho=E({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Qt(Ho),Du=E({},it,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=Qt(Du),uf=E({},it,{data:0}),Fo=Qt(uf),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function Vs(){return Go}var xu=E({},Os,{key:function(t){if(t.key){var i=Ms[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Qt(xu),Mu=E({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=Qt(Mu),$i=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),Vu=Qt($i),ku=E({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Qt(ku),Lu=E({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=Qt(Lu),yn=E({},it,{newState:0,oldState:0}),Uu=Qt(yn),ju=[9,13,27,32],Ri=ri&&"CompositionEvent"in window,c=null;ri&&"documentMode"in document&&(c=document.documentMode);var y=ri&&"TextEvent"in window&&!c,_=ri&&(!Ri||c&&8<c&&11>=c),R=" ",z=!1;function X(t,i){switch(t){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function jt(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(z=!0,R);case"textInput":return t=i.data,t===R&&z?null:t;default:return null}}function Qe(t,i){if(Ke)return t==="compositionend"||!Ri&&X(t,i)?(t=Bo(),Yi=Cr=Si=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Yt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Yt[t.type]:i==="textarea"}function Xi(t,i,a,l){Ki?Qi?Qi.push(l):Qi=[l]:Ki=l,i=wc(i,"onChange"),0<i.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var en=null,Ii=null;function Qo(t){V_(t,0)}function zu(t){var i=vi(t);if(Lo(i))return t}function tg(t,i){if(t==="change")return i}var ng=!1;if(ri){var cf;if(ri){var hf="oninput"in document;if(!hf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),hf=typeof ig.oninput=="function"}cf=hf}else cf=!1;ng=cf&&(!document.documentMode||9<document.documentMode)}function rg(){en&&(en.detachEvent("onpropertychange",sg),Ii=en=null)}function sg(t){if(t.propertyName==="value"&&zu(Ii)){var i=[];Xi(i,Ii,t,Bn(t)),Ru(Qo,i)}}function WS(t,i,a){t==="focusin"?(rg(),en=i,Ii=a,en.attachEvent("onpropertychange",sg)):t==="focusout"&&rg()}function ZS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(Ii)}function JS(t,i){if(t==="click")return zu(i)}function eA(t,i){if(t==="input"||t==="change")return zu(i)}function tA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Dn=typeof Object.is=="function"?Object.is:tA;function Yo(t,i){if(Dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Xe.call(i,h)||!Dn(t[h],i[h]))return!1}return!0}function ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function og(t,i){var a=ag(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ag(a)}}function lg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?lg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=bs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=bs(t.document)}return i}function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var nA=ri&&"documentMode"in document&&11>=document.documentMode,wa=null,df=null,$o=null,mf=!1;function cg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mf||wa==null||wa!==bs(l)||(l=wa,"selectionStart"in l&&ff(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Yo($o,l)||($o=l,l=wc(df,"onSelect"),0<l.length&&(i=new ya("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=wa)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ra={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},pf={},hg={};ri&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Ps(t){if(pf[t])return pf[t];if(!Ra[t])return t;var i=Ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in hg)return pf[t]=i[a];return t}var fg=Ps("animationend"),dg=Ps("animationiteration"),mg=Ps("animationstart"),iA=Ps("transitionrun"),rA=Ps("transitionstart"),sA=Ps("transitioncancel"),pg=Ps("transitionend"),gg=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function si(t,i){gg.set(t,i),ii(i,[t])}var yg=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ma(i)},yg.set(t,i),i)}return{value:t,source:i,stack:ma(i)}}var Gn=[],Ia=0,yf=0;function Bu(){for(var t=Ia,i=yf=Ia=0;i<t;){var a=Gn[i];Gn[i++]=null;var l=Gn[i];Gn[i++]=null;var h=Gn[i];Gn[i++]=null;var d=Gn[i];if(Gn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&_g(a,h,d)}}function qu(t,i,a,l){Gn[Ia++]=t,Gn[Ia++]=i,Gn[Ia++]=a,Gn[Ia++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,a,l){return qu(t,i,a,l),Hu(t)}function Ca(t,i){return qu(t,null,null,i),Hu(t)}function _g(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Nt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<El)throw El=0,bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function aA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,i,a,l){return new aA(t,i,a,l)}function vf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var a=t.alternate;return a===null?(a=On(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Fu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")vf(t)&&(v=1);else if(typeof t=="string")v=lb(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=On(31,a,i,h),t.elementType=S,t.lanes=d,t;case x:return Ls(a.children,h,d,i);case H:v=8,h|=24;break;case j:return t=On(12,a,i,h|2),t.elementType=j,t.lanes=d,t;case oe:return t=On(13,a,i,h),t.elementType=oe,t.lanes=d,t;case de:return t=On(19,a,i,h),t.elementType=de,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case J:v=10;break e;case ae:v=9;break e;case fe:v=11;break e;case V:v=14;break e;case T:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=On(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ls(t,i,a,l){return t=On(7,t,l,i),t.lanes=a,t}function Ef(t,i,a){return t=On(6,t,null,i),t.lanes=a,t}function Tf(t,i,a){return i=On(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],Na=0,Gu=null,Ku=0,Kn=[],Qn=0,Us=null,Zi=1,Ji="";function js(t,i){Oa[Na++]=Ku,Oa[Na++]=Gu,Gu=t,Ku=i}function Eg(t,i,a){Kn[Qn++]=Zi,Kn[Qn++]=Ji,Kn[Qn++]=Us,Us=t;var l=Zi;t=Ji;var h=32-Nt(l)-1;l&=~(1<<h),a+=1;var d=32-Nt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Zi=1<<32-Nt(i)+h|a<<h|l,Ji=d+t}else Zi=1<<d|a<<h|l,Ji=t}function Sf(t){t.return!==null&&(js(t,1),Eg(t,1,0))}function Af(t){for(;t===Gu;)Gu=Oa[--Na],Oa[Na]=null,Ku=Oa[--Na],Oa[Na]=null;for(;t===Us;)Us=Kn[--Qn],Kn[Qn]=null,Ji=Kn[--Qn],Kn[Qn]=null,Zi=Kn[--Qn],Kn[Qn]=null}var _n=null,wt=null,tt=!1,zs=null,Ci=!1,bf=Error(s(519));function Bs(t){var i=Error(s(418,""));throw Zo(Fn(i,t)),bf}function Tg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ut]=t,i[xt]=l,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Be(Sl[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),ws(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Rs(i,l.value,l.defaultValue,l.children),pa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||U_(i.textContent,a)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=Rc),i=!0):i=!1,i||Bs(t)}function Sg(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:_n=_n.return}}function Xo(t){if(t!==_n)return!1;if(!tt)return Sg(t),tt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zd(t.type,t.memoizedProps)),a=!a),a&&wt&&Bs(t),Sg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){wt=oi(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}wt=null}}else i===27?(i=wt,Fr(t.type)?(t=Fd,Fd=null,wt=t):wt=i):wt=_n?oi(t.stateNode.nextSibling):null;return!0}function Wo(){wt=_n=null,tt=!1}function Ag(){var t=zs;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),zs=null),t}function Zo(t){zs===null?zs=[t]:zs.push(t)}var wf=Q(null),qs=null,er=null;function Dr(t,i,a){Y(wf,i._currentValue),i._currentValue=a}function tr(t){t._currentValue=wf.current,ne(wf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var M=0;M<i.length;M++)if(b.context===i[M]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Jo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;Dn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Je.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&If(i,t,a,l),i.flags|=262144}function Qu(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,er=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return bg(qs,t)}function Yu(t,i){return qs===null&&Hs(t),bg(t,i)}function bg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},er===null){if(t===null)throw Error(s(308));er=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else er=er.next=i;return a}var oA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},lA=r.unstable_scheduleCallback,uA=r.unstable_NormalPriority,Bt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new oA,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&lA(uA,function(){t.controller.abort()})}var tl=null,Df=0,xa=0,Ma=null;function cA(t,i){if(tl===null){var a=tl=[];Df=0,xa=Nd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(wg,wg),i}function wg(){if(--Df===0&&tl!==null){Ma!==null&&(Ma.status="fulfilled");var t=tl;tl=null,xa=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function hA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Rg=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&cA(t,i),Rg!==null&&Rg(t,i)};var Fs=Q(null);function Of(){var t=Fs.current;return t!==null?t:pt.pooledCache}function $u(t,i){i===null?Y(Fs,Fs.current):Y(Fs,i.pool)}function Ig(){var t=Of();return t===null?null:{parent:Bt._currentValue,pool:t}}var nl=Error(s(460)),Cg=Error(s(474)),Xu=Error(s(542)),Nf={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function Og(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Wu,Wu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xg(t),t;default:if(typeof i.status=="string")i.then(Wu,Wu);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,xg(t),t}throw il=i,nl}}var il=null;function Ng(){if(il===null)throw Error(s(459));var t=il;return il=null,t}function xg(t){if(t===nl||t===Xu)throw Error(s(483))}var Or=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),_g(t,null,a),i}return qu(t,l,i,a),Hu(t)}function rl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}function Vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var kf=!1;function sl(){if(kf){var t=Ma;if(t!==null)throw t}}function al(t,i,a,l){kf=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var M=b,F=M.next;M.next=null,v===null?d=F:v.next=F,v=M;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==v&&(b===null?Z.firstBaseUpdate=F:b.next=F,Z.lastBaseUpdate=M))}if(d!==null){var ie=h.baseState;v=0,Z=F=M=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Ye&G)===G:(l&G)===G){G!==0&&G===xa&&(kf=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Re=t,Se=b;G=i;var ht=a;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){ie=Re.call(ht,ie,G);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,G=typeof Re=="function"?Re.call(ht,ie,G):Re,G==null)break e;ie=E({},ie,G);break e;case 2:Or=!0}}G=b.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(F=Z=K,M=ie):Z=Z.next=K,v|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Z===null&&(M=ie),h.baseState=M,h.firstBaseUpdate=F,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),zr|=v,t.lanes=v,t.memoizedState=ie}}function Mg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Vg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mg(a[t],i)}var Va=Q(null),Zu=Q(0);function kg(t,i){t=lr,Y(Zu,t),Y(Va,i),lr=t|i.baseLanes}function Pf(){Y(Zu,lr),Y(Va,Va.current)}function Lf(){lr=Zu.current,ne(Va),ne(Zu)}var Mr=0,Pe=null,ut=null,Vt=null,Ju=!1,ka=!1,Gs=!1,ec=0,ol=0,Pa=null,fA=0;function Ct(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Dn(t[a],i[a]))return!1;return!0}function jf(t,i,a,l,h,d){return Mr=d,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?_y:vy,Gs=!1,d=a(l,h),Gs=!1,ka&&(d=Lg(i,a,l,h)),Pg(t),d}function Pg(t){W.H=ac;var i=ut!==null&&ut.next!==null;if(Mr=0,Vt=ut=Pe=null,Ju=!1,ol=0,Pa=null,i)throw Error(s(300));t===null||$t||(t=t.dependencies,t!==null&&Qu(t)&&($t=!0))}function Lg(t,i,a,l){Pe=t;var h=0;do{if(ka&&(Pa=null),ol=0,ka=!1,25<=h)throw Error(s(301));if(h+=1,Vt=ut=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=vA,d=i(a,l)}while(ka);return d}function dA(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?ll(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Pe.flags|=1024),i}function zf(){var t=ec!==0;return ec=0,t}function Bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function qf(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}Mr=0,Vt=ut=Pe=null,ka=!1,ol=ec=0,Pa=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Pe.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function kt(){if(ut===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=Vt===null?Pe.memoizedState:Vt.next;if(i!==null)Vt=i,ut=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Vt===null?Pe.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(t){var i=ol;return ol+=1,Pa===null&&(Pa=[]),t=Og(Pa,t,i),i=Pe,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?_y:vy),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ll(t);if(t.$$typeof===J)return ln(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=Pe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hf(),Pe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=A;return i.index++,a}function nr(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=kt();return Gf(i,ut,t)}function Gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,M=null,F=i,Z=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Ye&ie)===ie:(Mr&ie)===ie){var G=F.revertLane;if(G===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===xa&&(Z=!0);else if((Mr&G)===G){F=F.next,G===xa&&(Z=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(b=M=ie,v=d):M=M.next=ie,Pe.lanes|=G,zr|=G;ie=F.action,Gs&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else G={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},M===null?(b=M=G,v=d):M=M.next=G,Pe.lanes|=ie,zr|=ie;F=F.next}while(F!==null&&F!==i);if(M===null?v=d:M.next=b,!Dn(d,t.memoizedState)&&($t=!0,Z&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Kf(t){var i=kt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Dn(d,i.memoizedState)||($t=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ug(t,i,a){var l=Pe,h=kt(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Dn((ut||h).memoizedState,a);v&&(h.memoizedState=a,$t=!0),h=h.queue;var b=Bg.bind(null,l,h,t);if(ul(2048,8,b,[t]),h.getSnapshot!==i||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,La(9,ic(),zg.bind(null,l,h,a,i),null),pt===null)throw Error(s(349));d||(Mr&124)!==0||jg(l,i,a)}return a}function jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Pe.updateQueue,i===null?(i=Hf(),Pe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zg(t,i,a,l){i.value=a,i.getSnapshot=l,qg(i)&&Hg(t)}function Bg(t,i,a){return a(function(){qg(i)&&Hg(t)})}function qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Dn(t,a)}catch{return!0}}function Hg(t){var i=Ca(t,2);i!==null&&kn(i,t,2)}function Qf(t){var i=Sn();if(typeof t=="function"){var a=t;if(t=a(),Gs){Et(!0);try{a()}finally{Et(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:t},i}function Fg(t,i,a,l){return t.baseState=a,Gf(t,ut,typeof l=="function"?l:nr)}function mA(t,i,a,l,h){if(sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,v={};W.T=v;try{var b=a(h,l),M=W.S;M!==null&&M(v,b),Kg(t,i,b)}catch(F){Yf(t,i,F)}finally{W.T=d}}else try{d=a(h,l),Kg(t,i,d)}catch(F){Yf(t,i,F)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(t,i,l)},function(l){return Yf(t,i,l)}):Qg(t,i,a)}function Qg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function $g(t,i){return i}function Xg(t,i){if(tt){var a=pt.formState;if(a!==null){e:{var l=Pe;if(tt){if(wt){t:{for(var h=wt,d=Ci;h.nodeType!==8;){if(!d){h=null;break t}if(h=oi(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){wt=oi(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(i=a[0])}}return a=Sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:i},a.queue=l,a=py.bind(null,Pe,l),l.dispatch=a,l=Qf(!1),d=Jf.bind(null,Pe,!1,l.queue),l=Sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=mA.bind(null,Pe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=kt();return Zg(i,ut,t)}function Zg(t,i,a){if(i=Gf(t,i,$g)[0],t=nc(nr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ll(i)}catch(v){throw v===nl?Xu:v}else l=i;i=kt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Pe.flags|=2048,La(9,ic(),pA.bind(null,h,a),null)),[l,d,t]}function pA(t,i){t.action=i}function Jg(t){var i=kt(),a=ut;if(a!==null)return Zg(i,a,t);kt(),i=i.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=Hf(),Pe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function ey(){return kt().memoizedState}function rc(t,i,a,l){var h=Sn();l=l===void 0?null:l,Pe.flags|=t,h.memoizedState=La(1|i,ic(),a,l)}function ul(t,i,a,l){var h=kt();l=l===void 0?null:l;var d=h.memoizedState.inst;ut!==null&&l!==null&&Uf(l,ut.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Pe.flags|=t,h.memoizedState=La(1|i,d,a,l))}function ty(t,i){rc(8390656,8,t,i)}function ny(t,i){ul(2048,8,t,i)}function iy(t,i){return ul(4,2,t,i)}function ry(t,i){return ul(4,4,t,i)}function sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,a){a=a!=null?a.concat([t]):null,ul(4,4,sy.bind(null,i,t),a)}function $f(){}function oy(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ly(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),Gs){Et(!0);try{t()}finally{Et(!1)}}return a.memoizedState=[l,i],l}function Xf(t,i,a){return a===void 0||(Mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=h_(),Pe.lanes|=t,zr|=t,a)}function uy(t,i,a,l){return Dn(a,i)?a:Va.current!==null?(t=Xf(t,a,l),Dn(t,i)||($t=!0),t):(Mr&42)===0?($t=!0,t.memoizedState=a):(t=h_(),Pe.lanes|=t,zr|=t,i)}function cy(t,i,a,l,h){var d=ee.p;ee.p=d!==0&&8>d?d:8;var v=W.T,b={};W.T=b,Jf(t,!1,i,a);try{var M=h(),F=W.S;if(F!==null&&F(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=hA(M,l);cl(t,i,Z,Vn(t))}else cl(t,i,l,Vn(t))}catch(ie){cl(t,i,{then:function(){},status:"rejected",reason:ie},Vn())}finally{ee.p=d,W.T=v}}function gA(){}function Wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=hy(t).queue;cy(t,h,i,ue,a===null?gA:function(){return fy(t),a(l)})}function hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function fy(t){var i=hy(t).next.queue;cl(t,i,{},Vn())}function Zf(){return ln(Cl)}function dy(){return kt().memoizedState}function my(){return kt().memoizedState}function yA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Vn();t=Nr(a);var l=xr(i,t,a);l!==null&&(kn(l,i,a),rl(l,i,a)),i={cache:Cf()},t.payload=i;return}i=i.return}}function _A(t,i,a){var l=Vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?gy(i,a):(a=_f(t,i,a,l),a!==null&&(kn(a,t,l),yy(a,i,l)))}function py(t,i,a){var l=Vn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))gy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,Dn(b,v))return qu(t,i,h,0),pt===null&&Bu(),!1}catch{}finally{}if(a=_f(t,i,h,l),a!==null)return kn(a,t,l),yy(a,i,l),!0}return!1}function Jf(t,i,a,l){if(l={lane:2,revertLane:Nd(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(s(479))}else i=_f(t,a,l,2),i!==null&&kn(i,t,2)}function sc(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function gy(t,i){ka=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function yy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,xo(t,a)}}var ac={readContext:ln,use:tc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},_y={readContext:ln,use:tc,useCallback:function(t,i){return Sn().memoizedState=[t,i===void 0?null:i],t},useContext:ln,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=Sn();i=i===void 0?null:i;var l=t();if(Gs){Et(!0);try{t()}finally{Et(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Sn();if(a!==void 0){var h=a(i);if(Gs){Et(!0);try{a(i)}finally{Et(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=_A.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var i=Sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Qf(t);var i=t.queue,a=py.bind(null,Pe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=Sn();return Xf(a,t,i)},useTransition:function(){var t=Qf(!1);return t=cy.bind(null,Pe,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Pe,h=Sn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),pt===null)throw Error(s(349));(Ye&124)!==0||jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ty(Bg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,ic(),zg.bind(null,l,d,a,i),null),a},useId:function(){var t=Sn(),i=pt.identifierPrefix;if(tt){var a=Ji,l=Zi;a=(l&~(1<<32-Nt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=ec++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=fA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Zf,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var i=Sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jf.bind(null,Pe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return Sn().memoizedState=yA.bind(null,Pe)}},vy={readContext:ln,use:tc,useCallback:oy,useContext:ln,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:nc,useRef:ey,useState:function(){return nc(nr)},useDebugValue:$f,useDeferredValue:function(t,i){var a=kt();return uy(a,ut.memoizedState,t,i)},useTransition:function(){var t=nc(nr)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:Zf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=kt();return Fg(a,ut,t,i)},useMemoCache:Ff,useCacheRefresh:my},vA={readContext:ln,use:tc,useCallback:oy,useContext:ln,useEffect:ny,useImperativeHandle:ay,useInsertionEffect:iy,useLayoutEffect:ry,useMemo:ly,useReducer:Kf,useRef:ey,useState:function(){return Kf(nr)},useDebugValue:$f,useDeferredValue:function(t,i){var a=kt();return ut===null?Xf(a,t,i):uy(a,ut.memoizedState,t,i)},useTransition:function(){var t=Kf(nr)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:ll(t),i]},useSyncExternalStore:Ug,useId:dy,useHostTransitionStatus:Zf,useFormState:Jg,useActionState:Jg,useOptimistic:function(t,i){var a=kt();return ut!==null?Fg(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:my},Ua=null,hl=0;function oc(t){var i=hl;return hl+=1,Ua===null&&(Ua=[]),Og(Ua,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ey(t){var i=t._init;return i(t._payload)}function Ty(t){function i(U,P){if(t){var B=U.deletions;B===null?(U.deletions=[P],U.flags|=16):B.push(P)}}function a(U,P){if(!t)return null;for(;P!==null;)i(U,P),P=P.sibling;return null}function l(U){for(var P=new Map;U!==null;)U.key!==null?P.set(U.key,U):P.set(U.index,U),U=U.sibling;return P}function h(U,P){return U=Wi(U,P),U.index=0,U.sibling=null,U}function d(U,P,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<P?(U.flags|=67108866,P):B):(U.flags|=67108866,P)):(U.flags|=1048576,P)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,P,B,te){return P===null||P.tag!==6?(P=Ef(B,U.mode,te),P.return=U,P):(P=h(P,B),P.return=U,P)}function M(U,P,B,te){var ye=B.type;return ye===x?Z(U,P,B.props.children,te,B.key):P!==null&&(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&Ey(ye)===P.type)?(P=h(P,B.props),fl(P,B),P.return=U,P):(P=Fu(B.type,B.key,B.props,null,U.mode,te),fl(P,B),P.return=U,P)}function F(U,P,B,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Tf(B,U.mode,te),P.return=U,P):(P=h(P,B.children||[]),P.return=U,P)}function Z(U,P,B,te,ye){return P===null||P.tag!==7?(P=Ls(B,U.mode,te,ye),P.return=U,P):(P=h(P,B),P.return=U,P)}function ie(U,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ef(""+P,U.mode,B),P.return=U,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return B=Fu(P.type,P.key,P.props,null,U.mode,B),fl(B,P),B.return=U,B;case O:return P=Tf(P,U.mode,B),P.return=U,P;case T:var te=P._init;return P=te(P._payload),ie(U,P,B)}if(je(P)||N(P))return P=Ls(P,U.mode,B,null),P.return=U,P;if(typeof P.then=="function")return ie(U,oc(P),B);if(P.$$typeof===J)return ie(U,Yu(U,P),B);lc(U,P)}return null}function G(U,P,B,te){var ye=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:b(U,P,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return B.key===ye?M(U,P,B,te):null;case O:return B.key===ye?F(U,P,B,te):null;case T:return ye=B._init,B=ye(B._payload),G(U,P,B,te)}if(je(B)||N(B))return ye!==null?null:Z(U,P,B,te,null);if(typeof B.then=="function")return G(U,P,oc(B),te);if(B.$$typeof===J)return G(U,P,Yu(U,B),te);lc(U,B)}return null}function K(U,P,B,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(B)||null,b(P,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return U=U.get(te.key===null?B:te.key)||null,M(P,U,te,ye);case O:return U=U.get(te.key===null?B:te.key)||null,F(P,U,te,ye);case T:var Ue=te._init;return te=Ue(te._payload),K(U,P,B,te,ye)}if(je(te)||N(te))return U=U.get(B)||null,Z(P,U,te,ye,null);if(typeof te.then=="function")return K(U,P,B,oc(te),ye);if(te.$$typeof===J)return K(U,P,B,Yu(P,te),ye);lc(P,te)}return null}function Re(U,P,B,te){for(var ye=null,Ue=null,Ee=P,Ae=P=0,Wt=null;Ee!==null&&Ae<B.length;Ae++){Ee.index>Ae?(Wt=Ee,Ee=null):Wt=Ee.sibling;var Ze=G(U,Ee,B[Ae],te);if(Ze===null){Ee===null&&(Ee=Wt);break}t&&Ee&&Ze.alternate===null&&i(U,Ee),P=d(Ze,P,Ae),Ue===null?ye=Ze:Ue.sibling=Ze,Ue=Ze,Ee=Wt}if(Ae===B.length)return a(U,Ee),tt&&js(U,Ae),ye;if(Ee===null){for(;Ae<B.length;Ae++)Ee=ie(U,B[Ae],te),Ee!==null&&(P=d(Ee,P,Ae),Ue===null?ye=Ee:Ue.sibling=Ee,Ue=Ee);return tt&&js(U,Ae),ye}for(Ee=l(Ee);Ae<B.length;Ae++)Wt=K(Ee,U,Ae,B[Ae],te),Wt!==null&&(t&&Wt.alternate!==null&&Ee.delete(Wt.key===null?Ae:Wt.key),P=d(Wt,P,Ae),Ue===null?ye=Wt:Ue.sibling=Wt,Ue=Wt);return t&&Ee.forEach(function($r){return i(U,$r)}),tt&&js(U,Ae),ye}function Se(U,P,B,te){if(B==null)throw Error(s(151));for(var ye=null,Ue=null,Ee=P,Ae=P=0,Wt=null,Ze=B.next();Ee!==null&&!Ze.done;Ae++,Ze=B.next()){Ee.index>Ae?(Wt=Ee,Ee=null):Wt=Ee.sibling;var $r=G(U,Ee,Ze.value,te);if($r===null){Ee===null&&(Ee=Wt);break}t&&Ee&&$r.alternate===null&&i(U,Ee),P=d($r,P,Ae),Ue===null?ye=$r:Ue.sibling=$r,Ue=$r,Ee=Wt}if(Ze.done)return a(U,Ee),tt&&js(U,Ae),ye;if(Ee===null){for(;!Ze.done;Ae++,Ze=B.next())Ze=ie(U,Ze.value,te),Ze!==null&&(P=d(Ze,P,Ae),Ue===null?ye=Ze:Ue.sibling=Ze,Ue=Ze);return tt&&js(U,Ae),ye}for(Ee=l(Ee);!Ze.done;Ae++,Ze=B.next())Ze=K(Ee,U,Ae,Ze.value,te),Ze!==null&&(t&&Ze.alternate!==null&&Ee.delete(Ze.key===null?Ae:Ze.key),P=d(Ze,P,Ae),Ue===null?ye=Ze:Ue.sibling=Ze,Ue=Ze);return t&&Ee.forEach(function(Eb){return i(U,Eb)}),tt&&js(U,Ae),ye}function ht(U,P,B,te){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case w:e:{for(var ye=B.key;P!==null;){if(P.key===ye){if(ye=B.type,ye===x){if(P.tag===7){a(U,P.sibling),te=h(P,B.props.children),te.return=U,U=te;break e}}else if(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&Ey(ye)===P.type){a(U,P.sibling),te=h(P,B.props),fl(te,B),te.return=U,U=te;break e}a(U,P);break}else i(U,P);P=P.sibling}B.type===x?(te=Ls(B.props.children,U.mode,te,B.key),te.return=U,U=te):(te=Fu(B.type,B.key,B.props,null,U.mode,te),fl(te,B),te.return=U,U=te)}return v(U);case O:e:{for(ye=B.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(U,P.sibling),te=h(P,B.children||[]),te.return=U,U=te;break e}else{a(U,P);break}else i(U,P);P=P.sibling}te=Tf(B,U.mode,te),te.return=U,U=te}return v(U);case T:return ye=B._init,B=ye(B._payload),ht(U,P,B,te)}if(je(B))return Re(U,P,B,te);if(N(B)){if(ye=N(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),Se(U,P,B,te)}if(typeof B.then=="function")return ht(U,P,oc(B),te);if(B.$$typeof===J)return ht(U,P,Yu(U,B),te);lc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(U,P.sibling),te=h(P,B),te.return=U,U=te):(a(U,P),te=Ef(B,U.mode,te),te.return=U,U=te),v(U)):a(U,P)}return function(U,P,B,te){try{hl=0;var ye=ht(U,P,B,te);return Ua=null,ye}catch(Ee){if(Ee===nl||Ee===Xu)throw Ee;var Ue=On(29,Ee,null,U.mode);return Ue.lanes=te,Ue.return=U,Ue}finally{}}}var ja=Ty(!0),Sy=Ty(!1),Yn=Q(null),Di=null;function Vr(t){var i=t.alternate;Y(qt,qt.current&1),Y(Yn,t),Di===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Di=t)}function Ay(t){if(t.tag===22){if(Y(qt,qt.current),Y(Yn,t),Di===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Di=t)}}else kr()}function kr(){Y(qt,qt.current),Y(Yn,Yn.current)}function ir(t){ne(Yn),Di===t&&(Di=null),ne(qt)}var qt=Q(0);function uc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Vn(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=xr(t,h,l),i!==null&&(kn(i,t,l),rl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Vn(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=xr(t,h,l),i!==null&&(kn(i,t,l),rl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Vn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=xr(t,l,a),i!==null&&(kn(i,t,a),rl(i,t,a))}};function by(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function wy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&td.enqueueReplaceState(i,i.state,null)}function Ks(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ry(t){cc(t)}function Iy(t){console.error(t)}function Cy(t){cc(t)}function hc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Dy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,i)},a}function Oy(t){return t=Nr(t),t.tag=3,t}function Ny(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Dy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Dy(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function EA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Jo(i,a,h,!0),a=Yn.current,a!==null){switch(a.tag){case 13:return Di===null?Rd():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Nf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Cd(t,l,h)),!1;case 22:return a.flags|=65536,l===Nf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Cd(t,l,h)),!1}throw Error(s(435,a.tag))}return Cd(t,l,h),Rd(),!1}if(tt)return i=Yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bf&&(t=Error(s(422),{cause:l}),Zo(Fn(t,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),Zo(Fn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,a),h=nd(t.stateNode,l,h),Vf(t,h),Rt!==4&&(Rt=2)),!1;var d=Error(s(520),{cause:l});if(d=Fn(d,a),vl===null?vl=[d]:vl.push(d),Rt!==4&&(Rt=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,l,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Oy(h),Ny(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var xy=Error(s(461)),$t=!1;function tn(t,i,a,l){i.child=t===null?Sy(i,null,a,l):ja(i,t.child,a,l)}function My(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Hs(i),l=jf(t,i,a,v,d,h),b=zf(),t!==null&&!$t?(Bf(t,i,h),rr(t,i,h)):(tt&&b&&Sf(i),i.flags|=1,tn(t,i,l,h),i.child)}function Vy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!vf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ky(t,i,d,l,h)):(t=Fu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!cd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(v,l)&&t.ref===i.ref)return rr(t,i,h)}return i.flags|=1,t=Wi(d,l),t.ref=i.ref,t.return=i,i.child=t}function ky(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if($t=!1,i.pendingProps=l=d,cd(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,rr(t,i,h)}return id(t,i,a,l,h)}function Py(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ly(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&$u(i,d!==null?d.cachePool:null),d!==null?kg(i,d):Pf(),Ay(i);else return i.lanes=i.childLanes=536870912,Ly(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?($u(i,d.cachePool),kg(i,d),kr(),i.memoizedState=null):(t!==null&&$u(i,null),Pf(),kr());return tn(t,i,h,a),i.child}function Ly(t,i,a,l){var h=Of();return h=h===null?null:{parent:Bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&$u(i,null),Pf(),Ay(i),t!==null&&Jo(t,i,l,!0),null}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function id(t,i,a,l,h){return Hs(i),a=jf(t,i,a,l,void 0,h),l=zf(),t!==null&&!$t?(Bf(t,i,h),rr(t,i,h)):(tt&&l&&Sf(i),i.flags|=1,tn(t,i,a,h),i.child)}function Uy(t,i,a,l,h,d){return Hs(i),i.updateQueue=null,a=Lg(i,l,a,h),Pg(t),l=zf(),t!==null&&!$t?(Bf(t,i,d),rr(t,i,d)):(tt&&l&&Sf(i),i.flags|=1,tn(t,i,a,d),i.child)}function jy(t,i,a,l,h){if(Hs(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=ln(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?ln(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ed(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&td.enqueueReplaceState(d,d.state,null),al(i,l,d,h),sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,M=Ks(a,b);d.props=M;var F=d.context,Z=a.contextType;v=Da,typeof Z=="object"&&Z!==null&&(v=ln(Z));var ie=a.getDerivedStateFromProps;Z=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==v)&&wy(i,d,l,v),Or=!1;var G=i.memoizedState;d.state=G,al(i,l,d,h),sl(),F=i.memoizedState,b||G!==F||Or?(typeof ie=="function"&&(ed(i,a,ie,l),F=i.memoizedState),(M=Or||by(i,a,M,l,G,F,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),v=i.memoizedProps,Z=Ks(a,v),d.props=Z,ie=i.pendingProps,G=d.context,F=a.contextType,M=Da,typeof F=="object"&&F!==null&&(M=ln(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ie||G!==M)&&wy(i,d,l,M),Or=!1,G=i.memoizedState,d.state=G,al(i,l,d,h),sl();var K=i.memoizedState;v!==ie||G!==K||Or||t!==null&&t.dependencies!==null&&Qu(t.dependencies)?(typeof b=="function"&&(ed(i,a,b,l),K=i.memoizedState),(Z=Or||by(i,a,Z,l,G,K,M)||t!==null&&t.dependencies!==null&&Qu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=M,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ja(i,t.child,null,h),i.child=ja(i,null,a,h)):tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=rr(t,i,h),t}function zy(t,i,a,l){return Wo(),i.flags|=256,tn(t,i,a,l),i.child}var rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(t){return{baseLanes:t,cachePool:Ig()}}function ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=$n),t}function By(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?Vr(i):kr(),tt){var b=wt,M;if(M=b){e:{for(M=b,b=Ci;M.nodeType!==8;){if(!b){b=null;break e}if(M=oi(M.nextSibling),M===null){b=null;break e}}b=M}b!==null?(i.memoizedState={dehydrated:b,treeContext:Us!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},M=On(18,null,null,0),M.stateNode=b,M.return=i,i.child=M,_n=i,wt=null,M=!0):M=!1}M||Bs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Hd(b)?i.lanes=32:i.lanes=536870912,null;ir(i)}return b=l.children,l=l.fallback,h?(kr(),h=i.mode,b=dc({mode:"hidden",children:b},h),l=Ls(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(t,v,a),i.memoizedState=rd,l):(Vr(i),od(i,b))}if(M=t.memoizedState,M!==null&&(b=M.dehydrated,b!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=ld(t,i,a)):i.memoizedState!==null?(kr(),i.child=t.child,i.flags|=128,i=null):(kr(),h=l.fallback,b=i.mode,l=dc({mode:"visible",children:l.children},b),h=Ls(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ja(i,t.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(t,v,a),i.memoizedState=rd,i=h);else if(Vr(i),Hd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=ld(t,i,a)}else if($t||Jo(t,i,a,!1),v=(a&t.childLanes)!==0,$t||v){if(v=pt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,Ca(t,l),kn(v,t,l),xy;b.data==="$?"||Rd(),i=ld(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=M.treeContext,wt=oi(b.nextSibling),_n=i,tt=!0,zs=null,Ci=!1,t!==null&&(Kn[Qn++]=Zi,Kn[Qn++]=Ji,Kn[Qn++]=Us,Zi=t.id,Ji=t.overflow,Us=i),i=od(i,l.children),i.flags|=4096);return i}return h?(kr(),h=l.fallback,b=i.mode,M=t.child,F=M.sibling,l=Wi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,F!==null?h=Wi(F,h):(h=Ls(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=sd(a):(M=b.cachePool,M!==null?(F=Bt._currentValue,M=M.parent!==F?{parent:F,pool:F}:M):M=Ig(),b={baseLanes:b.baseLanes|a,cachePool:M}),h.memoizedState=b,h.childLanes=ad(t,v,a),i.memoizedState=rd,l):(Vr(i),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function od(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=On(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ld(t,i,a){return ja(i,t.child,null,a),t=od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function qy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function ud(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Hy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(tn(t,i,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qy(t,a,i);else if(t.tag===19)qy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Y(qt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ud(i,!0,a,null,d);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Wi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function cd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Qu(t)))}function TA(t,i,a){switch(i.tag){case 3:_e(i,i.stateNode.containerInfo),Dr(i,Bt,t.memoizedState.cache),Wo();break;case 27:case 5:et(i);break;case 4:_e(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?By(t,i,a):(Vr(i),t=rr(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Jo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Hy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(qt,qt.current),l)break;return null;case 22:case 23:return i.lanes=0,Py(t,i,a);case 24:Dr(i,Bt,t.memoizedState.cache)}return rr(t,i,a)}function Fy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!cd(t,a)&&(i.flags&128)===0)return $t=!1,TA(t,i,a);$t=(t.flags&131072)!==0}else $t=!1,tt&&(i.flags&1048576)!==0&&Eg(i,Ku,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vf(l)?(t=Ks(l,t),i.tag=1,i=jy(null,i,l,t,a)):(i.tag=0,i=id(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=My(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=Vy(null,i,l,t,a);break e}}throw i=ke(l)||l,Error(s(306,i,""))}}return i;case 0:return id(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ks(l,i.pendingProps),jy(t,i,l,h,a);case 3:e:{if(_e(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),al(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Dr(i,Bt,l),l!==d.cache&&If(i,[Bt],a,!0),sl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=zy(t,i,l,a);break e}else if(l!==h){h=Fn(Error(s(424)),i),Zo(h),i=zy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=oi(t.firstChild),_n=i,tt=!0,zs=null,Ci=!0,a=Sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wo(),l===h){i=rr(t,i,a);break e}tn(t,i,l,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=Y_(i.type,null,i.pendingProps,null))?i.memoizedState=a:tt||(a=i.type,t=i.pendingProps,l=Ic(ge.current).createElement(a),l[Ut]=i,l[xt]=t,rn(l,a,t),It(l),i.stateNode=l):i.memoizedState=Y_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return et(i),t===null&&tt&&(l=i.stateNode=G_(i.type,i.pendingProps,ge.current),_n=i,Ci=!0,h=wt,Fr(i.type)?(Fd=h,wt=oi(l.firstChild)):wt=h),tn(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=l=wt)&&(l=$A(l,i.type,i.pendingProps,Ci),l!==null?(i.stateNode=l,_n=i,wt=oi(l.firstChild),Ci=!1,h=!0):h=!1),h||Bs(i)),et(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,zd(h,d)?l=null:v!==null&&zd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(t,i,dA,null,null,a),Cl._currentValue=h),fc(t,i),tn(t,i,l,a),i.child;case 6:return t===null&&tt&&((t=a=wt)&&(a=XA(a,i.pendingProps,Ci),a!==null?(i.stateNode=a,_n=i,wt=null,t=!0):t=!1),t||Bs(i)),null;case 13:return By(t,i,a);case 4:return _e(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ja(i,null,l,a):tn(t,i,l,a),i.child;case 11:return My(t,i,i.type,i.pendingProps,a);case 7:return tn(t,i,i.pendingProps,a),i.child;case 8:return tn(t,i,i.pendingProps.children,a),i.child;case 12:return tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hs(i),h=ln(h),l=l(h),i.flags|=1,tn(t,i,l,a),i.child;case 14:return Vy(t,i,i.type,i.pendingProps,a);case 15:return ky(t,i,i.type,i.pendingProps,a);case 19:return Hy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=dc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Wi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Py(t,i,a);case 24:return Hs(i),l=ln(Bt),t===null?(h=Of(),h===null&&(h=pt,d=Cf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),Dr(i,Bt,h)):((t.lanes&a)!==0&&(Mf(t,i),al(i,null,null,a),sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,Bt,l)):(l=d.cache,Dr(i,Bt,l),l!==h.cache&&If(i,[Bt],a,!0))),tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function sr(t){t.flags|=4}function Gy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!J_(i)){if(i=Yn.current,i!==null&&((Ye&4194048)===Ye?Di!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==Di))throw il=Nf,Cg;t.flags|=8192}}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Oo():536870912,t.lanes|=i,Ha|=i)}function dl(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function SA(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),tr(Bt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?sr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ag())),Tt(i),null;case 26:return a=i.memoizedState,t===null?(sr(i),a!==null?(Tt(i),Gy(i,a)):(Tt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(sr(i),Tt(i),Gy(i,a)):(Tt(i),i.flags&=-16777217):(t.memoizedProps!==l&&sr(i),Tt(i),i.flags&=-16777217),null;case 27:Ie(i),a=ge.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}t=he.current,Xo(i)?Tg(i):(t=G_(h,l,a),i.stateNode=t,sr(i))}return Tt(i),null;case 5:if(Ie(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}if(t=he.current,Xo(i))Tg(i);else{switch(h=Ic(ge.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ut]=i,t[xt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(rn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&sr(i)}}return Tt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&sr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,Xo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=_n,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||U_(t.nodeValue,a)),t||Bs(i)}else t=Ic(t).createTextNode(l),t[Ut]=i,i.stateNode=t}return Tt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ut]=i}else Wo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),h=!1}else h=Ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ir(i),i):(ir(i),null)}if(ir(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),Tt(i),null;case 4:return Ne(),t===null&&kd(i.stateNode.containerInfo),Tt(i),null;case 10:return tr(i.type),Tt(i),null;case 19:if(ne(qt),h=i.memoizedState,h===null)return Tt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=uc(t),d!==null){for(i.flags|=128,dl(h,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)vg(a,t),a=a.sibling;return Y(qt,qt.current&1|2),i.child}t=t.sibling}h.tail!==null&&st()>yc&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=uc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!tt)return Tt(i),null}else 2*st()-h.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=st(),i.sibling=null,t=qt.current,Y(qt,l?t&1|2:t&1),i):(Tt(i),null);case 22:case 23:return ir(i),Lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ne(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),tr(Bt),Tt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function AA(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return tr(Bt),Ne(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ie(i),null;case 13:if(ir(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(qt),null;case 4:return Ne(),null;case 10:return tr(i.type),null;case 22:case 23:return ir(i),Lf(),t!==null&&ne(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return tr(Bt),null;case 25:return null;default:return null}}function Ky(t,i){switch(Af(i),i.tag){case 3:tr(Bt),Ne();break;case 26:case 27:case 5:Ie(i);break;case 4:Ne();break;case 13:ir(i);break;case 19:ne(qt);break;case 10:tr(i.type);break;case 22:case 23:ir(i),Lf(),t!==null&&ne(Fs);break;case 24:tr(Bt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){ft(i,i.return,b)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var M=a,F=b;try{F()}catch(Z){ft(h,M,Z)}}}l=l.next}while(l!==d)}}catch(Z){ft(i,i.return,Z)}}function Qy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Vg(i,a)}catch(l){ft(t,t.return,l)}}}function Yy(t,i,a){a.props=Ks(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ft(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ft(t,i,h)}}function Oi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ft(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ft(t,i,h)}else a.current=null}function $y(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ft(t,t.return,h)}}function hd(t,i,a){try{var l=t.stateNode;FA(l,t.type,a,i),l[xt]=i}catch(h){ft(t,t.return,h)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rc));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(dd(t,i,a),t=t.sibling;t!==null;)dd(t,i,a),t=t.sibling}function pc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function Wy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);rn(i,l,a),i[Ut]=t,i[xt]=a}catch(d){ft(t,t.return,d)}}var ar=!1,Dt=!1,md=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function bA(t,i){if(t=t.containerInfo,Ud=Mc,t=ug(t),ff(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,M=-1,F=0,Z=0,ie=t,G=null;t:for(;;){for(var K;ie!==a||h!==0&&ie.nodeType!==3||(b=v+h),ie!==d||l!==0&&ie.nodeType!==3||(M=v+l),ie.nodeType===3&&(v+=ie.nodeValue.length),(K=ie.firstChild)!==null;)G=ie,ie=K;for(;;){if(ie===t)break t;if(G===a&&++F===h&&(b=v),G===d&&++Z===l&&(M=v),(K=ie.nextSibling)!==null)break;ie=G,G=ie.parentNode}ie=K}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},Mc=!1,Xt=i;Xt!==null;)if(i=Xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Xt=t;else for(;Xt!==null;){switch(i=Xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Ks(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ft(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Xt=t;break}Xt=i.return}}function Jy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(t,a),l&4&&ml(5,a);break;case 1:if(Lr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ft(a,a.return,v)}else{var h=Ks(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ft(a,a.return,v)}}l&64&&Qy(a),l&512&&pl(a,a.return);break;case 3:if(Lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Vg(t,i)}catch(v){ft(a,a.return,v)}}break;case 27:i===null&&l&4&&Wy(a);case 26:case 5:Lr(t,a),i===null&&l&4&&$y(a),l&512&&pl(a,a.return);break;case 12:Lr(t,a);break;case 13:Lr(t,a),l&4&&n_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=MA.bind(null,a),WA(t,a))));break;case 22:if(l=a.memoizedState!==null||ar,!l){i=i!==null&&i.memoizedState!==null||Dt,h=ar;var d=Dt;ar=l,(Dt=i)&&!d?Ur(t,a,(a.subtreeFlags&8772)!==0):Lr(t,a),ar=h,Dt=d}break;case 30:break;default:Lr(t,a)}}function e_(t){var i=t.alternate;i!==null&&(t.alternate=null,e_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&wr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,An=!1;function or(t,i,a){for(a=a.child;a!==null;)t_(t,i,a),a=a.sibling}function t_(t,i,a){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Me,a)}catch{}switch(a.tag){case 26:Dt||Oi(a,i),or(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Oi(a,i);var l=_t,h=An;Fr(a.type)&&(_t=a.stateNode,An=!1),or(t,i,a),bl(a.stateNode),_t=l,An=h;break;case 5:Dt||Oi(a,i);case 6:if(l=_t,h=An,_t=null,or(t,i,a),_t=l,An=h,_t!==null)if(An)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(d){ft(a,i,d)}else try{_t.removeChild(a.stateNode)}catch(d){ft(a,i,d)}break;case 18:_t!==null&&(An?(t=_t,H_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xl(t)):H_(_t,a.stateNode));break;case 4:l=_t,h=An,_t=a.stateNode.containerInfo,An=!0,or(t,i,a),_t=l,An=h;break;case 0:case 11:case 14:case 15:Dt||Pr(2,a,i),Dt||Pr(4,a,i),or(t,i,a);break;case 1:Dt||(Oi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Yy(a,i,l)),or(t,i,a);break;case 21:or(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,or(t,i,a),Dt=l;break;default:or(t,i,a)}}function n_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){ft(i,i.return,a)}}function wA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Zy),i;default:throw Error(s(435,t.tag))}}function pd(t,i){var a=wA(t);i.forEach(function(l){var h=VA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Nn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Fr(b.type)){_t=b.stateNode,An=!1;break e}break;case 5:_t=b.stateNode,An=!1;break e;case 3:case 4:_t=b.stateNode.containerInfo,An=!0;break e}b=b.return}if(_t===null)throw Error(s(160));t_(d,v,h),_t=null,An=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)i_(i,t),i=i.sibling}var ai=null;function i_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(i,t),xn(t),l&4&&(Pr(3,t,t.return),ml(3,t),Pr(5,t,t.return));break;case 1:Nn(i,t),xn(t),l&512&&(Dt||a===null||Oi(a,a.return)),l&64&&ar&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ai;if(Nn(i,t),xn(t),l&512&&(Dt||a===null||Oi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ts]||d[Ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),rn(d,l,a),d[Ut]=t,It(d),l=d;break e;case"link":var v=W_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=W_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ut]=t,It(d),l=d}t.stateNode=l}else Z_(h,t.type,t.stateNode);else t.stateNode=X_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Z_(h,t.type,t.stateNode):X_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&hd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Nn(i,t),xn(t),l&512&&(Dt||a===null||Oi(a,a.return)),a!==null&&l&4&&hd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Nn(i,t),xn(t),l&512&&(Dt||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{zn(h,"")}catch(K){ft(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,hd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(Nn(i,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){ft(t,t.return,K)}}break;case 3:if(Oc=null,h=ai,ai=Cc(i.containerInfo),Nn(i,t),ai=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(K){ft(t,t.return,K)}md&&(md=!1,r_(t));break;case 4:l=ai,ai=Cc(t.stateNode.containerInfo),Nn(i,t),xn(t),ai=l;break;case 12:Nn(i,t),xn(t);break;case 13:Nn(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=st()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:h=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,F=ar,Z=Dt;if(ar=F||h,Dt=Z||M,Nn(i,t),Dt=Z,ar=F,xn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||M||ar||Dt||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(d=M.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=M.stateNode;var ie=M.memoizedProps.style,G=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ft(M,M.return,K)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(K){ft(M,M.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:Nn(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:Nn(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Xy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=fd(t);pc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(zn(v,""),a.flags&=-33);var b=fd(t);pc(t,b,v);break;case 3:case 4:var M=a.stateNode.containerInfo,F=fd(t);dd(t,F,M);break;default:throw Error(s(161))}}catch(Z){ft(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Lr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jy(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Qs(i);break;case 1:Oi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Yy(i,i.return,a),Qs(i);break;case 27:bl(i.stateNode);case 26:case 5:Oi(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function Ur(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(h,d,a),ml(4,d);break;case 1:if(Ur(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){ft(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)Mg(M[h],b)}catch(F){ft(l,l.return,F)}}a&&v&64&&Qy(d),pl(d,d.return);break;case 27:Wy(d);case 26:case 5:Ur(h,d,a),a&&l===null&&v&4&&$y(d),pl(d,d.return);break;case 12:Ur(h,d,a);break;case 13:Ur(h,d,a),a&&v&4&&n_(h,d);break;case 22:d.memoizedState===null&&Ur(h,d,a),pl(d,d.return);break;case 30:break;default:Ur(h,d,a)}i=i.sibling}}function gd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&el(a))}function yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t))}function Ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)s_(t,i,a,l),i=i.sibling}function s_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ni(t,i,a,l),h&2048&&ml(9,i);break;case 1:Ni(t,i,a,l);break;case 3:Ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&el(t)));break;case 12:if(h&2048){Ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){ft(i,i.return,M)}}else Ni(t,i,a,l);break;case 13:Ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ni(t,i,a,l):gl(t,i):d._visibility&2?Ni(t,i,a,l):(d._visibility|=2,za(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gd(v,i);break;case 24:Ni(t,i,a,l),h&2048&&yd(i.alternate,i);break;default:Ni(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,b=a,M=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:za(d,v,b,M,h),ml(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?za(d,v,b,M,h):gl(d,v):(Z._visibility|=2,za(d,v,b,M,h)),h&&F&2048&&gd(v.alternate,v);break;case 24:za(d,v,b,M,h),h&&F&2048&&yd(v.alternate,v);break;default:za(d,v,b,M,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&gd(l.alternate,l);break;case 24:gl(a,l),h&2048&&yd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function Ba(t){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 26:Ba(t),t.flags&yl&&t.memoizedState!==null&&cb(ai,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var i=ai;ai=Cc(t.stateNode.containerInfo),Ba(t),ai=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=yl,yl=16777216,Ba(t),yl=i):Ba(t));break;default:Ba(t)}}function o_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xt=l,u_(l,t)}o_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)l_(t),t=t.sibling}function l_(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,gc(t)):_l(t);break;default:_l(t)}}function gc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xt=l,u_(l,t)}o_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),gc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,gc(i));break;default:gc(i)}t=t.sibling}}function u_(t,i){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var h=l.sibling,d=l.return;if(e_(l),l===a){Xt=null;break e}if(h!==null){h.return=d,Xt=h;break e}Xt=d}}}var RA={getCacheForType:function(t){var i=ln(Bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},IA=typeof WeakMap=="function"?WeakMap:Map,at=0,pt=null,ze=null,Ye=0,ot=0,Mn=null,jr=!1,qa=!1,_d=!1,lr=0,Rt=0,zr=0,Ys=0,vd=0,$n=0,Ha=0,vl=null,bn=null,Ed=!1,Td=0,yc=1/0,_c=null,Br=null,nn=0,qr=null,Fa=null,Ga=0,Sd=0,Ad=null,c_=null,El=0,bd=null;function Vn(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if(W.T!==null){var t=xa;return t!==0?t:Nd()}return Ar()}function h_(){$n===0&&($n=(Ye&536870912)===0||tt?Do():536870912);var t=Yn.current;return t!==null&&(t.flags|=32),$n}function kn(t,i,a){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hr(t,Ye,$n,!1)),zi(t,a),((at&2)===0||t!==pt)&&(t===pt&&((at&2)===0&&(Ys|=a),Rt===4&&Hr(t,Ye,$n,!1)),xi(t))}function f_(t,i,a){if((at&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Es(t,i),h=l?OA(t,i):Id(t,i,!0),d=l;do{if(h===0){qa&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!CA(a)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=vl;var M=b.current.memoizedState.isDehydrated;if(M&&(Ka(b,v).flags|=256),v=Id(b,v,!1),v!==2){if(_d&&!M){b.errorRecoveryDisabledLanes|=d,Ys|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,$n,!jr);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Td+300-st(),10<h)){if(Hr(l,i,$n,!jr),ua(l,0,!0)!==0)break e;l.timeoutHandle=B_(d_.bind(null,l,a,bn,_c,Ed,i,$n,Ys,Ha,jr,d,2,-0,0),h);break e}d_(l,a,bn,_c,Ed,i,$n,Ys,Ha,jr,d,0,-0,0)}}break}while(!0);xi(t)}function d_(t,i,a,l,h,d,v,b,M,F,Z,ie,G,K){if(t.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:ub},a_(i),ie=hb(),ie!==null)){t.cancelPendingCommit=ie(E_.bind(null,t,i,d,a,l,h,v,b,M,Z,1,G,K)),Hr(t,d,v,!F);return}E_(t,i,d,a,l,h,v,b,M)}function CA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~vd,i&=~Ys,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Nt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&yi(t,a,i)}function vc(){return(at&6)===0?(Tl(0),!1):!0}function wd(){if(ze!==null){if(ot===0)var t=ze.return;else t=ze,er=qs=null,qf(t),Ua=null,hl=0,t=ze;for(;t!==null;)Ky(t.alternate,t),t=t.return;ze=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,KA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wd(),pt=t,ze=a=Wi(t.current,null),Ye=i,ot=0,Mn=null,jr=!1,qa=Es(t,i),_d=!1,Ha=$n=vd=Ys=zr=Rt=0,bn=vl=null,Ed=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Nt(l),d=1<<h;i|=t[h],l&=~d}return lr=i,Bu(),a}function m_(t,i){Pe=null,W.H=ac,i===nl||i===Xu?(i=Ng(),ot=3):i===Cg?(i=Ng(),ot=4):ot=i===xy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mn=i,ze===null&&(Rt=1,hc(t,Fn(i,t.current)))}function p_(){var t=W.H;return W.H=ac,t===null?ac:t}function g_(){var t=W.A;return W.A=RA,t}function Rd(){Rt=4,jr||(Ye&4194048)!==Ye&&Yn.current!==null||(qa=!0),(zr&134217727)===0&&(Ys&134217727)===0||pt===null||Hr(pt,Ye,$n,!1)}function Id(t,i,a){var l=at;at|=2;var h=p_(),d=g_();(pt!==t||Ye!==i)&&(_c=null,Ka(t,i)),i=!1;var v=Rt;e:do try{if(ot!==0&&ze!==null){var b=ze,M=Mn;switch(ot){case 8:wd(),v=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(i=!0);var F=ot;if(ot=0,Mn=null,Qa(t,b,M,F),a&&qa){v=0;break e}break;default:F=ot,ot=0,Mn=null,Qa(t,b,M,F)}}DA(),v=Rt;break}catch(Z){m_(t,Z)}while(!0);return i&&t.shellSuspendCounter++,er=qs=null,at=l,W.H=h,W.A=d,ze===null&&(pt=null,Ye=0,Bu()),v}function DA(){for(;ze!==null;)y_(ze)}function OA(t,i){var a=at;at|=2;var l=p_(),h=g_();pt!==t||Ye!==i?(_c=null,yc=st()+500,Ka(t,i)):qa=Es(t,i);e:do try{if(ot!==0&&ze!==null){i=ze;var d=Mn;t:switch(ot){case 1:ot=0,Mn=null,Qa(t,i,d,1);break;case 2:case 9:if(Dg(d)){ot=0,Mn=null,__(i);break}i=function(){ot!==2&&ot!==9||pt!==t||(ot=7),xi(t)},d.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Dg(d)?(ot=0,Mn=null,__(i)):(ot=0,Mn=null,Qa(t,i,d,7));break;case 5:var v=null;switch(ze.tag){case 26:v=ze.memoizedState;case 5:case 27:var b=ze;if(!v||J_(v)){ot=0,Mn=null;var M=b.sibling;if(M!==null)ze=M;else{var F=b.return;F!==null?(ze=F,Ec(F)):ze=null}break t}}ot=0,Mn=null,Qa(t,i,d,5);break;case 6:ot=0,Mn=null,Qa(t,i,d,6);break;case 8:wd(),Rt=6;break e;default:throw Error(s(462))}}NA();break}catch(Z){m_(t,Z)}while(!0);return er=qs=null,W.H=l,W.A=h,at=a,ze!==null?0:(pt=null,Ye=0,Bu(),Rt)}function NA(){for(;ze!==null&&!Fe();)y_(ze)}function y_(t){var i=Fy(t.alternate,t,lr);t.memoizedProps=t.pendingProps,i===null?Ec(t):ze=i}function __(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Uy(a,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=Uy(a,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:qf(i);default:Ky(a,i),i=ze=vg(i,lr),i=Fy(a,i,lr)}t.memoizedProps=t.pendingProps,i===null?Ec(t):ze=i}function Qa(t,i,a,l){er=qs=null,qf(i),Ua=null,hl=0;var h=i.return;try{if(EA(t,h,i,a,Ye)){Rt=1,hc(t,Fn(a,t.current)),ze=null;return}}catch(d){if(h!==null)throw ze=h,d;Rt=1,hc(t,Fn(a,t.current)),ze=null;return}i.flags&32768?(tt||l===1?t=!0:qa||(Ye&536870912)!==0?t=!1:(jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),v_(i,t)):Ec(i)}function Ec(t){var i=t;do{if((i.flags&32768)!==0){v_(i,jr);return}t=i.return;var a=SA(i.alternate,i,lr);if(a!==null){ze=a;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=t}while(i!==null);Rt===0&&(Rt=5)}function v_(t,i){do{var a=AA(t.alternate,t);if(a!==null){a.flags&=32767,ze=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ze=t;return}ze=t=a}while(t!==null);Rt=6,ze=null}function E_(t,i,a,l,h,d,v,b,M){t.cancelPendingCommit=null;do Tc();while(nn!==0);if((at&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=yf,No(t,a,d,v,b,M),t===pt&&(ze=pt=null,Ye=0),Fa=i,qr=t,Ga=a,Sd=d,Ad=h,c_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kA(En,function(){return w_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=ee.p,ee.p=2,v=at,at|=4;try{bA(t,i,a)}finally{at=v,ee.p=h,W.T=l}}nn=1,T_(),S_(),A_()}}function T_(){if(nn===1){nn=0;var t=qr,i=Fa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ee.p;ee.p=2;var h=at;at|=4;try{i_(i,t);var d=jd,v=ug(t.containerInfo),b=d.focusedElem,M=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&lg(b.ownerDocument.documentElement,b)){if(M!==null&&ff(b)){var F=M.start,Z=M.end;if(Z===void 0&&(Z=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(Z,b.value.length);else{var ie=b.ownerDocument||document,G=ie&&ie.defaultView||window;if(G.getSelection){var K=G.getSelection(),Re=b.textContent.length,Se=Math.min(M.start,Re),ht=M.end===void 0?Se:Math.min(M.end,Re);!K.extend&&Se>ht&&(v=ht,ht=Se,Se=v);var U=og(b,Se),P=og(b,ht);if(U&&P&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var B=ie.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),Se>ht?(K.addRange(B),K.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),K.addRange(B))}}}}for(ie=[],K=b;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var te=ie[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Mc=!!Ud,jd=Ud=null}finally{at=h,ee.p=l,W.T=a}}t.current=i,nn=2}}function S_(){if(nn===2){nn=0;var t=qr,i=Fa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ee.p;ee.p=2;var h=at;at|=4;try{Jy(t,i.alternate,i)}finally{at=h,ee.p=l,W.T=a}}nn=3}}function A_(){if(nn===4||nn===3){nn=0,xe();var t=qr,i=Fa,a=Ga,l=c_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,Fa=qr=null,b_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),ca(a),i=i.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Me,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=ee.p,ee.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{W.T=i,ee.p=h}}(Ga&3)!==0&&Tc(),xi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===bd?El++:(El=0,bd=t):El=0,Tl(0)}}function b_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,el(i)))}function Tc(t){return T_(),S_(),A_(),w_()}function w_(){if(nn!==5)return!1;var t=qr,i=Sd;Sd=0;var a=ca(Ga),l=W.T,h=ee.p;try{ee.p=32>a?32:a,W.T=null,a=Ad,Ad=null;var d=qr,v=Ga;if(nn=0,Fa=qr=null,Ga=0,(at&6)!==0)throw Error(s(331));var b=at;if(at|=4,l_(d.current),s_(d,d.current,v,a),at=b,Tl(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Me,d)}catch{}return!0}finally{ee.p=h,W.T=l,b_(t,i)}}function R_(t,i,a){i=Fn(a,i),i=nd(t.stateNode,i,2),t=xr(t,i,2),t!==null&&(zi(t,2),xi(t))}function ft(t,i,a){if(t.tag===3)R_(t,t,a);else for(;i!==null;){if(i.tag===3){R_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Fn(a,t),a=Oy(2),l=xr(i,a,2),l!==null&&(Ny(a,l,i,t),zi(l,2),xi(l));break}}i=i.return}}function Cd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new IA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(_d=!0,h.add(a),t=xA.bind(null,t,i,a),i.then(t,t))}function xA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(Ye&a)===a&&(Rt===4||Rt===3&&(Ye&62914560)===Ye&&300>st()-Td?(at&2)===0&&Ka(t,0):vd|=a,Ha===Ye&&(Ha=0)),xi(t)}function I_(t,i){i===0&&(i=Oo()),t=Ca(t,i),t!==null&&(zi(t,i),xi(t))}function MA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),I_(t,a)}function VA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),I_(t,a)}function kA(t,i){return dt(t,i)}var Sc=null,Ya=null,Dd=!1,Ac=!1,Od=!1,$s=0;function xi(t){t!==Ya&&t.next===null&&(Ya===null?Sc=Ya=t:Ya=Ya.next=t),Ac=!0,Dd||(Dd=!0,LA())}function Tl(t,i){if(!Od&&Ac){Od=!0;do for(var a=!1,l=Sc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,N_(l,d))}else d=Ye,d=ua(l,l===pt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Es(l,d)||(a=!0,N_(l,d));l=l.next}while(a);Od=!1}}function PA(){C_()}function C_(){Ac=Dd=!1;var t=0;$s!==0&&(GA()&&(t=$s),$s=0);for(var i=st(),a=null,l=Sc;l!==null;){var h=l.next,d=D_(l,i);d===0?(l.next=null,a===null?Sc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Ac=!0)),l=h}Tl(t)}function D_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Nt(d),b=1<<v,M=h[v];M===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Co(b,i)):M<=i&&(t.expiredLanes|=b),d&=~b}if(i=pt,a=Ye,a=ua(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&We(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Es(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&We(l),ca(a)){case 2:case 8:a=mt;break;case 32:a=En;break;case 268435456:a=Un;break;default:a=En}return l=O_.bind(null,t),a=dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&We(l),t.callbackPriority=2,t.callbackNode=null,2}function O_(t,i){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Ye;return l=ua(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(f_(t,l,i),D_(t,st()),t.callbackNode!=null&&t.callbackNode===a?O_.bind(null,t):null)}function N_(t,i){if(Tc())return null;f_(t,i,!0)}function LA(){QA(function(){(at&6)!==0?dt(nt,PA):C_()})}function Nd(){return $s===0&&($s=Do()),$s}function x_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function M_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function UA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=x_((h[xt]||null).action),v=l.submitter;v&&(i=(i=v[xt]||null)?x_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new ya("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var M=v?M_(h,v):new FormData(h);Wf(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(b.preventDefault(),M=v?M_(h,v):new FormData(h),Wf(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var xd=0;xd<gf.length;xd++){var Md=gf[xd],jA=Md.toLowerCase(),zA=Md[0].toUpperCase()+Md.slice(1);si(jA,"on"+zA)}si(fg,"onAnimationEnd"),si(dg,"onAnimationIteration"),si(mg,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(iA,"onTransitionRun"),si(rA,"onTransitionStart"),si(sA,"onTransitionCancel"),si(pg,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function V_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],M=b.instance,F=b.currentTarget;if(b=b.listener,M!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(Z){cc(Z)}h.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(b=l[v],M=b.instance,F=b.currentTarget,b=b.listener,M!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(Z){cc(Z)}h.currentTarget=null,d=M}}}}function Be(t,i){var a=i[Mo];a===void 0&&(a=i[Mo]=new Set);var l=t+"__bubble";a.has(l)||(k_(i,t,2,!1),a.add(l))}function Vd(t,i,a){var l=0;i&&(l|=4),k_(a,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[bc]){t[bc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(BA.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Vd("selectionchange",!1,i))}}function k_(t,i,a,l){switch(sv(i)){case 2:var h=mb;break;case 8:h=pb;break;default:h=$d}a=h.bind(null,i,a,t),h=void 0,!qn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Pd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Bi(b),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Ru(function(){var F=d,Z=Bn(a),ie=[];e:{var G=gg.get(t);if(G!==void 0){var K=ya,Re=t;switch(t){case"keypress":if(Ai(a)===0)break e;case"keydown":case"keyup":K=Aa;break;case"focusin":Re="focus",K=Ea;break;case"focusout":Re="blur",K=Ea;break;case"beforeblur":case"afterblur":K=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Vu;break;case fg:case dg:case mg:K=Ta;break;case pg:K=Pu;break;case"scroll":case"scrollend":K=Iu;break;case"wheel":K=ba;break;case"copy":case"cut":case"paste":K=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ko;break;case"toggle":case"beforetoggle":K=Uu}var Se=(i&4)!==0,ht=!Se&&(t==="scroll"||t==="scrollend"),U=Se?G!==null?G+"Capture":null:G;Se=[];for(var P=F,B;P!==null;){var te=P;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||U===null||(te=Cs(P,U),te!=null&&Se.push(Al(P,te,B))),ht)break;P=P.return}0<Se.length&&(G=new K(G,Re,null,a,Z),ie.push({event:G,listeners:Se}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Gi&&(Re=a.relatedTarget||a.fromElement)&&(Bi(Re)||Re[jn]))break e;if((K||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Re=a.relatedTarget||a.toElement,K=F,Re=Re?Bi(Re):null,Re!==null&&(ht=u(Re),Se=Re.tag,Re!==ht||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):(K=null,Re=F),K!==Re)){if(Se=Hn,te="onMouseLeave",U="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Ko,te="onPointerLeave",U="onPointerEnter",P="pointer"),ht=K==null?G:vi(K),B=Re==null?G:vi(Re),G=new Se(te,P+"leave",K,a,Z),G.target=ht,G.relatedTarget=B,te=null,Bi(Z)===F&&(Se=new Se(U,P+"enter",Re,a,Z),Se.target=B,Se.relatedTarget=ht,te=Se),ht=te,K&&Re)t:{for(Se=K,U=Re,P=0,B=Se;B;B=$a(B))P++;for(B=0,te=U;te;te=$a(te))B++;for(;0<P-B;)Se=$a(Se),P--;for(;0<B-P;)U=$a(U),B--;for(;P--;){if(Se===U||U!==null&&Se===U.alternate)break t;Se=$a(Se),U=$a(U)}Se=null}else Se=null;K!==null&&P_(ie,G,K,Se,!1),Re!==null&&ht!==null&&P_(ie,ht,Re,Se,!0)}}e:{if(G=F?vi(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var ye=tg;else if(zt(G))if(ng)ye=eA;else{ye=ZS;var Ue=WS}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&jo(F.elementType)&&(ye=tg):ye=JS;if(ye&&(ye=ye(t,F))){Xi(ie,ye,a,Z);break e}Ue&&Ue(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Ir(G,"number",G.value)}switch(Ue=F?vi(F):window,t){case"focusin":(zt(Ue)||Ue.contentEditable==="true")&&(wa=Ue,df=F,$o=null);break;case"focusout":$o=df=wa=null;break;case"mousedown":mf=!0;break;case"contextmenu":case"mouseup":case"dragend":mf=!1,cg(ie,a,Z);break;case"selectionchange":if(nA)break;case"keydown":case"keyup":cg(ie,a,Z)}var Ee;if(Ri)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ke?X(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&a.locale!=="ko"&&(Ke||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ke&&(Ee=Bo()):(Si=Z,Cr="value"in Si?Si.value:Si.textContent,Ke=!0)),Ue=wc(F,Ae),0<Ue.length&&(Ae=new Fo(Ae,t,null,a,Z),ie.push({event:Ae,listeners:Ue}),Ee?Ae.data=Ee:(Ee=le(a),Ee!==null&&(Ae.data=Ee)))),(Ee=y?jt(t,a):Qe(t,a))&&(Ae=wc(F,"onBeforeInput"),0<Ae.length&&(Ue=new Fo("onBeforeInput","beforeinput",null,a,Z),ie.push({event:Ue,listeners:Ae}),Ue.data=Ee)),UA(ie,t,F,a,Z)}V_(ie,i)})}function Al(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Cs(t,a),h!=null&&l.unshift(Al(t,h,d)),h=Cs(t,i),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function $a(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function P_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,M=b.alternate,F=b.stateNode;if(b=b.tag,M!==null&&M===l)break;b!==5&&b!==26&&b!==27||F===null||(M=F,h?(F=Cs(a,d),F!=null&&v.unshift(Al(a,F,M))):h||(F=Cs(a,d),F!=null&&v.push(Al(a,F,M)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var qA=/\r\n?/g,HA=/\u0000|\uFFFD/g;function L_(t){return(typeof t=="string"?t:""+t).replace(qA,`
`).replace(HA,"")}function U_(t,i){return i=L_(i),L_(t)===i}function Rc(){}function ct(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zn(t,""+l);break;case"className":Ei(t,"class",l);break;case"tabIndex":Ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(t,a,l);break;case"style":Uo(t,l,d);break;case"data":if(i!=="object"){Ei(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Rr(t,"popover",l);break;case"xlinkActuate":Jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Rr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=af.get(a)||a,Rr(t,a,l))}}function Ld(t,i,a,l,h,d){switch(a){case"style":Uo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Rr(t,a,l)}}}function rn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,d,v,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),l&&ct(t,i,"src",a.src,a,null);return;case"input":Be("invalid",t);var b=d=v=h=null,M=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":M=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:ct(t,i,l,Z,a,null)}}ws(t,d,b,M,F,v,h,!1),pa(t);return;case"select":Be("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:ct(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Fi(t,!!l,i,!1):a!=null&&Fi(t,!!l,a,!0);return;case"textarea":Be("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ct(t,i,v,b,a,null)}Rs(t,l,h,d),pa(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,i,M,l,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Be(Sl[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,F,l,a,null)}return;default:if(jo(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Ld(t,i,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&ct(t,i,b,l,a,null))}function FA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,M=null,F=null,Z=null;for(K in a){var ie=a[K];if(a.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=ie;default:l.hasOwnProperty(K)||ct(t,i,K,null,l,ie)}}for(var G in l){var K=l[G];if(ie=a[G],l.hasOwnProperty(G)&&(K!=null||ie!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":Z=K;break;case"value":v=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ie&&ct(t,i,G,K,l,ie)}}Cn(t,v,b,M,F,Z,d,h);return;case"select":K=v=b=G=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(d)||ct(t,i,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==M&&ct(t,i,h,d,l,M)}i=b,a=v,l=K,G!=null?Fi(t,!!a,G,!1):!!l!=!!a&&(i!=null?Fi(t,!!a,i,!0):Fi(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ct(t,i,v,h,l,d)}lt(t,G,K);return;case"option":for(var Re in a)if(G=a[Re],a.hasOwnProperty(Re)&&G!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:ct(t,i,Re,null,l,G)}for(M in l)if(G=l[M],K=a[M],l.hasOwnProperty(M)&&G!==K&&(G!=null||K!=null))switch(M){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ct(t,i,M,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)G=a[Se],a.hasOwnProperty(Se)&&G!=null&&!l.hasOwnProperty(Se)&&ct(t,i,Se,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ct(t,i,F,G,l,K)}return;default:if(jo(i)){for(var ht in a)G=a[ht],a.hasOwnProperty(ht)&&G!==void 0&&!l.hasOwnProperty(ht)&&Ld(t,i,ht,void 0,l,G);for(Z in l)G=l[Z],K=a[Z],!l.hasOwnProperty(Z)||G===K||G===void 0&&K===void 0||Ld(t,i,Z,G,l,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&ct(t,i,U,null,l,G);for(ie in l)G=l[ie],K=a[ie],!l.hasOwnProperty(ie)||G===K||G==null&&K==null||ct(t,i,ie,G,l,K)}var Ud=null,jd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function j_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function GA(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var B_=typeof setTimeout=="function"?setTimeout:void 0,KA=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(t){return q_.resolve(null).then(t).catch(YA)}:B_;function YA(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function H_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&bl(v.documentElement),a&2&&bl(v.body),a&4)for(a=v.head,bl(a),v=a.firstChild;v;){var b=v.nextSibling,M=v.nodeName;v[Ts]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),xl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);xl(i)}function qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":qd(a),wr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function $A(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ts])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=oi(t.nextSibling),t===null)break}return null}function XA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=oi(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function WA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function oi(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Fd=null;function F_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function G_(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);wr(t)}var Xn=new Map,K_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ur=ee.d;ee.d={f:ZA,r:JA,D:eb,C:tb,L:nb,m:ib,X:sb,S:rb,M:ab};function ZA(){var t=ur.f(),i=vc();return t||i}function JA(t){var i=_i(t);i!==null&&i.tag===5&&i.type==="form"?fy(i):ur.r(t)}var Xa=typeof document>"u"?null:document;function Q_(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=Mt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),rn(i,"link",t),It(i),l.head.appendChild(i)))}}function eb(t){ur.D(t),Q_("dns-prefetch",t,null)}function tb(t,i){ur.C(t,i),Q_("preconnect",t,i)}function nb(t,i,a){ur.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+Mt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Mt(a.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}Xn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(wl(d))||i==="script"&&l.querySelector(Rl(d))||(i=l.createElement("link"),rn(i,"link",t),It(i),l.head.appendChild(i)))}}function ib(t,i){ur.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Xn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(d)))return}l=a.createElement("link"),rn(l,"link",t),It(l),a.head.appendChild(l)}}}function rb(t,i,a){ur.S(t,i,a);var l=Xa;if(l&&t){var h=pn(l).hoistableStyles,d=Wa(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(wl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Xn.get(d))&&Gd(t,a);var M=v=l.createElement("link");It(M),rn(M,"link",t),M._p=new Promise(function(F,Z){M.onload=F,M.onerror=Z}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Dc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function sb(t,i){ur.X(t,i);var a=Xa;if(a&&t){var l=pn(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=E({src:t,async:!0},i),(i=Xn.get(h))&&Kd(t,i),d=a.createElement("script"),It(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ab(t,i){ur.M(t,i);var a=Xa;if(a&&t){var l=pn(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(Rl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Xn.get(h))&&Kd(t,i),d=a.createElement("script"),It(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Y_(t,i,a,l){var h=(h=ge.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=pn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=pn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(wl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xn.set(t,a),d||ob(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=pn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+Mt(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function $_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function ob(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",a),It(i),t.head.appendChild(i))}function Za(t){return'[src="'+Mt(t)+'"]'}function Rl(t){return"script[async]"+t}function X_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(l)return i.instance=l,It(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),rn(l,"style",h),Dc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(wl(h));if(d)return i.state.loading|=4,i.instance=d,It(d),d;l=$_(a),(h=Xn.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var v=d;return v._p=new Promise(function(b,M){v.onload=b,v.onerror=M}),rn(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(Rl(d)))?(i.instance=h,It(h),h):(l=a,(h=Xn.get(d))&&(l=E({},a),Kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),rn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,t));return i.instance}function Dc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function W_(t,i,a){if(Oc===null){var l=new Map,h=Oc=new Map;h.set(a,l)}else h=Oc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ts]||d[Ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Z_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function lb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Il=null;function ub(){}function cb(t,i,a){if(Il===null)throw Error(s(475));var l=Il;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Wa(a.href),d=t.querySelector(wl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,It(d);return}d=t.ownerDocument||t,a=$_(a),(h=Xn.get(h))&&Gd(a,h),d=d.createElement("link"),It(d);var v=d;v._p=new Promise(function(b,M){v.onload=b,v.onerror=M}),rn(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Nc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function hb(){if(Il===null)throw Error(s(475));var t=Il;return t.stylesheets&&t.count===0&&Qd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Qd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(fb,t),xc=null,Nc.call(t))}function fb(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function db(t,i,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function ev(t,i,a,l,h,d,v,b,M,F,Z,ie){return t=new db(t,i,a,v,b,M,F,ie),i=1,d===!0&&(i|=24),d=On(3,null,null,i),t.current=d,d.stateNode=t,i=Cf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function tv(t){return t?(t=Da,t):Da}function nv(t,i,a,l,h,d){h=tv(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(t,l,i),a!==null&&(kn(a,t,i),rl(a,t,i))}function iv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Yd(t,i){iv(t,i),(t=t.alternate)&&iv(t,i)}function rv(t){if(t.tag===13){var i=Ca(t,67108864);i!==null&&kn(i,t,67108864),Yd(t,67108864)}}var Mc=!0;function mb(t,i,a,l){var h=W.T;W.T=null;var d=ee.p;try{ee.p=2,$d(t,i,a,l)}finally{ee.p=d,W.T=h}}function pb(t,i,a,l){var h=W.T;W.T=null;var d=ee.p;try{ee.p=8,$d(t,i,a,l)}finally{ee.p=d,W.T=h}}function $d(t,i,a,l){if(Mc){var h=Xd(l);if(h===null)Pd(t,i,l,Vc,a),av(t,l);else if(yb(h,t,i,a,l))l.stopPropagation();else if(av(t,l),i&4&&-1<gb.indexOf(t)){for(;h!==null;){var d=_i(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ni(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var M=1<<31-Nt(v);b.entanglements[1]|=M,v&=~M}xi(d),(at&6)===0&&(yc=st()+500,Tl(0))}}break;case 13:b=Ca(d,2),b!==null&&kn(b,d,2),vc(),Yd(d,2)}if(d=Xd(l),d===null&&Pd(t,i,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Pd(t,i,l,null,a)}}function Xd(t){return t=Bn(t),Wd(t)}var Vc=null;function Wd(t){if(Vc=null,t=Bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Vc=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case nt:return 2;case mt:return 8;case En:case Tn:return 32;case Un:return 268435456;default:return 32}default:return 32}}var Zd=!1,Gr=null,Kr=null,Qr=null,Dl=new Map,Ol=new Map,Yr=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Nl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=_i(i),i!==null&&rv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function yb(t,i,a,l,h){switch(i){case"focusin":return Gr=Nl(Gr,t,i,a,l,h),!0;case"dragenter":return Kr=Nl(Kr,t,i,a,l,h),!0;case"mouseover":return Qr=Nl(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Nl(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Nl(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function ov(t){var i=Bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,vu(t.priority,function(){if(a.tag===13){var l=Vn();l=Sr(l);var h=Ca(a,l);h!==null&&kn(h,a,l),Yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Gi=l,a.target.dispatchEvent(l),Gi=null}else return i=_i(a),i!==null&&rv(i),t.blockedOn=a,!1;i.shift()}return!0}function lv(t,i,a){kc(t)&&a.delete(i)}function _b(){Zd=!1,Gr!==null&&kc(Gr)&&(Gr=null),Kr!==null&&kc(Kr)&&(Kr=null),Qr!==null&&kc(Qr)&&(Qr=null),Dl.forEach(lv),Ol.forEach(lv)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_b)))}var Lc=null;function uv(t){Lc!==t&&(Lc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=_i(a);d!==null&&(t.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function xl(t){function i(M){return Pc(M,t)}Gr!==null&&Pc(Gr,t),Kr!==null&&Pc(Kr,t),Qr!==null&&Pc(Qr,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)ov(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[xt]||null;if(typeof d=="function")v||uv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[xt]||null)b=v.formAction;else if(Wd(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),uv(a)}}}function Jd(t){this._internalRoot=t}Uc.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Vn();nv(a,l,t,i,null,null)},Uc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;nv(t.current,2,null,t,null,null),vc(),i[jn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ar();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&ov(t)}};var cv=e.version;if(cv!=="19.1.0")throw Error(s(527,cv,"19.1.0"));ee.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var vb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Me=jc.inject(vb),De=jc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ry,d=Iy,v=Cy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=ev(t,1,!1,null,null,a,l,h,d,v,b,null),t[jn]=i.current,kd(t),new Jd(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ry,v=Iy,b=Cy,M=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=ev(t,1,!0,i,a??null,l,h,d,v,b,M,F),i.context=tv(null),a=i.current,l=Vn(),l=Sr(l),h=Nr(l),h.callback=null,xr(a,h,l),a=l,i.current.lanes=a,zi(i,a),xi(i),t[jn]=i.current,kd(t),new Uc(i)},Vl.version="19.1.0",Vl}var Ev;function Ob(){if(Ev)return nm.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=Db(),nm.exports}var Nb=Ob();const xb=Xm(Nb);var kl={},Tv;function Mb(){if(Tv)return kl;Tv=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=f,kl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,O){const x=new u,H=w.length;if(H<2)return x;const j=(O==null?void 0:O.decode)||E;let $=0;do{const ae=w.indexOf("=",$);if(ae===-1)break;const J=w.indexOf(";",$),fe=J===-1?H:J;if(ae>fe){$=w.lastIndexOf(";",ae-1)+1;continue}const oe=m(w,$,ae),de=p(w,ae,oe),V=w.slice(oe,de);if(x[V]===void 0){let T=m(w,ae+1,fe),S=p(w,fe,T);const A=j(w.slice(T,S));x[V]=A}$=fe+1}while($<H);return x}function m(w,O,x){do{const H=w.charCodeAt(O);if(H!==32&&H!==9)return O}while(++O<x);return x}function p(w,O,x){for(;O>x;){const H=w.charCodeAt(--O);if(H!==32&&H!==9)return O+1}return x}function g(w,O,x){const H=(x==null?void 0:x.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=H(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let $=w+"="+j;if(!x)return $;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);$+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);$+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);$+="; Path="+x.path}if(x.expires){if(!I(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);$+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&($+="; HttpOnly"),x.secure&&($+="; Secure"),x.partitioned&&($+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return $}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function I(w){return o.call(w)==="[object Date]"}return kl}Mb();var Sv="popstate";function Vb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Em("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return Pb(e,n,null,r)}function vt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ci(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kb(){return Math.random().toString(36).substring(2,10)}function Av(r,e){return{usr:r.state,key:r.key,idx:e}}function Em(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||kb()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Pb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function I(){m="POP";let j=E(),$=j==null?null:j-g;g=j,p&&p({action:m,location:H.location,delta:$})}function w(j,$){m="PUSH";let ae=Em(H.location,j,$);g=E()+1;let J=Av(ae,g),fe=H.createHref(ae);try{f.pushState(J,"",fe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(fe)}u&&p&&p({action:m,location:H.location,delta:1})}function O(j,$){m="REPLACE";let ae=Em(H.location,j,$);g=E();let J=Av(ae,g),fe=H.createHref(ae);f.replaceState(J,"",fe),u&&p&&p({action:m,location:H.location,delta:0})}function x(j){return Lb(j)}let H={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Sv,I),p=j,()=>{o.removeEventListener(Sv,I),p=null}},createHref(j){return e(o,j)},createURL:x,encodeLocation(j){let $=x(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:O,go(j){return f.go(j)}};return H}function Lb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),vt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:$l(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function r0(r,e,n="/"){return Ub(r,e,n,!1)}function Ub(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let f=s0(r);jb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Xb(u);m=Yb(f[p],g,s)}return m}function s0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(vt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=fr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(vt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),s0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Kb(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of a0(u.path))o(u,f,p)}),e}function a0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=a0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function jb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Qb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var zb=/^:[\w-]+$/,Bb=3,qb=2,Hb=1,Fb=10,Gb=-2,bv=r=>r==="*";function Kb(r,e){let n=r.split("/"),s=n.length;return n.some(bv)&&(s+=Gb),e&&(s+=qb),n.filter(o=>!bv(o)).reduce((o,u)=>o+(zb.test(u)?Bb:u===""?Hb:Fb),s)}function Qb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Yb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",I=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!I&&g&&n&&!s[s.length-1].route.index&&(I=ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!I)return null;Object.assign(o,I.params),f.push({params:o,pathname:fr([u,I.pathname]),pathnameBase:ew(fr([u,I.pathnameBase])),route:w}),I.pathnameBase!=="/"&&(u=fr([u,I.pathnameBase]))}return f}function ah(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=$b(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:I},w)=>{if(E==="*"){let x=m[w]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const O=m[w];return I&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function $b(r,e=!1,n=!0){ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Xb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Wb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r;return{pathname:n?n.startsWith("/")?n:Zb(n,e):e,search:tw(s),hash:nw(o)}}function Zb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zm(r){let e=Jb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Jm(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},vt(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),vt(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),vt(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let I=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),I-=1;o.pathname=w.join("/")}m=I>=0?e[I]:"/"}let p=Wb(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var fr=r=>r.join("/").replace(/\/\/+/g,"/"),ew=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),tw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,nw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function iw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var o0=["POST","PUT","PATCH","DELETE"];new Set(o0);var rw=["GET",...o0];new Set(rw);var vo=q.createContext(null);vo.displayName="DataRouter";var Dh=q.createContext(null);Dh.displayName="DataRouterState";var l0=q.createContext({isTransitioning:!1});l0.displayName="ViewTransition";var sw=q.createContext(new Map);sw.displayName="Fetchers";var aw=q.createContext(null);aw.displayName="Await";var mi=q.createContext(null);mi.displayName="Navigation";var ru=q.createContext(null);ru.displayName="Location";var ti=q.createContext({outlet:null,matches:[],isDataRoute:!1});ti.displayName="Route";var ep=q.createContext(null);ep.displayName="RouteError";function ow(r,{relative:e}={}){vt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(mi),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:fr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return q.useContext(ru)!=null}function ms(){return vt(Eo(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(ru).location}var u0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c0(r){q.useContext(mi).static||q.useLayoutEffect(r)}function ps(){let{isDataRoute:r}=q.useContext(ti);return r?Aw():lw()}function lw(){vt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(vo),{basename:e,navigator:n}=q.useContext(mi),{matches:s}=q.useContext(ti),{pathname:o}=ms(),u=JSON.stringify(Zm(s)),f=q.useRef(!1);return c0(()=>{f.current=!0}),q.useCallback((p,g={})=>{if(ci(f.current,u0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Jm(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var uw=q.createContext(null);function cw(r){let e=q.useContext(ti).outlet;return e&&q.createElement(uw.Provider,{value:r},e)}function hw(){let{matches:r}=q.useContext(ti),e=r[r.length-1];return e?e.params:{}}function su(r,{relative:e}={}){let{matches:n}=q.useContext(ti),{pathname:s}=ms(),o=JSON.stringify(Zm(n));return q.useMemo(()=>Jm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function fw(r,e){return h0(r,e)}function h0(r,e,n,s){var ae;vt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(mi),{matches:f}=q.useContext(ti),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",I=m&&m.route;{let J=I&&I.path||"";f0(g,!I||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=ms(),O;if(e){let J=typeof e=="string"?_o(e):e;vt(E==="/"||((ae=J.pathname)==null?void 0:ae.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),O=J}else O=w;let x=O.pathname||"/",H=x;if(E!=="/"){let J=E.replace(/^\//,"").split("/");H="/"+x.replace(/^\//,"").split("/").slice(J.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:r0(r,{pathname:H});ci(I||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),ci(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=yw(j&&j.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:fr([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:fr([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&$?q.createElement(ru.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},$):$}function dw(){let r=Sw(),e=iw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var mw=q.createElement(dw,null),pw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(ti.Provider,{value:this.props.routeContext},q.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gw({routeContext:r,match:e,children:n}){let s=q.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(ti.Provider,{value:r},n)}function yw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);vt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:I}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!I||I[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let I,w=!1,O=null,x=null;n&&(I=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||mw,f&&(m<0&&E===0?(f0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):m===E&&(w=!0,x=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),j=()=>{let $;return I?$=O:w?$=x:g.route.Component?$=q.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,q.createElement(gw,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(pw,{location:n.location,revalidation:n.revalidation,component:O,error:I,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):j()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(r){let e=q.useContext(vo);return vt(e,tp(r)),e}function vw(r){let e=q.useContext(Dh);return vt(e,tp(r)),e}function Ew(r){let e=q.useContext(ti);return vt(e,tp(r)),e}function np(r){let e=Ew(r),n=e.matches[e.matches.length-1];return vt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Tw(){return np("useRouteId")}function Sw(){var s;let r=q.useContext(ep),e=vw("useRouteError"),n=np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Aw(){let{router:r}=_w("useNavigate"),e=np("useNavigate"),n=q.useRef(!1);return c0(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{ci(n.current,u0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var wv={};function f0(r,e,n){!e&&!wv[r]&&(wv[r]=!0,ci(!1,n))}q.memo(bw);function bw({routes:r,future:e,state:n}){return h0(r,void 0,n,e)}function Ws({to:r,replace:e,state:n,relative:s}){vt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(mi);ci(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(ti),{pathname:f}=ms(),m=ps(),p=Jm(r,Zm(u),f,s==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ww(r){return cw(r.context)}function Wn(r){vt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){vt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=_o(n));let{pathname:p="/",search:g="",hash:E="",state:I=null,key:w="default"}=n,O=q.useMemo(()=>{let x=pr(p,f);return x==null?null:{location:{pathname:x,search:g,hash:E,state:I,key:w},navigationType:s}},[f,p,g,E,I,w,s]);return ci(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:q.createElement(mi.Provider,{value:m},q.createElement(ru.Provider,{children:e,value:O}))}function Iw({children:r,location:e}){return fw(Tm(r),e)}function Tm(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Tm(s.props.children,u));return}vt(s.type===Wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),vt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var Qc="get",Yc="application/x-www-form-urlencoded";function Oh(r){return r!=null&&typeof r.tagName=="string"}function Cw(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function Dw(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function Ow(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function Nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xw(r,e){return r.button===0&&(!e||e==="_self")&&!Nw(r)}var zc=null;function Mw(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var Vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!Vw.has(r)?(ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):r}function kw(r,e){let n,s,o,u,f;if(Dw(r)){let m=r.getAttribute("action");s=m?pr(m,e):null,n=r.getAttribute("method")||Qc,o=om(r.getAttribute("enctype"))||Yc,u=new FormData(r)}else if(Cw(r)||Ow(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Qc,o=om(r.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||Yc,u=new FormData(m,r),!Mw()){let{name:g,type:E,value:I}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,I)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,s=null,o=Yc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Pw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Lw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Uw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Pw(u,n);return f.links?f.links():[]}return[]}));return qw(s.flat(1).filter(Lw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Rv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var I;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jw(r,e,{includeHydrateFallback:n}={}){return zw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function zw(r){return[...new Set(r)]}function Bw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function qw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Bw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Hw=new Set([100,101,204,205]);function Fw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&pr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function d0(){let r=q.useContext(vo);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Gw(){let r=q.useContext(Dh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=q.createContext(void 0);rp.displayName="FrameworkContext";function m0(){let r=q.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function Kw(r,e){let n=q.useContext(rp),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:I}=e,w=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=$=>{$.forEach(ae=>{f(ae.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),q.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let O=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Pl(m,O),onBlur:Pl(p,x),onMouseEnter:Pl(g,O),onMouseLeave:Pl(E,x),onTouchStart:Pl(I,O)}]:[!1,w,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Qw({page:r,...e}){let{router:n}=d0(),s=q.useMemo(()=>r0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement($w,{page:r,matches:s,...e}):null}function Yw(r){let{manifest:e,routeModules:n}=m0(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Uw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function $w({page:r,matches:e,...n}){let s=ms(),{manifest:o,routeModules:u}=m0(),{basename:f}=d0(),{loaderData:m,matches:p}=Gw(),g=q.useMemo(()=>Rv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=q.useMemo(()=>Rv(r,e,p,o,s,"assets"),[r,e,p,o,s]),I=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,H=!1;if(e.forEach($=>{var J;let ae=o.routes[$.route.id];!ae||!ae.hasLoader||(!g.some(fe=>fe.route.id===$.route.id)&&$.route.id in m&&((J=u[$.route.id])!=null&&J.shouldRevalidate)||ae.hasClientLoader?H=!0:x.add($.route.id))}),x.size===0)return[];let j=Fw(r,f);return H&&x.size>0&&j.searchParams.set("_routes",e.filter($=>x.has($.route.id)).map($=>$.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,g,e,r,u]),w=q.useMemo(()=>jw(E,o),[E,o]),O=Yw(E);return q.createElement(q.Fragment,null,I.map(x=>q.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),w.map(x=>q.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),O.map(({key:x,link:H})=>q.createElement("link",{key:x,...H})))}function Xw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p0&&(window.__reactRouterVersion="7.6.0")}catch{}function Ww({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=Vb({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(Rw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y0=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:I,...w},O){let{basename:x}=q.useContext(mi),H=typeof g=="string"&&g0.test(g),j,$=!1;if(typeof g=="string"&&H&&(j=g,p0))try{let S=new URL(window.location.href),A=g.startsWith("//")?new URL(S.protocol+g):new URL(g),C=pr(A.pathname,x);A.origin===S.origin&&C!=null?g=C+A.search+A.hash:$=!0}catch{ci(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=ow(g,{relative:o}),[J,fe,oe]=Kw(s,w),de=tR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:I});function V(S){e&&e(S),S.defaultPrevented||de(S)}let T=q.createElement("a",{...w,...oe,href:j||ae,onClick:$||u?e:V,ref:Xw(O,fe),target:p,"data-discover":!H&&n==="render"?"true":void 0});return J&&!H?q.createElement(q.Fragment,null,T,q.createElement(Qw,{page:ae})):T});y0.displayName="Link";var Zw=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let I=su(f,{relative:g.relative}),w=ms(),O=q.useContext(Dh),{navigator:x,basename:H}=q.useContext(mi),j=O!=null&&aR(I)&&m===!0,$=x.encodeLocation?x.encodeLocation(I).pathname:I.pathname,ae=w.pathname,J=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ae=ae.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&H&&(J=pr(J,H)||J);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let oe=ae===$||!o&&ae.startsWith($)&&ae.charAt(fe)==="/",de=J!=null&&(J===$||!o&&J.startsWith($)&&J.charAt($.length)==="/"),V={isActive:oe,isPending:de,isTransitioning:j},T=oe?e:void 0,S;typeof s=="function"?S=s(V):S=[s,oe?"active":null,de?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let A=typeof u=="function"?u(V):u;return q.createElement(y0,{...g,"aria-current":T,className:S,ref:E,style:A,to:f,viewTransition:m},typeof p=="function"?p(V):p)});Zw.displayName="NavLink";var Jw=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Qc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:I,...w},O)=>{let x=rR(),H=sR(m,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&g0.test(m),ae=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let fe=J.nativeEvent.submitter,oe=(fe==null?void 0:fe.getAttribute("formmethod"))||f;x(fe||J.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:I})};return q.createElement("form",{ref:O,method:j,action:H,onSubmit:s?p:ae,...w,"data-discover":!$&&r==="render"?"true":void 0})});Jw.displayName="Form";function eR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _0(r){let e=q.useContext(vo);return vt(e,eR(r)),e}function tR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ps(),p=ms(),g=su(r,{relative:u});return q.useCallback(E=>{if(xw(E,e)){E.preventDefault();let I=n!==void 0?n:$l(p)===$l(g);m(r,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var nR=0,iR=()=>`__${String(++nR)}__`;function rR(){let{router:r}=_0("useSubmit"),{basename:e}=q.useContext(mi),n=Tw();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=kw(s,e);if(o.navigate===!1){let E=o.fetcherKey||iR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function sR(r,{relative:e}={}){let{basename:n}=q.useContext(mi),s=q.useContext(ti);vt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=ms();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(I=>I).forEach(I=>m.append("index",I));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fr([n,u.pathname])),$l(u)}function aR(r,e={}){let n=q.useContext(l0);vt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_0("useViewTransitionState"),o=su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ah(o.pathname,f)!=null||ah(o.pathname,u)!=null}[...Hw];const oR=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},E0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,I=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(w=64)),s.push(n[E],n[I],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(v0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const I=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||I==null)throw new uR;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),I!==64){const x=g<<6&192|I;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(r){const e=v0(r);return E0.encodeByteArray(e,!0)},oh=function(r){return cR(r).replace(/\./g,"")},T0=function(r){try{return E0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof Iv>"u")return;const r=Iv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&T0(r[1]);return e&&JSON.parse(e)},Nh=()=>{try{return oR()||fR()||dR()||mR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S0=r=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},pR=r=>{const e=S0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},A0=()=>{var r;return(r=Nh())===null||r===void 0?void 0:r.config},b0=r=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){return r.endsWith(".cloudworkstations.dev")}async function w0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}const Hl={};function _R(){const r={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?r.emulator.push(e):r.prod.push(e);return r}function vR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Cv=!1;function xh(r,e){if(typeof window>"u"||typeof document>"u"||!au(window.location.host)||Hl[r]===e||Hl[r]||Cv)return;Hl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=_R().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Cv=!0,f()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function I(){const w=vR(s),O=n("text"),x=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),j=document.getElementById(H)||document.createElement("a"),$=n("preprendIcon"),ae=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const J=w.element;m(J),E(j,H);const fe=g();p(ae,$),J.append(ae,x,j,fe),document.body.appendChild(J)}u?(x.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ER(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function TR(){var r;const e=(r=Nh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RR(){return!TR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IR(){try{return typeof indexedDB=="object"}catch{return!1}}function CR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}}class ou{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?OR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function OR(r,e){return r.replace(NR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NR=/\{\$([^}]+)}/g;function xR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Js(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Dv(u)&&Dv(f)){if(!Js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Dv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ll(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function MR(r,e){const n=new VR(r,e);return n.subscribe.bind(n)}class VR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LR(r){return r===Xs?void 0:r}function UR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const zR={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},BR=qe.INFO,qR={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},HR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const FR=(r,e)=>e.some(n=>r instanceof n);let Ov,Nv;function GR(){return Ov||(Ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KR(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R0=new WeakMap,Sm=new WeakMap,I0=new WeakMap,um=new WeakMap,ap=new WeakMap;function QR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&R0.set(n,r)}).catch(()=>{}),ap.set(e,r),e}function YR(r){if(Sm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,e)}let Am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||I0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $R(r){Am=r(Am)}function XR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(cm(this),e,...n);return I0.set(s,e.sort?e.sort():[e]),ns(s)}:KR().includes(r)?function(...e){return r.apply(cm(this),e),ns(R0.get(this))}:function(...e){return ns(r.apply(cm(this),e))}}function WR(r){return typeof r=="function"?XR(r):(r instanceof IDBTransaction&&YR(r),FR(r,GR())?new Proxy(r,Am):r)}function ns(r){if(r instanceof IDBRequest)return QR(r);if(um.has(r))return um.get(r);const e=WR(r);return e!==r&&(um.set(r,e),ap.set(e,r)),e}const cm=r=>ap.get(r);function ZR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const JR=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],hm=new Map;function xv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=e1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return hm.set(e,u),u}$R(r=>({...r,get:(e,n,s)=>xv(e,n)||r.get(e,n,s),has:(e,n)=>!!xv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function n1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Mv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new sp("@firebase/app"),i1="@firebase/app-compat",r1="@firebase/analytics-compat",s1="@firebase/analytics",a1="@firebase/app-check-compat",o1="@firebase/app-check",l1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",y1="@firebase/messaging",_1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",S1="@firebase/remote-config-compat",A1="@firebase/storage",b1="@firebase/storage-compat",w1="@firebase/firestore",R1="@firebase/vertexai",I1="@firebase/firestore-compat",C1="firebase",D1="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",O1={[bm]:"fire-core",[i1]:"fire-core-compat",[s1]:"fire-analytics",[r1]:"fire-analytics-compat",[o1]:"fire-app-check",[a1]:"fire-app-check-compat",[l1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[y1]:"fire-fcm",[_1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[S1]:"fire-rc-compat",[A1]:"fire-gcs",[b1]:"fire-gcs-compat",[w1]:"fire-fst",[I1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[C1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,N1=new Map,Rm=new Map;function Vv(r,e){try{r.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(Rm.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,r);for(const n of lh.values())Vv(n,r);for(const n of N1.values())Vv(n,r);return!0}function op(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new ou("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=D1;function C0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=A0()),!n)throw is.create("no-options");const u=lh.get(o);if(u){if(Js(n,u.options)&&Js(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new jR(o);for(const p of Rm.values())f.addComponent(p);const m=new M1(n,s,f);return lh.set(o,m),m}function D0(r=wm){const e=lh.get(r);if(!e&&r===wm&&A0())return C0();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){var s;let o=(s=O1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(m.join(" "));return}lo(new ea(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebase-heartbeat-database",k1=1,Xl="firebase-heartbeat-store";let fm=null;function O0(){return fm||(fm=ZR(V1,k1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),fm}async function P1(r){try{const n=(await O0()).transaction(Xl),s=await n.objectStore(Xl).get(N0(r));return await n.done,s}catch(e){if(e instanceof Er)gr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function kv(r,e){try{const s=(await O0()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,N0(r)),await s.done}catch(n){if(n instanceof Er)gr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(s.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1024,U1=30;class j1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Pv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>U1){const f=q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:s,unsentEntries:o}=z1(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return gr.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function z1(r,e=L1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class B1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IR()?CR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lv(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function q1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){lo(new ea("platform-logger",e=>new t1(e),"PRIVATE")),lo(new ea("heartbeat",e=>new j1(e),"PRIVATE")),rs(bm,Mv,r),rs(bm,Mv,"esm2017"),rs("fire-js","")}H1("");function lp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F1=x0,M0=new ou("auth","Firebase",x0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new sp("@firebase/auth");function G1(r,...e){uh.logLevel<=qe.WARN&&uh.warn(`Auth (${To}): ${r}`,...e)}function $c(r,...e){uh.logLevel<=qe.ERROR&&uh.error(`Auth (${To}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...e){throw up(r,...e)}function Vi(r,...e){return up(r,...e)}function V0(r,e,n){const s=Object.assign(Object.assign({},F1()),{[e]:n});return new ou("auth","Firebase",s).create(e,{appName:r.name})}function dr(r){return V0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return M0.create(r,...e)}function be(r,e,...n){if(!r)throw up(e,...n)}function cr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $c(e),new Error(e)}function yr(r,e){r||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function K1(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K1()||AR()||"connection"in navigator)?navigator.onLine:!0}function Y1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=ER()||bR()}get(){return Q1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,e){yr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W1=new uu(3e4,6e4);function gs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Tr(r,e,n,s,o={}){return P0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=lu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return SR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&au(r.emulatorConfig.host)&&(g.credentials="include"),k0.fetch()(await L0(r,r.config.apiHost,n,m),g)})}async function P0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},$1),e);try{const o=new J1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw V0(r,E,g);hi(r,E)}}catch(o){if(o instanceof Er)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function cu(r,e,n,s,o={}){const u=await Tr(r,e,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function L0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?cp(r.config,o):`${r.config.apiScheme}://${o}`;return X1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Z1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),W1.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vi(r,e,s);return o.customData._tokenResponse=n,o}function jv(r){return r!==void 0&&r.enterprise!==void 0}class eI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tI(r,e){return Tr(r,"GET","/v2/recaptchaConfig",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,e){return Tr(r,"POST","/v1/accounts:delete",e)}async function ch(r,e){return Tr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iI(r,e=!1){const n=Gt(r),s=await n.getIdToken(e),o=hp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Fl(dm(o.auth_time)),issuedAtTime:Fl(dm(o.iat)),expirationTime:Fl(dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function hp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=T0(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zv(r){const e=hp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&rI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function rI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await uo(r,ch(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?U0(u.providerUserInfo):[],m=oI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,I={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Cm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function aI(r){const e=Gt(r);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function U0(r){return r.map(e=>{var{providerId:n}=e,s=lp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(r,e){const n=await P0(r,{},async()=>{const s=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await L0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",k0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uI(r,e){return Tr(r,"POST","/v2/accounts:revokeToken",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return iI(this,e)}reload(){return aI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await uo(this,nI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ae=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:fe,isAnonymous:oe,providerData:de,stsTokenManager:V}=n;be(J&&V,e,"internal-error");const T=ro.fromJSON(this.name,V);be(typeof J=="string",e,"internal-error"),Xr(I,e.name),Xr(w,e.name),be(typeof fe=="boolean",e,"internal-error"),be(typeof oe=="boolean",e,"internal-error"),Xr(O,e.name),Xr(x,e.name),Xr(H,e.name),Xr(j,e.name),Xr($,e.name),Xr(ae,e.name);const S=new li({uid:J,auth:e,email:w,emailVerified:fe,displayName:I,isAnonymous:oe,photoURL:x,phoneNumber:O,tenantId:H,stsTokenManager:T,createdAt:$,lastLoginAt:ae});return de&&Array.isArray(de)&&(S.providerData=de.map(A=>Object.assign({},A))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?U0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function hr(r){yr(r instanceof Function,"Expected a class definition");let e=Bv.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Bv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j0.type="NONE";const qv=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(hr(qv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(qv);const f=Xc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let I;if(typeof E=="string"){const w=await ch(e,{idToken:E}).catch(()=>{});if(!w)break;I=await li._fromGetAccountInfoResponse(e,w,E)}else I=li._fromJSON(e,E);g!==u&&(m=I),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G0(e))return"Blackberry";if(K0(e))return"Webos";if(B0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(F0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function z0(r=dn()){return/firefox\//i.test(r)}function B0(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(r=dn()){return/crios\//i.test(r)}function H0(r=dn()){return/iemobile/i.test(r)}function F0(r=dn()){return/android/i.test(r)}function G0(r=dn()){return/blackberry/i.test(r)}function K0(r=dn()){return/webos/i.test(r)}function fp(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cI(r=dn()){var e;return fp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hI(){return wR()&&document.documentMode===10}function Q0(r=dn()){return fp(r)||F0(r)||K0(r)||G0(r)||/windows phone/i.test(r)||H0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,e=[]){let n;switch(r){case"Browser":n=Hv(dn());break;case"Worker":n=`${Hv(dn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e={}){return Tr(r,"GET","/v2/passwordPolicy",gs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=6;class pI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:mI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fv(this),this.idTokenSubscription=new Fv(this),this.beforeStateQueue=new fI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),s=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(dr(this));const n=e?Gt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dI(this),n=new pI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&G1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(r){return Gt(r)}class Fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=MR(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yI(r){Mh=r}function $0(r){return Mh.loadJS(r)}function _I(){return Mh.recaptchaEnterpriseScript}function vI(){return Mh.gapiScript}function EI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TI{constructor(){this.enterprise=new SI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class SI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AI="recaptcha-enterprise",X0="NO_RECAPTCHA";class bI{constructor(e){this.type=AI,this.auth=sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{tI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new eI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;jv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(X0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&jv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_I();p.length!==0&&(p+=m),$0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Gv(r,e,n,s=!1,o=!1){const u=new bI(r);let f;if(o)f=X0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Gv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Gv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r,e){const n=op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Js(u,e??{}))return o;hi(o,"already-initialized")}return n.initialize({options:e})}function RI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function II(r,e,n){const s=sa(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=W0(e),{host:f,port:m}=CI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Js(g,s.config.emulator)&&Js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,au(f)?(xh("Auth",!0),w0(`${u}//${f}${p}`)):DI()}function W0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function CI(r){const e=W0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Kv(f)}}}function Kv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function OI(r,e){return Tr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(r,e){return cu(r,"POST","/v1/accounts:signInWithPassword",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}async function MI(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends dp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,n,"signInWithPassword",NI);case"emailLink":return xI(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,s,"signUpPassword",OI);case"emailLink":return MI(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r,e){return cu(r,"POST","/v1/accounts:signInWithIdp",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="http://localhost";class ta extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=lp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ta(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:VI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PI(r){const e=Ll(Ul(r)).link,n=e?Ll(Ul(e)).deep_link_id:null,s=Ll(Ul(r)).deep_link_id;return(s?Ll(Ul(s)).link:null)||s||n||e||r}class mp{constructor(e){var n,s,o,u,f,m;const p=Ll(Ul(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,I=kI((o=p.mode)!==null&&o!==void 0?o:null);be(g&&E&&I,"argument-error"),this.apiKey=g,this.operation=I,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=PI(e);try{return new mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=mp.parseLink(n);return be(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Z0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends hu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends hu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends hu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(r,e){return cu(r,"POST","/v1/accounts:signUp",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await li._fromIdTokenResponse(e,s,o),f=Qv(s);return new na({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Qv(s);return new na({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Er{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fh(e,n,s,o)}}function J0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,u,e,s):u})}async function UI(r,e,n=!1){const s=await uo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return na._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e,n=!1){const{auth:s}=r;if(Zn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await uo(r,J0(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=hp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),na._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(r,e,n=!1){if(Zn(r.app))return Promise.reject(dr(r));const s="signIn",o=await J0(r,s,e),u=await na._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function zI(r,e){return eT(sa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tT(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dh(r,e,n){if(Zn(r.app))return Promise.reject(dr(r));const s=sa(r),f=await Dm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tT(r),p}),m=await na._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function BI(r,e,n){return Zn(r.app)?Promise.reject(dr(r)):zI(Gt(r),So.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&tT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(r,e){return Tr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,{displayName:e,photoURL:n}){const s=Gt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await uo(s,qI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function FI(r,e,n,s){return Gt(r).onIdTokenChanged(e,n,s)}function GI(r,e,n){return Gt(r).beforeAuthStateChanged(e,n)}function KI(r,e,n,s){return Gt(r).onAuthStateChanged(e,n,s)}function Vh(r){return Gt(r).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=1e3,YI=10;class iT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);hI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,YI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const $I=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rT.type="SESSION";const sT=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await XI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=pp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(I){const w=I;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function ZI(r){ki().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function JI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function tC(){return aT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="firebaseLocalStorageDb",nC=1,ph="firebaseLocalStorage",lT="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(r,e){return r.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function iC(){const r=indexedDB.deleteDatabase(oT);return new fu(r).toPromise()}function Om(){const r=indexedDB.open(oT,nC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:lT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await iC(),e(await Om()))})})}async function Yv(r,e,n){const s=Ph(r,!0).put({[lT]:e,value:n});return new fu(s).toPromise()}async function rC(r,e){const n=Ph(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function $v(r,e){const n=Ph(r,!0).delete(e);return new fu(n).toPromise()}const sC=800,aC=3;class uT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>aC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(tC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await JI(),!this.activeServiceWorker)return;this.sender=new WI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Yv(e,mh,"1"),await $v(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>rC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$v(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uT.type="LOCAL";const oC=uT;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r,e){return e?hr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uC(r){return eT(r.auth,new gp(r),r.bypassAuthState)}function cC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),jI(n,new gp(r),r.bypassAuthState)}async function hC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),UI(n,new gp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uC;case"linkViaPopup":case"linkViaRedirect":return hC;case"reauthViaPopup":case"reauthViaRedirect":return cC;default:hi(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new uu(2e3,1e4);class io extends cT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fC.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="pendingRedirect",Wc=new Map;class mC extends cT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await pC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pC(r,e){const n=_C(e),s=yC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gC(r,e){Wc.set(r._key(),e)}function yC(r){return hr(r._redirectPersistence)}function _C(r){return Xc(dC,r.config.apiKey,r.name)}async function vC(r,e,n=!1){if(Zn(r.app))return Promise.reject(dr(r));const s=sa(r),o=lC(s,e),f=await new mC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=10*60*1e3;class TC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!hT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Vi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e={}){return Tr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wC=/^https?/;async function RC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AC(r);for(const n of e)try{if(IC(n))return}catch{}hi(r,"unauthorized-domain")}function IC(r){const e=Im(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!wC.test(n))return!1;if(bC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new uu(3e4,6e4);function Wv(){const r=ki().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function DC(r){return new Promise((e,n)=>{var s,o,u;function f(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(Vi(r,"network-request-failed"))},timeout:CC.get()})}if(!((o=(s=ki().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=ki().gapi)===null||u===void 0)&&u.load)f();else{const m=EI("iframefcb");return ki()[m]=()=>{gapi.load?f():n(Vi(r,"network-request-failed"))},$0(`${vI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function OC(r){return Zc=Zc||DC(r),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new uu(5e3,15e3),xC="__/auth/iframe",MC="emulator/auth/iframe",VC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PC(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cp(e,MC):`https://${r.config.authDomain}/${xC}`,s={apiKey:e.apiKey,appName:r.name,v:To},o=kC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${lu(s).slice(1)}`}async function LC(r){const e=await OC(r),n=ki().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:PC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Vi(r,"network-request-failed"),m=ki().setTimeout(()=>{u(f)},NC.get());function p(){ki().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jC=500,zC=600,BC="_blank",qC="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HC(r,e,n,s=jC,o=zC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},UC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=dn().toLowerCase();n&&(m=q0(g)?BC:n),z0(g)&&(e=e||qC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[O,x])=>`${w}${O}=${x},`,"");if(cI(g)&&m!=="_self")return FC(e||"",m),new Zv(null);const I=window.open(e||"",m,E);be(I,r,"popup-blocked");try{I.focus()}catch{}return new Zv(I)}function FC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="__/auth/handler",KC="emulator/auth/handler",QC=encodeURIComponent("fac");async function Jv(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof Z0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",xR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))f[E]=I}if(e instanceof hu){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${QC}=${encodeURIComponent(p)}`:"";return`${YC(r)}?${lu(m).slice(1)}${g}`}function YC({config:r}){return r.emulator?cp(r,KC):`https://${r.authDomain}/${GC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class $C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=vC,this._overrideRedirectResult=gC}async _openPopup(e,n,s,o){var u;yr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Jv(e,n,s,Im(),o);return HC(e,f,pp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Jv(e,n,s,Im(),o);return ZI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(yr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await LC(e),s=new TC(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mm];f!==void 0&&n(!!f),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q0()||B0()||fp()}}const XC=$C;var eE="@firebase/auth",tE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JC(r){lo(new ea("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(r)},g=new gI(s,o,u,p);return RI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new ea("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(s=>new WC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(eE,tE,ZC(r)),rs(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=5*60,tD=b0("authIdTokenMaxAge")||eD;let nE=null;const nD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>tD)return;const o=n==null?void 0:n.token;nE!==o&&(nE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iD(r=D0()){const e=op(r,"auth");if(e.isInitialized())return e.getImmediate();const n=wI(r,{popupRedirectResolver:XC,persistence:[oC,$I,sT]}),s=b0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=nD(u.toString());GI(n,f,()=>f(n.currentUser)),FI(n,m=>f(m))}}const o=S0("auth");return o?II(n,`http://${o}`):xh("Auth",!1),n}function rD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}yI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",rD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JC("Browser");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,fT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,T){function S(){}S.prototype=T.prototype,V.D=T.prototype,V.prototype=new S,V.prototype.constructor=V,V.C=function(A,C,N){for(var D=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)D[ke-2]=arguments[ke];return T.prototype[C].apply(A,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,T,S){S||(S=0);var A=Array(16);if(typeof T=="string")for(var C=0;16>C;++C)A[C]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(C=0;16>C;++C)A[C]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=V.g[0],S=V.g[1],C=V.g[2];var N=V.g[3],D=T+(N^S&(C^N))+A[0]+3614090360&4294967295;T=S+(D<<7&4294967295|D>>>25),D=N+(C^T&(S^C))+A[1]+3905402710&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(S^N&(T^S))+A[2]+606105819&4294967295,C=N+(D<<17&4294967295|D>>>15),D=S+(T^C&(N^T))+A[3]+3250441966&4294967295,S=C+(D<<22&4294967295|D>>>10),D=T+(N^S&(C^N))+A[4]+4118548399&4294967295,T=S+(D<<7&4294967295|D>>>25),D=N+(C^T&(S^C))+A[5]+1200080426&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(S^N&(T^S))+A[6]+2821735955&4294967295,C=N+(D<<17&4294967295|D>>>15),D=S+(T^C&(N^T))+A[7]+4249261313&4294967295,S=C+(D<<22&4294967295|D>>>10),D=T+(N^S&(C^N))+A[8]+1770035416&4294967295,T=S+(D<<7&4294967295|D>>>25),D=N+(C^T&(S^C))+A[9]+2336552879&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(S^N&(T^S))+A[10]+4294925233&4294967295,C=N+(D<<17&4294967295|D>>>15),D=S+(T^C&(N^T))+A[11]+2304563134&4294967295,S=C+(D<<22&4294967295|D>>>10),D=T+(N^S&(C^N))+A[12]+1804603682&4294967295,T=S+(D<<7&4294967295|D>>>25),D=N+(C^T&(S^C))+A[13]+4254626195&4294967295,N=T+(D<<12&4294967295|D>>>20),D=C+(S^N&(T^S))+A[14]+2792965006&4294967295,C=N+(D<<17&4294967295|D>>>15),D=S+(T^C&(N^T))+A[15]+1236535329&4294967295,S=C+(D<<22&4294967295|D>>>10),D=T+(C^N&(S^C))+A[1]+4129170786&4294967295,T=S+(D<<5&4294967295|D>>>27),D=N+(S^C&(T^S))+A[6]+3225465664&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^S&(N^T))+A[11]+643717713&4294967295,C=N+(D<<14&4294967295|D>>>18),D=S+(N^T&(C^N))+A[0]+3921069994&4294967295,S=C+(D<<20&4294967295|D>>>12),D=T+(C^N&(S^C))+A[5]+3593408605&4294967295,T=S+(D<<5&4294967295|D>>>27),D=N+(S^C&(T^S))+A[10]+38016083&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^S&(N^T))+A[15]+3634488961&4294967295,C=N+(D<<14&4294967295|D>>>18),D=S+(N^T&(C^N))+A[4]+3889429448&4294967295,S=C+(D<<20&4294967295|D>>>12),D=T+(C^N&(S^C))+A[9]+568446438&4294967295,T=S+(D<<5&4294967295|D>>>27),D=N+(S^C&(T^S))+A[14]+3275163606&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^S&(N^T))+A[3]+4107603335&4294967295,C=N+(D<<14&4294967295|D>>>18),D=S+(N^T&(C^N))+A[8]+1163531501&4294967295,S=C+(D<<20&4294967295|D>>>12),D=T+(C^N&(S^C))+A[13]+2850285829&4294967295,T=S+(D<<5&4294967295|D>>>27),D=N+(S^C&(T^S))+A[2]+4243563512&4294967295,N=T+(D<<9&4294967295|D>>>23),D=C+(T^S&(N^T))+A[7]+1735328473&4294967295,C=N+(D<<14&4294967295|D>>>18),D=S+(N^T&(C^N))+A[12]+2368359562&4294967295,S=C+(D<<20&4294967295|D>>>12),D=T+(S^C^N)+A[5]+4294588738&4294967295,T=S+(D<<4&4294967295|D>>>28),D=N+(T^S^C)+A[8]+2272392833&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^S)+A[11]+1839030562&4294967295,C=N+(D<<16&4294967295|D>>>16),D=S+(C^N^T)+A[14]+4259657740&4294967295,S=C+(D<<23&4294967295|D>>>9),D=T+(S^C^N)+A[1]+2763975236&4294967295,T=S+(D<<4&4294967295|D>>>28),D=N+(T^S^C)+A[4]+1272893353&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^S)+A[7]+4139469664&4294967295,C=N+(D<<16&4294967295|D>>>16),D=S+(C^N^T)+A[10]+3200236656&4294967295,S=C+(D<<23&4294967295|D>>>9),D=T+(S^C^N)+A[13]+681279174&4294967295,T=S+(D<<4&4294967295|D>>>28),D=N+(T^S^C)+A[0]+3936430074&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^S)+A[3]+3572445317&4294967295,C=N+(D<<16&4294967295|D>>>16),D=S+(C^N^T)+A[6]+76029189&4294967295,S=C+(D<<23&4294967295|D>>>9),D=T+(S^C^N)+A[9]+3654602809&4294967295,T=S+(D<<4&4294967295|D>>>28),D=N+(T^S^C)+A[12]+3873151461&4294967295,N=T+(D<<11&4294967295|D>>>21),D=C+(N^T^S)+A[15]+530742520&4294967295,C=N+(D<<16&4294967295|D>>>16),D=S+(C^N^T)+A[2]+3299628645&4294967295,S=C+(D<<23&4294967295|D>>>9),D=T+(C^(S|~N))+A[0]+4096336452&4294967295,T=S+(D<<6&4294967295|D>>>26),D=N+(S^(T|~C))+A[7]+1126891415&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~S))+A[14]+2878612391&4294967295,C=N+(D<<15&4294967295|D>>>17),D=S+(N^(C|~T))+A[5]+4237533241&4294967295,S=C+(D<<21&4294967295|D>>>11),D=T+(C^(S|~N))+A[12]+1700485571&4294967295,T=S+(D<<6&4294967295|D>>>26),D=N+(S^(T|~C))+A[3]+2399980690&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~S))+A[10]+4293915773&4294967295,C=N+(D<<15&4294967295|D>>>17),D=S+(N^(C|~T))+A[1]+2240044497&4294967295,S=C+(D<<21&4294967295|D>>>11),D=T+(C^(S|~N))+A[8]+1873313359&4294967295,T=S+(D<<6&4294967295|D>>>26),D=N+(S^(T|~C))+A[15]+4264355552&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~S))+A[6]+2734768916&4294967295,C=N+(D<<15&4294967295|D>>>17),D=S+(N^(C|~T))+A[13]+1309151649&4294967295,S=C+(D<<21&4294967295|D>>>11),D=T+(C^(S|~N))+A[4]+4149444226&4294967295,T=S+(D<<6&4294967295|D>>>26),D=N+(S^(T|~C))+A[11]+3174756917&4294967295,N=T+(D<<10&4294967295|D>>>22),D=C+(T^(N|~S))+A[2]+718787259&4294967295,C=N+(D<<15&4294967295|D>>>17),D=S+(N^(C|~T))+A[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+C&4294967295,V.g[3]=V.g[3]+N&4294967295}s.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var S=T-this.blockSize,A=this.B,C=this.h,N=0;N<T;){if(C==0)for(;N<=S;)o(this,V,N),N+=this.blockSize;if(typeof V=="string"){for(;N<T;)if(A[C++]=V.charCodeAt(N++),C==this.blockSize){o(this,A),C=0;break}}else for(;N<T;)if(A[C++]=V[N++],C==this.blockSize){o(this,A),C=0;break}}this.h=C,this.o+=T},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var S=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=S&255,S/=256;for(this.u(V),V=Array(16),T=S=0;4>T;++T)for(var A=0;32>A;A+=8)V[S++]=this.g[T]>>>A&255;return V};function u(V,T){var S=m;return Object.prototype.hasOwnProperty.call(S,V)?S[V]:S[V]=T(V)}function f(V,T){this.h=T;for(var S=[],A=!0,C=V.length-1;0<=C;C--){var N=V[C]|0;A&&N==T||(S[C]=N,A=!1)}this.g=S}var m={};function p(V){return-128<=V&&128>V?u(V,function(T){return new f([T|0],0>T?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return j(g(-V));for(var T=[],S=1,A=0;V>=S;A++)T[A]=V/S|0,S*=4294967296;return new f(T,0)}function E(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return j(E(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(T,8)),A=I,C=0;C<V.length;C+=8){var N=Math.min(8,V.length-C),D=parseInt(V.substring(C,C+N),T);8>N?(N=g(Math.pow(T,N)),A=A.j(N).add(g(D))):(A=A.j(S),A=A.add(g(D)))}return A}var I=p(0),w=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-j(this).m();for(var V=0,T=1,S=0;S<this.g.length;S++){var A=this.i(S);V+=(0<=A?A:4294967296+A)*T,T*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(H(this))return"-"+j(this).toString(V);for(var T=g(Math.pow(V,6)),S=this,A="";;){var C=fe(S,T).g;S=$(S,C.j(T));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(V);if(S=C,x(S))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function H(V){return V.h==-1}r.l=function(V){return V=$(this,V),H(V)?-1:x(V)?0:1};function j(V){for(var T=V.g.length,S=[],A=0;A<T;A++)S[A]=~V.g[A];return new f(S,~V.h).add(w)}r.abs=function(){return H(this)?j(this):this},r.add=function(V){for(var T=Math.max(this.g.length,V.g.length),S=[],A=0,C=0;C<=T;C++){var N=A+(this.i(C)&65535)+(V.i(C)&65535),D=(N>>>16)+(this.i(C)>>>16)+(V.i(C)>>>16);A=D>>>16,N&=65535,D&=65535,S[C]=D<<16|N}return new f(S,S[S.length-1]&-2147483648?-1:0)};function $(V,T){return V.add(j(T))}r.j=function(V){if(x(this)||x(V))return I;if(H(this))return H(V)?j(this).j(j(V)):j(j(this).j(V));if(H(V))return j(this.j(j(V)));if(0>this.l(O)&&0>V.l(O))return g(this.m()*V.m());for(var T=this.g.length+V.g.length,S=[],A=0;A<2*T;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var C=0;C<V.g.length;C++){var N=this.i(A)>>>16,D=this.i(A)&65535,ke=V.i(C)>>>16,je=V.i(C)&65535;S[2*A+2*C]+=D*je,ae(S,2*A+2*C),S[2*A+2*C+1]+=N*je,ae(S,2*A+2*C+1),S[2*A+2*C+1]+=D*ke,ae(S,2*A+2*C+1),S[2*A+2*C+2]+=N*ke,ae(S,2*A+2*C+2)}for(A=0;A<T;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=T;A<2*T;A++)S[A]=0;return new f(S,0)};function ae(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function J(V,T){this.g=V,this.h=T}function fe(V,T){if(x(T))throw Error("division by zero");if(x(V))return new J(I,I);if(H(V))return T=fe(j(V),T),new J(j(T.g),j(T.h));if(H(T))return T=fe(V,j(T)),new J(j(T.g),T.h);if(30<V.g.length){if(H(V)||H(T))throw Error("slowDivide_ only works with positive integers.");for(var S=w,A=T;0>=A.l(V);)S=oe(S),A=oe(A);var C=de(S,1),N=de(A,1);for(A=de(A,2),S=de(S,2);!x(A);){var D=N.add(A);0>=D.l(V)&&(C=C.add(S),N=D),A=de(A,1),S=de(S,1)}return T=$(V,C.j(T)),new J(C,T)}for(C=I;0<=V.l(T);){for(S=Math.max(1,Math.floor(V.m()/T.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=g(S),D=N.j(T);H(D)||0<D.l(V);)S-=A,N=g(S),D=N.j(T);x(N)&&(N=w),C=C.add(N),V=$(V,D)}return new J(C,V)}r.A=function(V){return fe(this,V).h},r.and=function(V){for(var T=Math.max(this.g.length,V.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)&V.i(A);return new f(S,this.h&V.h)},r.or=function(V){for(var T=Math.max(this.g.length,V.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)|V.i(A);return new f(S,this.h|V.h)},r.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),S=[],A=0;A<T;A++)S[A]=this.i(A)^V.i(A);return new f(S,this.h^V.h)};function oe(V){for(var T=V.g.length+1,S=[],A=0;A<T;A++)S[A]=V.i(A)<<1|V.i(A-1)>>>31;return new f(S,V.h)}function de(V,T){var S=T>>5;T%=32;for(var A=V.g.length-S,C=[],N=0;N<A;N++)C[N]=0<T?V.i(N+S)>>>T|V.i(N+S+1)<<32-T:V.i(N+S);return new f(C,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,fT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dT,jl,mT,Jc,Nm,pT,gT,yT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var z=c[R];if(!(z in _))break e;_=_[z]}c=c[c.length-1],R=_[c],y=y(R),y!=R&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,R=!1,z={next:function(){if(!R&&_<c.length){var X=_++;return{value:y(X,c[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function I(c,y,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,R),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,w.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,z,X){for(var le=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)le[Ke-2]=arguments[Ke];return y.prototype[z].apply(R,le)}}function H(c){const y=c.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=c[R];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(p(R)){const z=c.length||0,X=R.length||0;c.length=z+X;for(let le=0;le<X;le++)c[z+le]=R[le]}else c.push(R)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var oe=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function de(c,y,_){for(const R in c)y.call(_,c[R],R,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function T(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,y){let _,R;for(let z=1;z<arguments.length;z++){R=arguments[z];for(_ in R)c[_]=R[_];for(let X=0;X<S.length;X++)_=S[X],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function C(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function N(c){m.setTimeout(()=>{throw c},0)}function D(){var c=ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,_){const R=je.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var je=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ue=!1,ce=new ke,k=()=>{const c=m.Promise.resolve(void 0);ee=()=>{c.then(Q)}};var Q=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){N(_)}var y=je;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ue=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function ve(c,y){if(Y.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{fe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}x(ve,Y);var ge={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ne(c,y,_,R,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=z,this.key=++_e,this.da=this.fa=!1}function et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,y,_,R,z){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var le=dt(c,y,R,z);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new Ne(y,this.src,X,!!R,z),y.fa=_,c.push(y)),y};function Xe(c,y){var _=y.type;if(_ in c.g){var R=c.g[_],z=Array.prototype.indexOf.call(R,y,void 0),X;(X=0<=z)&&Array.prototype.splice.call(R,z,1),X&&(et(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function dt(c,y,_,R){for(var z=0;z<c.length;++z){var X=c[z];if(!X.da&&X.listener==y&&X.capture==!!_&&X.ha==R)return z}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Fe={};function xe(c,y,_,R,z){if(Array.isArray(y)){for(var X=0;X<y.length;X++)xe(c,y[X],_,R,z);return null}return _=mn(_),c&&c[Je]?c.K(y,_,g(R)?!!R.capture:!1,z):st(c,y,_,!1,R,z)}function st(c,y,_,R,z,X){if(!y)throw Error("Invalid event type");var le=g(z)?!!z.capture:!!z,Ke=Un(c);if(Ke||(c[We]=Ke=new Ie(c)),_=Ke.add(y,_,R,le,X),_.proxy)return _;if(R=Ge(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)he||(z=le),z===void 0&&(z=!1),c.addEventListener(y.toString(),R,z);else if(c.attachEvent)c.attachEvent(En(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ge(){function c(_){return y.call(c.src,c.listener,_)}const y=Tn;return c}function nt(c,y,_,R,z){if(Array.isArray(y))for(var X=0;X<y.length;X++)nt(c,y[X],_,R,z);else R=g(R)?!!R.capture:!!R,_=mn(_),c&&c[Je]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],_=dt(X,_,R,z),-1<_&&(et(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=Un(c))&&(y=c.g[y.toString()],c=-1,y&&(c=dt(y,_,R,z)),(_=-1<c?y[c]:null)&&mt(_))}function mt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Je])Xe(y.i,c);else{var _=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(_,R,c.capture):y.detachEvent?y.detachEvent(En(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=Un(y))?(Xe(_,c),_.h==0&&(_.src=null,y[We]=null)):et(c)}}}function En(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function Tn(c,y){if(c.da)c=!0;else{y=new ve(y,this);var _=c.listener,R=c.ha||c.src;c.fa&&mt(c),c=_.call(R,y)}return c}function Un(c){return c=c[We],c instanceof Ie?c:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(c){return typeof c=="function"?c:(c[bt]||(c[bt]=function(y){return c.handleEvent(y)}),c[bt])}function Me(){ne.call(this),this.i=new Ie(this),this.M=this,this.F=null}x(Me,ne),Me.prototype[Je]=!0,Me.prototype.removeEventListener=function(c,y,_,R){nt(this,c,y,_,R)};function De(c,y){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new Y(y,c);else if(y instanceof Y)y.target=y.target||c;else{var z=y;y=new Y(R,c),A(y,z)}if(z=!0,_)for(var X=_.length-1;0<=X;X--){var le=y.g=_[X];z=Et(le,R,!0,y)&&z}if(le=y.g=c,z=Et(le,R,!0,y)&&z,z=Et(le,R,!1,y)&&z,_)for(X=0;X<_.length;X++)le=y.g=_[X],z=Et(le,R,!1,y)&&z}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],R=0;R<_.length;R++)et(_[R]);delete c.g[y],c.h--}}this.F=null},Me.prototype.K=function(c,y,_,R){return this.i.add(String(c),y,!1,_,R)},Me.prototype.L=function(c,y,_,R){return this.i.add(String(c),y,!0,_,R)};function Et(c,y,_,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,X=0;X<y.length;++X){var le=y[X];if(le&&!le.da&&le.capture==_){var Ke=le.listener,jt=le.ha||le.src;le.fa&&Xe(c.i,le),z=Ke.call(jt,R)!==!1&&z}}return z&&!R.defaultPrevented}function Nt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function vs(c){c.g=Nt(()=>{c.g=null,c.i&&(c.i=!1,vs(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class pi extends ne{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(c){ne.call(this),this.h=c,this.g={}}x(Kt,ne);var In=[];function gi(c){de(c.g,function(y,_){this.g.hasOwnProperty(_)&&mt(y)},c),c.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),gi(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=m.JSON.stringify,ua=m.JSON.parse,Es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function Oo(){}var ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){Y.call(this,"d")}x(zi,Y);function No(){Y.call(this,"c")}x(No,Y);var yi={},xo=null;function Sr(){return xo=xo||new Me}yi.La="serverreachability";function ca(c){Y.call(this,yi.La,c)}x(ca,Y);function Ar(c){const y=Sr();De(y,new ca(y))}yi.STAT_EVENT="statevent";function vu(c,y){Y.call(this,yi.STAT_EVENT,c),this.stat=y}x(vu,Y);function yt(c){const y=Sr();De(y,new vu(y,c))}yi.Ma="timingevent";function Ut(c,y){Y.call(this,yi.Ma,c),this.size=y}x(Ut,Y);function xt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function Mo(c,y,_,R,z,X){c.info(function(){if(c.g)if(X)for(var le="",Ke=X.split("&"),jt=0;jt<Ke.length;jt++){var Qe=Ke[jt].split("=");if(1<Qe.length){var Yt=Qe[0];Qe=Qe[1];var zt=Yt.split("_");le=2<=zt.length&&zt[1]=="type"?le+(Yt+"="+Qe+"&"):le+(Yt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+R+") [attempt "+z+"]: "+y+`
`+_+`
`+le})}function nf(c,y,_,R,z,X,le){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+z+"]: "+y+`
`+_+`
`+X+" "+le})}function br(c,y,_,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ts(c,_)+(R?" "+R:"")})}function Eu(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Ts(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var z=R[1];if(Array.isArray(z)&&!(1>z.length)){var X=z[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<z.length;le++)z[le]=""}}}}return ni(_)}catch{return y}}var wr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function vi(){}x(vi,Co),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},_i=new vi;function pn(c,y,_,R){this.j=c,this.i=y,this.l=_,this.R=R||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var Vo={},ha={};function ii(c,y,_){c.L=1,c.v=Rs(Cn(y)),c.m=_,c.P=!0,qi(c,null)}function qi(c,y){c.F=Date.now(),Ss(c),c.A=Cn(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),zo(_.i,"t",R),c.C=0,_=c.j.J,c.h=new It,c.g=Pu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new pi(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,R=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(In[0]=z.toString()),z=In);for(var X=0;X<z.length;X++){var le=xe(_,z[X],R||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Ar(),Mo(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)e:{const zt=Hn(this.g);var y=this.g.Ba();const Xi=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||zt!=4||y==7||(y==8||0>=Xi?Ar(3):Ar(2)),Rr(this);var _=this.g.Z();this.X=_;t:if(Tu(this)){var R=Cu(this.g);c="";var z=R.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Ei(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(X&&y==z-1)});R.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,nf(this.i,this.u,this.A,this.l,this.R,zt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,jt=this.g;if((Ke=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Ke)){var Qe=Ke;break t}}Qe=null}if(_=Qe)br(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,As(this,_);else{this.o=!1,this.s=3,yt(12),Jt(this),Ei(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<le.length;)if(en=Su(this,le),en==ha){zt==4&&(this.s=4,yt(14),_=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Vo){this.s=4,yt(15),br(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else br(this.i,this.l,en,null),As(this,en);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||le.length!=0||this.h.h||(this.s=1,yt(16),_=!1),this.o=this.o&&_,!_)br(this.i,this.l,le,"[Invalid Chunked Response]"),Jt(this),Ei(this);else if(0<le.length&&!this.W){this.W=!0;var Yt=this.j;Yt.g==this&&Yt.ba&&!Yt.M&&(Yt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Vs(Yt),Yt.M=!0,yt(11))}}else br(this.i,this.l,le,null),As(this,le);zt==4&&Jt(this),this.o&&!this.J&&(zt==4?Mu(this.j,this):(this.o=!1,Ss(this)))}else lf(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Jt(this),Ei(this)}}}catch{}finally{}};function Tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Su(c,y){var _=c.C,R=y.indexOf(`
`,_);return R==-1?ha:(_=Number(y.substring(_,R)),isNaN(_)?Vo:(R+=1,R+_>y.length?ha:(y=y.slice(R,R+_),c.C=R+_,y)))}pn.prototype.cancel=function(){this.J=!0,Jt(this)};function Ss(c){c.S=Date.now()+c.I,Au(c,c.I)}function Au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xt(w(c.ba,c),y)}function Rr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Eu(this.i,this.A),this.L!=2&&(Ar(),yt(17)),Jt(this),this.s=2,Ei(this)):Au(this,this.S-c)};function Ei(c){c.j.G==0||c.J||Mu(c.j,c)}function Jt(c){Rr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function As(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||ko(_.h,c))){if(!c.K&&ko(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var z=R;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Ta(_);else break e;Go(_),yt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=xt(w(_.Za,_),6e3));if(1>=da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $i(_,11)}else if((c.K||_.g==c)&&Aa(_),!ae(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Qe=z[y];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const Yt=Qe[3];Yt!=null&&(_.la=Yt,_.j.info("VER="+_.la));const zt=Qe[4];zt!=null&&(_.Aa=zt,_.j.info("SVER="+_.Aa));const Xi=Qe[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(R=1.5*Xi,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const en=c.g;if(en){const Ii=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var X=R.h;X.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ma(X,X.h),X.h=null))}if(R.D){const Qo=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(R.ya=Qo,lt(R.I,R.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var le=c;if(R.qa=ku(R,R.J?R.ia:null,R.W),le.K){gn(R.h,le);var Ke=le,jt=R.L;jt&&(Ke.I=jt),Ke.B&&(Rr(Ke),Ss(Ke)),R.g=le}else Nu(R);0<_.i.length&&Sa(_)}else Qe[0]!="stop"&&Qe[0]!="close"||$i(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?$i(_,7):Ho(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}Ar(4)}catch{}}var bu=class{constructor(c,y){this.g=c,this.map=y}};function Hi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Hi.prototype.cancel=function(){if(this.i=Po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Po(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return H(c.i)}function rf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,R=0;R<_;R++)y.push(c[R]);return y}y=[],_=0;for(R in c)y[_++]=c[R];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const R in c)y[_++]=R;return y}}}function Lo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pa(c),R=rf(c),z=R.length,X=0;X<z;X++)y.call(void 0,R[X],_&&_[X],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),z=null;if(0<=R){var X=c[_].substring(0,R);z=c[_].substring(R+1)}else X=c[_];y(X,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mt){this.h=c.h,ws(this,c.j),this.o=c.o,this.g=c.g,Ir(this,c.s),this.l=c.l;var y=c.i,_=new Gi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Fi(this,_),this.m=c.m}else c&&(y=String(c).match(bs))?(this.h=!1,ws(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Ir(this,y[4]),this.l=zn(y[5]||"",!0),Fi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Is(y,Uo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Is(_,_.charAt(0)=="/"?af:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Is(_,ga)),c.join("")};function Cn(c){return new Mt(c)}function ws(c,y,_){c.j=_?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ir(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Fi(c,y,_){y instanceof Gi?(c.i=y,Ru(c.i,c.h)):(_||(y=Is(y,of)),c.i=new Gi(y,c.h))}function lt(c,y,_){c.i.set(y,_)}function Rs(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,jo=/[#\?:]/g,af=/[#\?]/g,of=/[#\?@]/g,ga=/#/g;function Gi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Gi.prototype,r.add=function(c,y){Bn(this),this.i=null,c=Ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ki(c,y){Bn(c),y=Ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qi(c,y){return Bn(c),y=Ti(c,y),c.g.has(y)}r.forEach=function(c,y){Bn(this),this.g.forEach(function(_,R){_.forEach(function(z){c.call(y,z,R,this)},this)},this)},r.na=function(){Bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const z=c[R];for(let X=0;X<z.length;X++)_.push(y[R])}return _},r.V=function(c){Bn(this);let y=[];if(typeof c=="string")Qi(this,c)&&(y=y.concat(this.g.get(Ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Bn(this),this.i=null,c=Ti(this,c),Qi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function zo(c,y,_){Ki(c,y),0<_.length&&(c.i=null,c.g.set(Ti(c,y),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const X=encodeURIComponent(String(R)),le=this.V(R);for(R=0;R<le.length;R++){var z=X;le[R]!==""&&(z+="="+encodeURIComponent(String(le[R]))),c.push(z)}}return this.i=c.join("&")};function Ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ru(c,y){y&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,R){var z=R.toLowerCase();R!=z&&(Ki(this,R),zo(this,z,_))},c)),c.j=y}function Cs(c,y){const _=new jn;if(m.Image){const R=new Image;R.onload=O(qn,_,"TestLoadImage: loaded",!0,y,R),R.onerror=O(qn,_,"TestLoadImage: error",!1,y,R),R.onabort=O(qn,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=O(qn,_,"TestLoadImage: timeout",!1,y,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function ri(c,y){const _=new jn,R=new AbortController,z=setTimeout(()=>{R.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(X=>{clearTimeout(z),X.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),qn(_,"TestPingServer: error",!1,y)})}function qn(c,y,_,R,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),R(_)}catch{}}function Ds(){this.g=new Es}function Si(c,y,_){const R=_||"";try{Lo(c,function(z,X){let le=z;g(z)&&(le=ni(z)),y.push(R+X+"="+encodeURIComponent(le))})}catch(z){throw y.push(R+"type="+encodeURIComponent("_badmap")),z}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Cr,Co),Cr.prototype.g=function(){return new Yi(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function Yi(c,y){Me.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Yi,Me),r=Yi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,bi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ai(this):bi(this),this.readyState==3&&Bo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ai(this))},r.Qa=function(c){this.g&&(this.response=c,Ai(this))},r.ga=function(){this.g&&Ai(this)};function Ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,bi(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function bi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qo(c){let y="";return de(c,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function Qt(c,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):lt(c,y,_))}function it(c){Me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(it,Me);var ya=/^https?$/i,Os=["POST","PUT"];r=it.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Do(this.o):Do(_i),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Iu(this,X);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var z in R)_.set(z,R[z]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())_.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Os,y,void 0))||R||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ns(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Iu(this,X)}};function Iu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),wi(c)}function _a(c){c.A||(c.A=!0,De(c,"complete"),De(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,De(this,"complete"),De(this,"abort"),wi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wi(this,!0)),it.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},r.bb=function(){va(this)};function va(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Nt(c.Ea,0,c);else if(De(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=le===0){var z=String(c.D).match(bs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),R=!ya.test(z?z.toLowerCase():"")}_=R}if(_)De(c,"complete"),De(c,"success");else{c.m=6;try{var X=2<Hn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",_a(c)}}finally{wi(c)}}}}function wi(c,y){if(c.g){Ns(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||De(c,"ready");try{_.onreadystatechange=R}catch{}}}function Ns(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lf(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ae(c[R]))continue;var _=C(c[R]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=y[z]||[];y[z]=X,X.push(_)}V(y,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,c),this.cb=xs("retryDelaySeedMs",1e4,c),this.Wa=xs("forwardChannelMaxRetries",2,c),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ea.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,R){yt(0),this.W=c,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=ku(this,null,this.W),Sa(this)};function Ho(c){if(Du(c),c.G==3){var y=c.U++,_=Cn(c.I);if(lt(_,"SID",c.K),lt(_,"RID",y),lt(_,"TYPE","terminate"),Ms(c,_),y=new pn(c,c.j,y),y.L=2,y.v=Rs(Cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Pu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ss(y)}Vu(c)}function Ta(c){c.g&&(Vs(c),c.g.cancel(),c.g=null)}function Du(c){Ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ee||k(),ue||(ee(),ue=!0),ce.add(y,c),c.B=0}}function uf(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xt(w(c.Ga,c,y),Ko(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new pn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=T(X),A(X,this.S)):X=this.S),this.m!==null||this.O||(z.H=X,X=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Ou(this,z,y),_=Cn(this.I),lt(_,"RID",c),lt(_,"CVER",22),this.D&&lt(_,"X-HTTP-Session-Id",this.D),Ms(this,_),X&&(this.O?y="headers="+encodeURIComponent(String(qo(X)))+"&"+y:this.m&&Qt(_,this.m,X)),ma(this.h,z),this.Ua&&lt(_,"TYPE","init"),this.P?(lt(_,"$req",y),lt(_,"SID","null"),z.T=!0,ii(z,_,null)):ii(z,_,y),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||fa(this.h)||Fo(this))};function Fo(c,y){var _;y?_=y.l:_=c.U++;const R=Cn(c.I);lt(R,"SID",c.K),lt(R,"RID",_),lt(R,"AID",c.T),Ms(c,R),c.m&&c.o&&Qt(R,c.m,c.o),_=new pn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Ou(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),ii(_,R,y)}function Ms(c,y){c.H&&de(c.H,function(_,R){lt(y,R,_)}),c.l&&Lo({},function(_,R){lt(y,R,_)})}function Ou(c,y,_){_=Math.min(c.i.length,_);var R=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let X=-1;for(;;){const le=["count="+_];X==-1?0<_?(X=z[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ke=!0;for(let jt=0;jt<_;jt++){let Qe=z[jt].g;const Yt=z[jt].map;if(Qe-=X,0>Qe)X=Math.max(0,z[jt].g-100),Ke=!1;else try{Si(Yt,le,"req"+Qe+"_")}catch{R&&R(Yt)}}if(Ke){R=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,R}function Nu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ee||k(),ue||(ee(),ue=!0),ce.add(y,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xt(w(c.Fa,c),Ko(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ta(this),xu(this))};function Vs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Cn(c.qa);lt(y,"RID","rpc"),lt(y,"SID",c.K),lt(y,"AID",c.T),lt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(y,"TO",c.ja),lt(y,"TYPE","xmlhttp"),Ms(c,y),c.m&&c.o&&Qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Rs(Cn(y)),_.m=null,_.P=!0,qi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ta(this),Go(this),yt(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,y){var _=null;if(c.g==y){Aa(c),Vs(c),c.g=null;var R=2}else if(ko(c.h,y))_=y.D,gn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;R=Sr(),De(R,new Ut(R,_)),Sa(c)}else Nu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(R==1&&uf(c,y)||R==2&&Go(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:$i(c,5);break;case 4:$i(c,10);break;case 3:$i(c,6);break;default:$i(c,2)}}}function Ko(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function $i(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),R=c.Xa;const z=!R;R=new Mt(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ws(R,"https"),Rs(R),z?Cs(R.toString(),_):ri(R.toString(),_)}else yt(2);c.G=0,c.l&&c.l.sa(y),Vu(c),Du(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const y=Po(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var R=_ instanceof Mt?Cn(_):new Mt(_);if(R.g!="")y&&(R.g=y+"."+R.g),Ir(R,R.s);else{var z=m.location;R=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var X=new Mt(null);R&&ws(X,R),y&&(X.g=y),z&&Ir(X,z),_&&(X.l=_),R=X}return _=c.D,y=c.ya,_&&y&&lt(R,_,y),lt(R,"VER",c.la),Ms(c,R),R}function Pu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new it(new Cr({eb:_})):new it(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ba(){}ba.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){Me.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ae(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ri(this)}x(yn,Me),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Ho(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ni(c),c=_);y.i.push(new bu(y.Ya++,c)),y.G==3&&Sa(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,yn.aa.N.call(this)};function Uu(c){zi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Uu,zi);function ju(){No.call(this),this.status=1}x(ju,No);function Ri(c){this.g=c}x(Ri,Lu),Ri.prototype.ua=function(){De(this.g,"a")},Ri.prototype.ta=function(c){De(this.g,new Uu(c))},Ri.prototype.sa=function(c){De(this.g,new ju)},Ri.prototype.ra=function(){De(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,yT=function(){return new ba},gT=function(){return Sr()},pT=yi,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Jc=wr,Bi.COMPLETE="complete",mT=Bi,Oo.EventType=ji,ji.OPEN="a",ji.CLOSE="b",ji.ERROR="c",ji.MESSAGE="d",Me.prototype.listen=Me.prototype.K,jl=Oo,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,dT=it}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new sp("@firebase/firestore");function Ja(){return ia.logLevel}function me(r,...e){if(ia.logLevel<=qe.DEBUG){const n=e.map(yp);ia.debug(`Firestore (${Ao}): ${r}`,...n)}}function _r(r,...e){if(ia.logLevel<=qe.ERROR){const n=e.map(yp);ia.error(`Firestore (${Ao}): ${r}`,...n)}}function co(r,...e){if(ia.logLevel<=qe.WARN){const n=e.map(yp);ia.warn(`Firestore (${Ao}): ${r}`,...n)}}function yp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,_T(r,s,n)}function _T(r,e,n){let s=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function rt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||_T(e,o,s)}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class aD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oD{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new mr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new mr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new vT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class lD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new lD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function xm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Le(s,o);{const u=ET(),f=fD(u.encode(oE(r,n)),u.encode(oE(e,n)));return f!==0?f:Le(s,o)}}n+=s>65535?2:1}return Le(r.length,e.length)}function oE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function fD(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Le(r[n],e[n]);return Le(r.length,e.length)}function ho(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uE);return new Ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ht(0,0))}static max(){return new Ce(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),o=Mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class gt extends Mi{construct(e,n,s){return new gt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const dD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Mi{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return dD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new an([cE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(gt.fromString(e))}static fromName(e){return new Te(gt.fromString(e).popFirst(5))}static empty(){return new Te(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function mD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ht(n+1,0):new Ht(n,s));return new os(o,Te.empty(),e)}function pD(r){return new os(r.readTime,r.key,Zl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Ce.min(),Te.empty(),Zl)}static max(){return new os(Ce.max(),Te.empty(),Zl)}}function gD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _D{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==yD)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(o=>o?re.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new re((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new re((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function vD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Lh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function Uh(r){return r==null}function gh(r){return r===0&&1/r==-1/0}function ED(r){return typeof r=="number"&&Number.isInteger(r)&&!gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function TD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=hE(e)),e=SD(r.get(n),e);return hE(e)}function SD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ST:n+="";break;default:n+=u}}return n}function hE(r){return r+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function AT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new sn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Ft(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bT("Invalid base64 string: "+u):u}}(e);return new on(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const AD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const n=AD.exec(r);if(rt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="server_timestamp",RT="__type__",IT="__previous_value__",CT="__local_write_time__";function vp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[RT])===null||n===void 0?void 0:n.stringValue)===wT}function jh(r){const e=r.mapValue.fields[IT];return vp(e)?jh(e):e}function Jl(r){const e=ls(r.mapValue.fields[CT].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const yh="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",wD="__max__",Fc={mapValue:{}},OT="__vector__",_h="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:ID(r)?9007199254740991:RD(r)?10:11:we(28295,{value:r})}function Ui(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Jl(r).isEqual(Jl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ot(o.doubleValue),m=Ot(u.doubleValue);return f===m?gh(f)===gh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fE(f)!==fE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ui(f[p],m[p])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function tu(r,e){return(r.values||[]).find(n=>Ui(n,e))!==void 0}function fo(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ot(u.integerValue||u.doubleValue),p=Ot(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return mE(r.timestampValue,e.timestampValue);case 4:return mE(Jl(r),Jl(e));case 5:return xm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=us(u),p=us(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Le(m[g],p[g]);if(E!==0)return E}return Le(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Le(Ot(u.latitude),Ot(f.latitude));return m!==0?m:Le(Ot(u.longitude),Ot(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const I=u.fields||{},w=f.fields||{},O=(m=I[_h])===null||m===void 0?void 0:m.arrayValue,x=(p=w[_h])===null||p===void 0?void 0:p.arrayValue,H=Le(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return H!==0?H:pE(O,x)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Fc.mapValue&&f===Fc.mapValue)return 0;if(u===Fc.mapValue)return 1;if(f===Fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let I=0;I<p.length&&I<E.length;++I){const w=xm(p[I],E[I]);if(w!==0)return w;const O=fo(m[p[I]],g[E[I]]);if(O!==0)return O}return Le(p.length,E.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function mE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=ls(r),s=ls(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function pE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=fo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function mo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return us(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Te.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function eh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(u,f)=>{o+=u.length+eh(f)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function gE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vm(r){return!!r&&"integerValue"in r}function Ep(r){return!!r&&"arrayValue"in r}function yE(r){return!!r&&"nullValue"in r}function _E(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function RD(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===OT}function Gl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Gl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function ID(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(n)}setAll(e){let n=an.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Gl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Rn(Gl(this.value))}}function NT(r){const e=[];return ys(r.fields,(n,s)=>{const o=new an([n]);if(th(s)){const u=NT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ce.min(),Ce.min(),Ce.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ce.min(),Ce.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ce.min(),Ce.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.position=e,this.inclusive=n}}function vE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(f.referenceValue),n.key):s=fo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function EE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function CD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{}class Lt extends xT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new OD(e,n,s):n==="array-contains"?new MD(e,s):n==="in"?new VD(e,s):n==="not-in"?new kD(e,s):n==="array-contains-any"?new PD(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ND(e,s):new xD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fo(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends xT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new fi(e,n)}matches(e){return MT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function MT(r){return r.op==="and"}function VT(r){return DD(r)&&MT(r)}function DD(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function km(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+mo(r.value);if(VT(r))return r.filters.map(e=>km(e)).join(",");{const e=r.filters.map(n=>km(n)).join(",");return`${r.op}(${e})`}}function kT(r,e){return r instanceof Lt?function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)}(r,e):r instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&kT(f,o.filters[m]),!0):!1}(r,e):void we(19439)}function PT(r){return r instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(r):r instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(PT).join(" ,")+"}"}(r):"Filter"}class OD extends Lt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class ND extends Lt{constructor(e,n){super(e,"in",n),this.keys=LT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xD extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=LT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Te.fromName(s.referenceValue))}class MD extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ep(n)&&tu(n.arrayValue,this.value)}}class VD extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class kD extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class PD extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ep(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function TE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new LD(r,e,n,s,o,u,f)}function Tp(r){const e=Oe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>mo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>mo(s)).join(",")),e.Ie=n}return e.Ie}function Sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!CD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!kT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!EE(r.startAt,e.startAt)&&EE(r.endAt,e.endAt)}function Pm(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function UD(r,e,n,s,o,u,f,m){return new du(r,e,n,s,o,u,f,m)}function Ap(r){return new du(r)}function SE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function UT(r){return r.collectionGroup!==null}function Kl(r){const e=Oe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ft(an.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Eh(u,s))}),n.has(an.keyField().canonicalString())||e.Ee.push(new Eh(an.keyField(),s))}return e.Ee}function Pi(r){const e=Oe(r);return e.de||(e.de=jD(e,Kl(r))),e.de}function jD(r,e){if(r.limitType==="F")return TE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Eh(o.field,u)});const n=r.endAt?new vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vh(r.startAt.position,r.startAt.inclusive):null;return TE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Lm(r,e){const n=r.filters.concat([e]);return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Um(r,e,n){return new du(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return Sp(Pi(r),Pi(e))&&r.limitType===e.limitType}function jT(r){return`${Tp(Pi(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>PT(o)).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>mo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>mo(o)).join(",")),`Target(${s})`}(Pi(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=vE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Kl(s),o)||s.endAt&&!function(f,m,p){const g=vE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Kl(s),o))}(r,e)}function zD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zT(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=BD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function BD(r,e,n){const s=r.field.isKeyField()?Te.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?fo(p,g):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new At(Te.comparator);function vr(){return qD}const BT=new At(Te.comparator);function zl(...r){let e=BT;for(const n of r)e=e.insert(n.key,n);return e}function qT(r){let e=BT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Ql()}function HT(){return Ql()}function Ql(){return new aa(r=>r.toString(),(r,e)=>r.isEqual(e))}const HD=new At(Te.comparator),FD=new Ft(Te.comparator);function He(...r){let e=FD;for(const n of r)e=e.add(n);return e}const GD=new Ft(Le);function KD(){return GD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function FT(r){return{integerValue:""+r}}function QD(r,e){return ED(e)?FT(e):bp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function YD(r,e,n){return r instanceof Th?function(o,u){const f={fields:{[RT]:{stringValue:wT},[CT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&vp(u)&&(u=jh(u)),u&&(f.fields[IT]=u),{mapValue:f}}(n,e):r instanceof nu?KT(r,e):r instanceof iu?QT(r,e):function(o,u){const f=GT(o,u),m=AE(f)+AE(o.Re);return Vm(f)&&Vm(o.Re)?FT(m):bp(o.serializer,m)}(r,e)}function $D(r,e,n){return r instanceof nu?KT(r,e):r instanceof iu?QT(r,e):n}function GT(r,e){return r instanceof Sh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Th extends qh{}class nu extends qh{constructor(e){super(),this.elements=e}}function KT(r,e){const n=YT(e);for(const s of r.elements)n.some(o=>Ui(o,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends qh{constructor(e){super(),this.elements=e}}function QT(r,e){let n=YT(e);for(const s of r.elements)n=n.filter(o=>!Ui(o,s));return{arrayValue:{values:n}}}class Sh extends qh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function AE(r){return Ot(r.integerValue||r.doubleValue)}function YT(r){return Ep(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function XD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof nu&&o instanceof nu||s instanceof iu&&o instanceof iu?ho(s.elements,o.elements,Ui):s instanceof Sh&&o instanceof Sh?Ui(s.Re,o.Re):s instanceof Th&&o instanceof Th}(r.transform,e.transform)}class WD{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Hh{}function $T(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wp(r.key,ei.none()):new mu(r.key,r.data,ei.none());{const n=r.data,s=Rn.empty();let o=new Ft(an.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new Pn(o.toArray()),ei.none())}}function ZD(r,e,n){r instanceof mu?function(o,u,f){const m=o.value.clone(),p=wE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof _s?function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=wE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(XT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(r,e,n,s){return r instanceof mu?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=u.value.clone(),E=RE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof _s?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=RE(u.fieldTransforms,p,f),E=f.data;return E.setAll(XT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(r,e,n,s):function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function JD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=GT(s.transform,o||null);u!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,u))}return n||null}function bE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,(u,f)=>XD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function XT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function wE(r,e,n){const s=new Map;rt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,$D(f,m,n[o]))}return s}function RE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,YD(u,f,e))}return s}class wp extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e2 extends Hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ZD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=HT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=$T(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,s)=>bE(n,s))&&ho(this.baseMutations,e.baseMutations,(n,s)=>bE(n,s))}}class Rp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){rt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return HD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Rp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,$e;function r2(r){switch(r){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function WT(r){if(r===void 0)return _r("GRPC error has no .code"),se.UNKNOWN;switch(r){case Pt.OK:return se.OK;case Pt.CANCELLED:return se.CANCELLED;case Pt.UNKNOWN:return se.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return se.INTERNAL;case Pt.UNAVAILABLE:return se.UNAVAILABLE;case Pt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Pt.NOT_FOUND:return se.NOT_FOUND;case Pt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Pt.ABORTED:return se.ABORTED;case Pt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Pt.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:r})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new ss([4294967295,4294967295],0);function IE(r){const e=ET().encode(r),n=new fT;return n.update(e),new Uint8Array(n.digest())}function CE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Ip{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Bl(`Invalid padding: ${n}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ss.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(s2)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=IE(e),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ip(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=IE(e),[s,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Ce.min(),o,new At(Le),vr(),He())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class ZT{constructor(e,n){this.targetId=e,this.Ce=n}}class JT{constructor(e,n,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class DE{constructor(){this.Fe=0,this.Me=OE(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=He(),n=He(),s=He();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new pu(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=OE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class a2{constructor(e){this.ze=e,this.je=new Map,this.He=vr(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new At(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new Te(u.path);this.tt(n,f,fn.newNoDocument(f,Ce.min()))}else rt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),p=m?this.lt(m,e,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(p){if(p instanceof bT)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ip(f,o,u)}catch(p){return co(p instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Pm(m.target)){const p=new Te(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,fn.newNoDocument(p,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=He();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Fh(e,n,this.Ze,this.He,s);return this.He=vr(),this.Je=Gc(),this.Ye=Gc(),this.Ze=new At(Le),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new DE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ft(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ft(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new DE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Gc(){return new At(Te.comparator)}function OE(){return new At(Te.comparator)}const o2={asc:"ASCENDING",desc:"DESCENDING"},l2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u2={and:"AND",or:"OR"};class c2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function h2(r,e){return Ah(r,e.toTimestamp())}function Li(r){return rt(!!r,49232),Ce.fromTimestamp(function(n){const s=ls(n);return new Ht(s.seconds,s.nanos)}(r))}function Cp(r,e){return zm(r,e).canonicalString()}function zm(r,e){const n=function(o){return new gt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function tS(r){const e=gt.fromString(r);return rt(aS(e),10190,{key:e.toString()}),e}function Bm(r,e){return Cp(r.databaseId,e.path)}function pm(r,e){const n=tS(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(iS(n))}function nS(r,e){return Cp(r.databaseId,e)}function f2(r){const e=tS(r);return e.length===4?gt.emptyPath():iS(e)}function qm(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function iS(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function NE(r,e,n){return{name:Bm(r,e),fields:n.value.mapValue.fields}}function d2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(rt(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?se.UNKNOWN:WT(g.code);return new pe(E,g.message||"")}(f);n=new JT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pm(r,s.document.name),u=Li(s.document.updateTime),f=s.document.createTime?Li(s.document.createTime):Ce.min(),m=new Rn({mapValue:{fields:s.document.fields}}),p=fn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pm(r,s.document),u=s.readTime?Li(s.readTime):Ce.min(),f=fn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pm(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new i2(o,u),m=s.targetId;n=new ZT(m,f)}}return n}function m2(r,e){let n;if(e instanceof mu)n={update:NE(r,e.key,e.value)};else if(e instanceof wp)n={delete:Bm(r,e.key)};else if(e instanceof _s)n={update:NE(r,e.key,e.data),updateMask:A2(e.fieldMask)};else{if(!(e instanceof e2))return we(16599,{ft:e.type});n={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw we(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:h2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),n}function p2(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?Li(o.updateTime):Li(u);return f.isEqual(Ce.min())&&(f=Li(u)),new WD(f,o.transformResults||[])}(n,e))):[]}function g2(r,e){return{documents:[nS(r,e.path)]}}function y2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=nS(r,o);const u=function(g){if(g.length!==0)return sS(fi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:to(w.field),direction:E2(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function _2(r){let e=f2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){rt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const w=rS(I);return w instanceof fi&&VT(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(w=>function(x){return new Eh(no(x.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(I){let w;return w=typeof I=="object"?I.value:I,Uh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(I){const w=!!I.before,O=I.values||[];return new vh(O,w)}(n.startAt));let g=null;return n.endAt&&(g=function(I){const w=!I.before,O=I.values||[];return new vh(O,w)}(n.endAt)),UD(e,o,f,u,m,"F",p,g)}function v2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(n){return Lt.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>rS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(r):we(30097,{filter:r})}function E2(r){return o2[r]}function T2(r){return l2[r]}function S2(r){return u2[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return an.fromServerFormat(r.fieldPath)}function sS(r){return r instanceof Lt?function(n){if(n.op==="=="){if(_E(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_E(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:T2(n.op),value:n.value}}}(r):r instanceof fi?function(n){const s=n.getFilters().map(o=>sS(o));return s.length===1?s[0]:{compositeFilter:{op:S2(n.op),filters:s}}}(r):we(54877,{filter:r})}function A2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e){this.wt=e}}function w2(r){const e=_2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(){this.yn=new I2}addToCollectionParentIndex(e,n){return this.yn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(os.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class I2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(gt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oS=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(oS,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new po(0)}static ir(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",C2=1048576;function VE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class D2{constructor(e){this.cr=e,this.buffer=new Ft(VE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(ME,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?me(ME,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.Ir(3e5)})}}class N2{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Lh.le);const s=new D2(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(xE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,m=Date.now(),this.removeTargets(e,s,n))).next(I=>(u=I,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(g=Date.now(),Ja()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${I} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function x2(r,e){return new N2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.changes=new aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,Pn.empty(),Ht.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,He()).next(()=>s))}getLocalViewOfDocuments(e,n,s=He()){const o=Zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=zl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,He()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=vr();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Yl(E.mutation,g,E.mutation.getFieldMask(),Ht.now())):f.set(g.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var I;return m.set(g,new V2(E,(I=f.get(g))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new At((f,m)=>f-m),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Pn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const I=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,I)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,I=HT();E.forEach(w=>{if(!u.has(w)){const O=$T(n.get(w),s.get(w));O!==null&&I.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,I))}return re.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(Zs());let m=Zl,p=u;return f.next(g=>re.forEach(g,(E,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,He())).next(E=>({batchId:m,changes:qT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=zl();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,p=>{const g=function(I,w){return new du(w,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((I,w)=>{f=f.insert(I,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))});let m=zl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Yl(E.mutation,g,Pn.empty(),Ht.now()),Bh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return re.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:w2(o.bundledQuery),readTime:Li(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.overlays=new At(Te.comparator),this.Or=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new Te(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new At((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new n2(n,s));let u=this.Or.get(n);u===void 0&&(u=He(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Nr=new Ft(Zt.Br),this.Lr=new Ft(Zt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Zt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new Te(new gt([])),s=new Zt(n,e),o=new Zt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Te(new gt([])),s=new Zt(n,e),o=new Zt(n,e+1);let u=He();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Zt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Te.comparator(e.key,n.key)||Le(e.Gr,n.Gr)}static kr(e,n){return Le(e.Gr,n.Gr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ft(Zt.Br)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new t2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(f)}lookupMutationBatch(e,n){return re.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_p:this.Jn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),o=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Le);return n.forEach(o=>{const u=new Zt(o,0),f=new Zt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),re.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const f=new Zt(new Te(u),0);let m=new Ft(Le);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),re.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){rt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return re.forEach(n.mutations,o=>{const u=new Zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Zt(n,0),o=this.zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.Zr=e,this.docs=function(){return new At(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const f=n.path,m=new Te(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||gD(pD(E),s)<=0||(o.has(E.key)||Bh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}Xr(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new B2(this)}getSize(e){return re.resolve(this.size)}}class B2 extends M2{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.persistence=e,this.ei=new aa(n=>Tp(n),Sp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Dp,this.targetCount=0,this.ri=po.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),re.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new po(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.ar(n),re.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.ii={},this.overlays={},this.si=new Lh(0),this.oi=!1,this.oi=!0,this._i=new U2,this.referenceDelegate=e(this),this.ai=new q2(this),this.indexManager=new R2,this.remoteDocumentCache=function(o){return new z2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new b2(n),this.ci=new P2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new j2(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new H2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return re.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class H2 extends _D{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.Ti=new Dp,this.Ii=null}static Ei(e){return new Op(e)}get di(){if(this.Ii)return this.Ii;throw we(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,s=>{const o=Te.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return re.or([()=>re.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.Ri=new aa(s=>TD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=x2(this,n)}static Ei(e,n){return new bh(e,n)}li(){}hi(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return re.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),re.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}gr(e,n,s){return re.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Np(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return RR()?8:vD(dn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new F2;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(Ja()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),re.resolve()):(Ja()<=qe.DEBUG&&me("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Ja()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):re.resolve())}Rs(e,n){if(SE(n))return re.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=He(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(e,Um(n,null,"F")):this.ws(e,g,n,p)}))})))}Vs(e,n,s,o){return SE(n)||o.isEqual(Ce.min())?re.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?re.resolve(null):(Ja()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.ws(e,f,n,mD(o,Zl)).next(m=>m))})}ps(e,n){let s=new Ft(zT(e));return n.forEach((o,u)=>{Bh(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return Ja()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",eo(n)),this.As.getDocumentsMatchingQuery(e,n,os.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",K2=3e8;class Q2{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new At(Le),this.Ds=new aa(u=>Tp(u),Sp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Y2(r,e,n,s){return new Q2(r,e,n,s)}async function uS(r,e){const n=Oe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=He();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function $2(r,e){const n=Oe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const I=g.batch,w=I.keys();let O=re.resolve();return w.forEach(x=>{O=O.next(()=>E.getEntry(p,x)).next(H=>{const j=g.docVersions.get(x);rt(j!==null,48541),H.version.compareTo(j)<0&&(I.applyToRemoteDocument(H,g),H.isValidDocument()&&(H.setReadTime(g.commitVersion),E.addEntry(H)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,I))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=He();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function cS(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function X2(r,e){const n=Oe(r),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,I)=>{const w=o.get(I);if(!w)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,I).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,I)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?O=O.withResumeToken(on.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(I,O),function(H,j,$){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=K2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(w,O,E)&&m.push(n.ai.updateTargetData(u,O))});let p=vr(),g=He();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(W2(u,f,e.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(Ce.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(I=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return re.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function W2(r,e,n){let s=He(),o=He();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=vr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):me(xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function Z2(r,e){const n=Oe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function J2(r,e){const n=Oe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function Hm(r,e,n){const s=Oe(r),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;me(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function kE(r,e,n){const s=Oe(r);let o=Ce.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const I=Oe(p),w=I.Ds.get(E);return w!==void 0?re.resolve(I.Ss.get(w)):I.ai.getTargetData(g,E)}(s,f,Pi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:He())).next(m=>(eO(s,zD(e),m),{documents:m,Ns:u})))}function eO(r,e,n){let s=r.vs.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(e,s)}class PE{constructor(){this.activeTargetIds=KD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tO{constructor(){this.So=new PE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new PE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class UE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Fm(){return Kc===null?Kc=function(){return 268435456+Math.round(2147483648*Math.random())}():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="RestConnection",iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=Fm(),m=this.$o(e,n.toUriEncodedString());me(gm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(m),E=au(g);return this.Ko(e,m,p,s,E).then(I=>(me(gm,`Received RPC '${e}' ${f}: `,I),I),I=>{throw co(gm,`RPC '${e}' ${f} failed with error: `,I,"url: ",m,"request:",s),I})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=iO[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class aO extends rO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o,u){const f=Fm();return new Promise((m,p)=>{const g=new dT;g.setWithCredentials(!0),g.listenOnce(mT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const I=g.getResponseJson();me(cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(I)),m(I);break;case Jc.TIMEOUT:me(cn,`RPC '${e}' ${f} timed out`),p(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=g.getStatus();if(me(cn,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const x=O==null?void 0:O.error;if(x&&x.status&&x.message){const H=function($){const ae=$.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(ae)>=0?ae:se.UNKNOWN}(x.status);p(new pe(H,x.message))}else p(new pe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{s_:e,streamId:f,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{me(cn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);me(cn,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}a_(e,n,s){const o=Fm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=yT(),m=gT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");me(cn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const I=f.createWebChannel(E,p);let w=!1,O=!1;const x=new sO({Go:j=>{O?me(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(me(cn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),w=!0),me(cn,`RPC '${e}' stream ${o} sending:`,j),I.send(j))},zo:()=>I.close()}),H=(j,$,ae)=>{j.listen($,J=>{try{ae(J)}catch(fe){setTimeout(()=>{throw fe},0)}})};return H(I,jl.EventType.OPEN,()=>{O||(me(cn,`RPC '${e}' stream ${o} transport opened.`),x.t_())}),H(I,jl.EventType.CLOSE,()=>{O||(O=!0,me(cn,`RPC '${e}' stream ${o} transport closed`),x.r_())}),H(I,jl.EventType.ERROR,j=>{O||(O=!0,co(cn,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),x.r_(new pe(se.UNAVAILABLE,"The operation could not be completed")))}),H(I,jl.EventType.MESSAGE,j=>{var $;if(!O){const ae=j.data[0];rt(!!ae,16349);const J=ae,fe=(J==null?void 0:J.error)||(($=J[0])===null||$===void 0?void 0:$.error);if(fe){me(cn,`RPC '${e}' stream ${o} received error:`,fe);const oe=fe.status;let de=function(S){const A=Pt[S];if(A!==void 0)return WT(A)}(oe),V=fe.message;de===void 0&&(de=se.INTERNAL,V="Unknown error status: "+oe+" with message "+fe.message),O=!0,x.r_(new pe(de,V)),I.close()}else me(cn,`RPC '${e}' stream ${o} received:`,ae),x.i_(ae)}}),H(m,pT.STAT_EVENT,j=>{j.stat===Nm.PROXY?me(cn,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Nm.NOPROXY&&me(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new c2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class fS{constructor(e,n,s,o,u,f,m,p){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new hS(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new pe(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(me(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oO extends fS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=d2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?Li(f.readTime):Ce.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=qm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Pm(p)?{documents:g2(u,p)}:{query:y2(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=eS(u,f.resumeToken);const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const g=jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=v2(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.F_(n)}}class lO extends fS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=p2(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=qm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>m2(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{}class cO extends uO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,zm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(se.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,zm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(se.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class hO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(_r(n),this.ea=!1):me("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class fO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{oa(this)&&(me(ra,"Restarting streams for network reachability change."),await async function(p){const g=Oe(p);g.aa.add(4),await gu(g),g.la.set("Unknown"),g.aa.delete(4),await Kh(g)}(this))})}),this.la=new hO(s,o)}}async function Kh(r){if(oa(r))for(const e of r.ua)await e(!0)}async function gu(r){for(const e of r.ua)await e(!1)}function dS(r,e){const n=Oe(r);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Pp(n)?kp(n):Ro(n).b_()&&Vp(n,e))}function Mp(r,e){const n=Oe(r),s=Ro(n);n._a.delete(e),s.b_()&&mS(n,e),n._a.size===0&&(s.b_()?s.v_():oa(n)&&n.la.set("Unknown"))}function Vp(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(r).U_(e)}function mS(r,e){r.ha.Ke(e),Ro(r).K_(e)}function kp(r){r.ha=new a2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.la.ta()}function Pp(r){return oa(r)&&!Ro(r).w_()&&r._a.size>0}function oa(r){return Oe(r).aa.size===0}function pS(r){r.ha=void 0}async function dO(r){r.la.set("Online")}async function mO(r){r._a.forEach((e,n)=>{Vp(r,e)})}async function pO(r,e){pS(r),Pp(r)?(r.la.ia(e),kp(r)):r.la.set("Unknown")}async function gO(r,e,n){if(r.la.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,e)}catch(s){me(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(r,s)}else if(e instanceof ih?r.ha.Xe(e):e instanceof ZT?r.ha.ot(e):r.ha.nt(e),!n.isEqual(Ce.min()))try{const s=await cS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),mS(u,p);const I=new ts(E.target,p,g,E.sequenceNumber);Vp(u,I)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){me(ra,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,e,n){if(!wo(e))throw e;r.aa.add(1),await gu(r),r.la.set("Offline"),n||(n=()=>cS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(ra,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await Kh(r)})}function gS(r,e){return e().catch(n=>wh(r,n,e))}async function Qh(r){const e=Oe(r),n=hs(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:_p;for(;yO(e);)try{const o=await Z2(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,_O(e,o)}catch(o){await wh(e,o)}yS(e)&&_S(e)}function yO(r){return oa(r)&&r.oa.length<10}function _O(r,e){r.oa.push(e);const n=hs(r);n.b_()&&n.W_&&n.G_(e.mutations)}function yS(r){return oa(r)&&!hs(r).w_()&&r.oa.length>0}function _S(r){hs(r).start()}async function vO(r){hs(r).H_()}async function EO(r){const e=hs(r);for(const n of r.oa)e.G_(n.mutations)}async function TO(r,e,n){const s=r.oa.shift(),o=Rp.from(s,e,n);await gS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qh(r)}async function SO(r,e){e&&hs(r).W_&&await async function(s,o){if(function(f){return r2(f)&&f!==se.ABORTED}(o.code)){const u=s.oa.shift();hs(s).D_(),await gS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(s)}}(r,e),yS(r)&&_S(r)}async function zE(r,e){const n=Oe(r);n.asyncQueue.verifyOperationInProgress(),me(ra,"RemoteStore received new credentials");const s=oa(n);n.aa.add(3),await gu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Kh(n)}async function AO(r,e){const n=Oe(r);e?(n.aa.delete(2),await Kh(n)):e||(n.aa.add(2),await gu(n),n.la.set("Unknown"))}function Ro(r){return r.Pa||(r.Pa=function(n,s,o){const u=Oe(n);return u.Y_(),new oO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:dO.bind(null,r),Jo:mO.bind(null,r),Zo:pO.bind(null,r),Q_:gO.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Pp(r)?kp(r):r.la.set("Unknown")):(await r.Pa.stop(),pS(r))})),r.Pa}function hs(r){return r.Ta||(r.Ta=function(n,s,o){const u=Oe(n);return u.Y_(),new lO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:vO.bind(null,r),Zo:SO.bind(null,r),z_:EO.bind(null,r),j_:TO.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await Qh(r)):(await r.Ta.stop(),r.oa.length>0&&(me(ra,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Lp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Up(r,e){if(_r("AsyncQueue",`${e}: ${r}`),wo(r))return new pe(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=zl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Ia=new At(Te.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class go{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new go(e,n,oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class wO{constructor(){this.queries=qE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Oe(n),u=o.queries;o.queries=qE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function qE(){return new aa(r=>jT(r),zh)}async function vS(r,e){const n=Oe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new bO,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Up(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&jp(n)}async function ES(r,e){const n=Oe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function RO(r,e){const n=Oe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&jp(n)}function IO(r,e,n){const s=Oe(r),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function jp(r){r.fa.forEach(e=>{e.next()})}var Gm,HE;(HE=Gm||(Gm={})).ya="default",HE.Cache="cache";class TS{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.key=e}}class AS{constructor(e){this.key=e}}class CO{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=He(),this.mutatedKeys=He(),this.Ua=zT(e),this.Ka=new oo(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new BE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const w=o.get(E),O=Bh(this.query,I)?I:null,x=!!w&&this.mutatedKeys.has(w.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;w&&O?w.data.isEqual(O.data)?x!==H&&(s.track({type:3,doc:O}),j=!0):this.ja(w,O)||(s.track({type:2,doc:O}),j=!0,(p&&this.Ua(O,p)>0||g&&this.Ua(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),j=!0):w&&!O&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(O?(f=f.add(O),u=H?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,I)=>function(O,x){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:j})}};return H(O)-H(x)}(E.type,I.type)||this.Ua(E.doc,I.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new go(this.query,e.Ka,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new BE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=He(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new AS(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new SS(s))}),n}Xa(e){this.qa=e.Ns,this.$a=He();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return go.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const zp="SyncEngine";class DO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class OO{constructor(e){this.key=e,this.tu=!1}}class NO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new aa(m=>jT(m),zh),this.iu=new Map,this.su=new Set,this.ou=new At(Te.comparator),this._u=new Map,this.au=new Dp,this.uu={},this.cu=new Map,this.lu=po.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function xO(r,e,n=!0){const s=DS(r);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await bS(s,e,n,!0),o}async function MO(r,e){const n=DS(r);await bS(n,e,!0,!1)}async function bS(r,e,n,s){const o=await J2(r.localStore,Pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&dS(r.remoteStore,o),m}async function VO(r,e,n,s,o){r.Pu=(I,w,O)=>async function(H,j,$,ae){let J=j.view.Ga($);J.ys&&(J=await kE(H.localStore,j.query,!1).then(({documents:V})=>j.view.Ga(V,J)));const fe=ae&&ae.targetChanges.get(j.targetId),oe=ae&&ae.targetMismatches.get(j.targetId)!=null,de=j.view.applyChanges(J,H.isPrimaryClient,fe,oe);return GE(H,j.targetId,de.Ya),de.snapshot}(r,I,w,O);const u=await kE(r.localStore,e,!0),f=new CO(e,u.Ns),m=f.Ga(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);GE(r,n,g.Ya);const E=new DO(e,n,f);return r.ru.set(e,E),r.iu.has(n)?r.iu.get(n).push(e):r.iu.set(n,[e]),g.snapshot}async function kO(r,e,n){const s=Oe(r),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!zh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Mp(s.remoteStore,o.targetId),Km(s,o.targetId)}).catch(bo)):(Km(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function PO(r,e){const n=Oe(r),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Mp(n.remoteStore,s.targetId))}async function LO(r,e,n){const s=FO(r);try{const o=await function(f,m){const p=Oe(f),g=Ht.now(),E=m.reduce((O,x)=>O.add(x.key),He());let I,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let x=vr(),H=He();return p.Cs.getEntries(O,E).next(j=>{x=j,x.forEach(($,ae)=>{ae.isValidDocument()||(H=H.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,x)).next(j=>{I=j;const $=[];for(const ae of m){const J=JD(ae,I.get(ae.key).overlayedDocument);J!=null&&$.push(new _s(ae.key,J,NT(J.value.mapValue),ei.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)}).next(j=>{w=j;const $=j.applyToLocalDocumentSet(I,H);return p.documentOverlayCache.saveOverlays(O,j.batchId,$)})}).then(()=>({batchId:w.batchId,changes:qT(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new At(Le)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await yu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Up(o,"Failed to persist write");n.reject(u)}}async function wS(r,e){const n=Oe(r);try{const s=await X2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?rt(f.tu,14607):o.removedDocuments.size>0&&(rt(f.tu,42227),f.tu=!1))}),await yu(n,s,e)}catch(s){await bo(s)}}function FE(r,e,n){const s=Oe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Oe(f);p.onlineState=m;let g=!1;p.queries.forEach((E,I)=>{for(const w of I.Ra)w.ga(m)&&(g=!0)}),g&&jp(p)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UO(r,e,n){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new At(Te.comparator);f=f.insert(u,fn.newNoDocument(u,Ce.min()));const m=He().add(u),p=new Fh(Ce.min(),new Map,new At(Le),f,m);await wS(s,p),s.ou=s.ou.remove(u),s._u.delete(e),Bp(s)}else await Hm(s.localStore,e,!1).then(()=>Km(s,e,n)).catch(bo)}async function jO(r,e){const n=Oe(r),s=e.batch.batchId;try{const o=await $2(n.localStore,e);IS(n,s,null),RS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await bo(o)}}async function zO(r,e,n){const s=Oe(r);try{const o=await function(f,m){const p=Oe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(I=>(rt(I!==null,37113),E=I.keys(),p.mutationQueue.removeMutationBatch(g,I))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);IS(s,e,n),RS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await bo(o)}}function RS(r,e){(r.cu.get(e)||[]).forEach(n=>{n.resolve()}),r.cu.delete(e)}function IS(r,e,n){const s=Oe(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||CS(r,s)})}function CS(r,e){r.su.delete(e.path.canonicalString());const n=r.ou.get(e);n!==null&&(Mp(r.remoteStore,n),r.ou=r.ou.remove(e),r._u.delete(n),Bp(r))}function GE(r,e,n){for(const s of n)s instanceof SS?(r.au.addReference(s.key,e),BO(r,s)):s instanceof AS?(me(zp,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||CS(r,s.key)):we(19791,{Iu:s})}function BO(r,e){const n=e.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(me(zp,"New document in limbo: "+n),r.su.add(s),Bp(r))}function Bp(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const n=new Te(gt.fromString(e)),s=r.lu.next();r._u.set(s,new OO(n)),r.ou=r.ou.insert(n,s),dS(r.remoteStore,new ts(Pi(Ap(n.path)),s,"TargetPurposeLimboResolution",Lh.le))}}async function yu(r,e,n){const s=Oe(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const I=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(g){o.push(g);const I=Np.Ps(p.targetId,g);u.push(I)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=Oe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>re.forEach(g,w=>re.forEach(w.ls,O=>E.persistence.referenceDelegate.addReference(I,w.targetId,O)).next(()=>re.forEach(w.hs,O=>E.persistence.referenceDelegate.removeReference(I,w.targetId,O)))))}catch(I){if(!wo(I))throw I;me(xp,"Failed to update sequence numbers: "+I)}for(const I of g){const w=I.targetId;if(!I.fromCache){const O=E.Ss.get(w),x=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(x);E.Ss=E.Ss.insert(w,H)}}}(s.localStore,u))}async function qO(r,e){const n=Oe(r);if(!n.currentUser.isEqual(e)){me(zp,"User change. New user:",e.toKey());const s=await uS(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new pe(se.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ms)}}function HO(r,e){const n=Oe(r),s=n._u.get(e);if(s&&s.tu)return He().add(s.key);{let o=He();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function DS(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UO.bind(null,e),e.nu.Q_=RO.bind(null,e.eventManager),e.nu.Tu=IO.bind(null,e.eventManager),e}function FO(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zO.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Y2(this.persistence,new G2,e.initialUser,this.serializer)}Ru(e){return new lS(Op.Ei,this.serializer)}Au(e){return new tO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class GO extends Rh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){rt(this.persistence.referenceDelegate instanceof bh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new O2(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new lS(s=>bh.Ei(s,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=qO.bind(null,this.syncEngine),await AO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wO}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=function(u){return new aO(u)}(e.databaseInfo);return function(u,f,m,p){return new cO(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new fO(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>FE(this.syncEngine,n,0),function(){return UE.C()?new UE:new nO}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const I=new NO(o,u,f,m,p,g);return E&&(I.hu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Oe(o);me(ra,"RemoteStore shutting down."),u.aa.add(5),await gu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class KO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Up(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function _m(r,e){r.asyncQueue.verifyOperationInProgress(),me(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await uS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function KE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await QO(r);me(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>zE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>zE(e.remoteStore,o)),r._onlineComponents=e}async function QO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(fs,"Using user provided OfflineComponentProvider");try{await _m(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await _m(r,new Rh)}}else me(fs,"Using default OfflineComponentProvider"),await _m(r,new GO(void 0));return r._offlineComponents}async function NS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(fs,"Using user provided OnlineComponentProvider"),await KE(r,r._uninitializedComponentsProvider._online)):(me(fs,"Using default OnlineComponentProvider"),await KE(r,new Qm))),r._onlineComponents}function YO(r){return NS(r).then(e=>e.syncEngine)}async function xS(r){const e=await NS(r),n=e.eventManager;return n.onListen=xO.bind(null,e.syncEngine),n.onUnlisten=kO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PO.bind(null,e.syncEngine),n}function $O(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new OS({next:w=>{E.yu(),f.enqueueAndForget(()=>ES(u,I));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),I=new TS(Ap(m.path),E,{includeMetadataChanges:!0,Fa:!0});return vS(u,I)}(await xS(r),r.asyncQueue,e,n,s)),s.promise}function XO(r,e,n={}){const s=new mr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new OS({next:w=>{E.yu(),f.enqueueAndForget(()=>ES(u,I)),w.fromCache&&p.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),I=new TS(m,E,{includeMetadataChanges:!0,Fa:!0});return vS(u,I)}(await xS(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r,e,n){if(!n)throw new pe(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WO(r,e,n,s){if(e===!0&&s===!0)throw new pe(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function YE(r){if(!Te.isDocumentKey(r))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $E(r){if(Te.isDocumentKey(r))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Yh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function di(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(r);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firestore.googleapis.com",XE=!0;class WE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=XE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C2)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sD;switch(s.type){case"firstParty":return new uD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,xh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QE.get(n);s&&(me("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())}(this),Promise.resolve()}}function ZO(r,e,n,s={}){var o;r=di(r,$h);const u=au(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;f.host!==kS&&f.host!==p&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Js(g,m)&&(r._setSettings(g),u&&(w0(`https://${p}`),xh("Firestore",!0)),s.mockUserToken)){let E,I;if(typeof s.mockUserToken=="string")E=s.mockUserToken,I=hn.MOCK_USER;else{E=yR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new hn(w)}r._authCredentials=new aD(new vT(E,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class as extends Io{constructor(e,n,s){super(e,n,Ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Te(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function ui(r,e,...n){if(r=Gt(r),VS("collection","path",e),r instanceof $h){const s=gt.fromString(e,...n);return $E(s),new as(r,null,s)}{if(!(r instanceof vn||r instanceof as))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gt.fromString(e,...n));return $E(s),new as(r.firestore,null,s)}}function Ln(r,e,...n){if(r=Gt(r),arguments.length===1&&(e=TT.newId()),VS("doc","path",e),r instanceof $h){const s=gt.fromString(e,...n);return YE(s),new vn(r,null,new Te(s))}{if(!(r instanceof vn||r instanceof as))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gt.fromString(e,...n));return YE(s),new vn(r.firestore,r instanceof as?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new hS(this,"async_queue_retry"),this.ju=()=>{const s=ym();s&&me(ZE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new mr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wo(e))throw e;me(ZE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,_r("INTERNAL UNHANDLED ERROR: ",e0(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Lp.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&we(47125,{ec:e0(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function e0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class la extends $h{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new JE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function JO(r,e){const n=typeof r=="object"?r:D0(),s=typeof r=="string"?r:yh,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pR("firestore");u&&ZO(o,...u)}return o}function qp(r){if(r._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||eN(r),r._firestoreClient}function eN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new bD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,MS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new KO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(on.fromBase64String(e))}catch(n){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^__.*__$/;class nN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class PS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{oc:r})}}class Kp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Kp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ih(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(LS(this.oc)&&tN.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class iN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}dc(e,n,s,o=!1){return new Kp({oc:e,methodName:n,Ec:s,path:an.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new iN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function US(r,e,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,e,n,o);Qp("Data must be an object, but it was:",f,s);const m=jS(s,f);let p,g;if(u.merge)p=new Pn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const I of u.mergeFields){const w=Ym(e,I,n);if(!f.contains(w))throw new pe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);BS(E,w)||E.push(w)}p=new Pn(E),g=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,g=f.fieldTransforms;return new nN(new Rn(m),p,g)}class Zh extends Hp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}function rN(r,e,n,s){const o=r.dc(1,e,n);Qp("Data must be an object, but it was:",o,s);const u=[],f=Rn.empty();ys(s,(p,g)=>{const E=Yp(e,p,n);g=Gt(g);const I=o.hc(E);if(g instanceof Zh)u.push(E);else{const w=_u(g,I);w!=null&&(u.push(E),f.set(E,w))}});const m=new Pn(u);return new PS(f,m,o.fieldTransforms)}function sN(r,e,n,s,o,u){const f=r.dc(1,e,n),m=[Ym(e,s,n)],p=[o];if(u.length%2!=0)throw new pe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Ym(e,u[w])),p.push(u[w+1]);const g=[],E=Rn.empty();for(let w=m.length-1;w>=0;--w)if(!BS(g,m[w])){const O=m[w];let x=p[w];x=Gt(x);const H=f.hc(O);if(x instanceof Zh)g.push(O);else{const j=_u(x,H);j!=null&&(g.push(O),E.set(O,j))}}const I=new Pn(g);return new PS(E,I,f.fieldTransforms)}function aN(r,e,n,s=!1){return _u(n,r.dc(s?4:3,e))}function _u(r,e){if(zS(r=Gt(r)))return Qp("Unsupported field value:",e,r),jS(r,e);if(r instanceof Hp)return function(s,o){if(!LS(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Gt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ht.fromDate(s);return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Ht){const u=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,u)}}if(s instanceof Fp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yo)return{bytesValue:eS(o.serializer,s._byteString)};if(s instanceof vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gp)return function(f,m){return{mapValue:{fields:{[DT]:{stringValue:OT},[_h]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return bp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Yh(s)}`)}(r,e)}function jS(r,e){const n={};return AT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,(s,o)=>{const u=_u(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function zS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ht||r instanceof Fp||r instanceof yo||r instanceof vn||r instanceof Hp||r instanceof Gp)}function Qp(r,e,n){if(!zS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Yh(n);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function Ym(r,e,n){if((e=Gt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return Yp(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const oN=new RegExp("[~\\*/\\[\\]]");function Yp(r,e,n){if(e.search(oN)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Xh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new pe(se.INVALID_ARGUMENT,m+r+p)}function BS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lN extends qS{data(){return super.data()}}function $p(r,e){return typeof e=="string"?Yp(r,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xp{}class cN extends Xp{}function HS(r,e,...n){let s=[];e instanceof Xp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Wp).length,m=u.filter(p=>p instanceof Jh).length;if(f>1||f>0&&m>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Jh extends cN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return FS(e._query,n),new Io(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Wh(e.firestore);return function(u,f,m,p,g,E,I){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){n0(I,E);const x=[];for(const H of I)x.push(t0(p,u,H));w={arrayValue:{values:x}}}else w=t0(p,u,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||n0(I,E),w=aN(m,f,I,E==="in"||E==="not-in");return Lt.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $m(r,e,n){const s=e,o=$p("where",r);return Jh._create(o,s,n)}class Wp extends Xp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)FS(f,p),f=Lm(f,p)}(e._query,n),new Io(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function t0(r,e,n){if(typeof(n=Gt(n))=="string"){if(n==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UT(e)&&n.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(gt.fromString(n));if(!Te.isDocumentKey(s))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gE(r,new Te(s))}if(n instanceof vn)return gE(r,n._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yh(n)}.`)}function n0(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hN{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[_h].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ot(f.doubleValue));return new Gp(u)}convertGeoPoint(e){return new Fp(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const n=ls(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=gt.fromString(e);rt(aS(s),9688,{name:e});const o=new eu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KS extends qS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($p("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rh extends KS{data(e={}){return super.data(e)}}class fN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function dN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r){r=di(r,vn);const e=di(r.firestore,la);return $O(qp(e),r._key).then(n=>mN(e,r,n))}class YS extends hN{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function ds(r){r=di(r,Io);const e=di(r.firestore,la),n=qp(e),s=new YS(e);return uN(r._query),XO(n,r._query).then(o=>new fN(e,s,r,o))}function Ch(r,e,n){r=di(r,vn);const s=di(r.firestore,la),o=GS(r.converter,e);return ef(s,[US(Wh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ei.none())])}function Zp(r,e,n,...s){r=di(r,vn);const o=di(r.firestore,la),u=Wh(o);let f;return f=typeof(e=Gt(e))=="string"||e instanceof Xh?sN(u,"updateDoc",r._key,e,n,s):rN(u,"updateDoc",r._key,e),ef(o,[f.toMutation(r._key,ei.exists(!0))])}function Jp(r){return ef(di(r.firestore,la),[new wp(r._key,ei.none())])}function eg(r,e){const n=di(r.firestore,la),s=Ln(r),o=GS(r.converter,e);return ef(n,[US(Wh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function ef(r,e){return function(s,o){const u=new mr;return s.asyncQueue.enqueueAndForget(async()=>LO(await YO(s),o,u)),u.promise}(qp(r),e)}function mN(r,e,n){const s=n.docs.get(e._key),o=new YS(r);return new KS(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ao=o})(To),lo(new ea("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new la(new oD(s.getProvider("auth-internal")),new cD(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),rs(rE,sE,e),rs(rE,sE,"esm2017")})();var pN="firebase",gN="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(pN,gN,"app");const yN={apiKey:"AIzaSyDmLqsJTI9o5PDeRPeziwfLC5LgoLlhdds",authDomain:"variyar-1b71e.firebaseapp.com",projectId:"variyar-1b71e",storageBucket:"variyar-1b71e.firebasestorage.app",messagingSenderId:"784254383187",appId:"1:784254383187:web:27c55cd75b8ff07a1b02a6",measurementId:"G-YEGK38KL8L"},$S=C0(yN),Jn=iD($S),St=JO($S);async function _N(r,e="student"){const n=Ln(St,"users",r.uid);await Ch(n,{uid:r.uid,email:r.email,role:e,createdAt:new Date})}const XS=q.createContext(),tf=()=>q.useContext(XS),vN=({children:r})=>{const[e,n]=q.useState(null),[s,o]=q.useState(null),[u,f]=q.useState(!0),m=async w=>{try{const O=Ln(St,"users",w),x=await QS(O);return x.exists()?x.data():(console.warn("User document not found in Firestore."),{role:null})}catch(O){return console.error("Error fetching user data:",O),{role:null}}},p=async(w,O,x="student")=>{try{const H=await dh(Jn,w,O);return await Ch(Ln(St,"users",H.user.uid),{email:w,role:x}),H}catch(H){throw console.error("Signup error:",H),H}},g=async(w,O)=>{try{return await BI(Jn,w,O)}catch(x){throw console.error("Login error:",x),x}},E=async()=>{try{await Vh(Jn)}catch(w){console.error("Logout error:",w)}};q.useEffect(()=>{const w=KI(Jn,async O=>{if(n(O),O){const x=await m(O.uid);o(x)}else o(null);f(!1)});return()=>w()},[]);const I={currentUser:e,userData:s,login:g,signup:p,logout:E,loading:u};return L.jsx(XS.Provider,{value:I,children:!u&&r})};function EN(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(""),{login:p,userData:g,currentUser:E}=tf(),I=ps(),w=r.includes("@"),O=async x=>{x.preventDefault(),m("");try{let H,j;w?(H=r.trim(),j=o):(H=`${r.trim()}@yourdomain.local`,j=n.replace(/-/g,"")),await p(H,j)}catch(H){console.error(H),m("Login failed. Check your credentials.")}};return q.useEffect(()=>{if(!(!g||!E))switch(g.role){case"student":I("/student");break;case"staff":I("/staff");break;case"admin":I("/admin");break}},[g,E]),L.jsxs("div",{className:"container py-4",style:{maxWidth:400},children:[L.jsx("h3",{className:"mb-3",children:"Login"}),L.jsxs("form",{onSubmit:O,children:[f&&L.jsx("div",{className:"alert alert-danger",children:f}),L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label",children:"Email or Application Number"}),L.jsx("input",{type:"text",className:"form-control",placeholder:w?"email@example.com":"e.g. 12345678",value:r,onChange:x=>e(x.target.value.trim()),required:!0})]}),w?L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label",children:"Password"}),L.jsx("input",{type:"password",className:"form-control",placeholder:"Enter password",value:o,onChange:x=>u(x.target.value),required:!0})]}):L.jsxs("div",{className:"mb-3",children:[L.jsx("label",{className:"form-label",children:"Date of Birth"}),L.jsx("input",{type:"date",className:"form-control",value:n,onChange:x=>s(x.target.value),required:!0}),L.jsx("div",{className:"form-text",children:"Students login with App No + DOB"})]}),L.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Log In"})]})]})}function TN(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),f=ps(),m=async p=>{p.preventDefault();try{const g=await dh(Jn,r,n);await _N(g.user,"student"),f("/student")}catch(g){u(g.message)}};return L.jsxs("form",{onSubmit:m,children:[o&&L.jsx("p",{children:o}),L.jsx("input",{value:r,onChange:p=>e(p.target.value),placeholder:"Email"}),L.jsx("input",{type:"password",value:n,onChange:p=>s(p.target.value),placeholder:"Password"}),L.jsx("button",{type:"submit",children:"Sign Up"})]})}function SN(){const{currentUser:r,userData:e}=tf(),[n,s]=q.useState([]),[o,u]=q.useState({}),[f,m]=q.useState(!0),p=ps(),g=new Date,E=O=>(O==null?void 0:O.seconds)!==void 0?new Date(O.seconds*1e3):new Date(O);q.useEffect(()=>{r&&(async()=>{m(!0);const H=(await ds(ui(St,"exams"))).docs.map(ae=>{const{title:J,duration:fe,startTime:oe,endTime:de}=ae.data();return{id:ae.id,title:J,duration:fe,startTime:E(oe),endTime:E(de)}});s(H);const j=await ds(HS(ui(St,"registrations"),$m("studentId","==",r.uid))),$={};j.docs.forEach(ae=>{$[ae.data().examId]={id:ae.id,...ae.data()}}),u($),m(!1)})()},[r]);const I=async O=>{const x=new Date,H=await eg(ui(St,"registrations"),{examId:O.id,studentId:r.uid,startedAt:x,answers:{},score:null,submittedAt:null});u(j=>({...j,[O.id]:{id:H.id,examId:O.id,studentId:r.uid,startedAt:x}})),p(`/exam/${O.id}`)},w=async()=>{await Vh(Jn),p("/login")};return f?L.jsx("div",{className:"text-center py-5",children:"Loading your dashboard..."}):L.jsxs("div",{children:[L.jsx("section",{className:"bg-light text-dark py-5",style:{backgroundImage:"url(/banner.jpg)",backgroundSize:"cover",backgroundPosition:"center"},children:L.jsxs("div",{className:"container text-center text-white",children:[L.jsxs("h1",{className:"display-4 fw-bold",children:["Welcome, ",(e==null?void 0:e.name)||r.email.split("@")[0]]}),L.jsx("p",{className:"lead",children:"Dive into your exams and track your progress in real-time."}),L.jsx("button",{className:"btn btn-danger btn-lg",onClick:w,children:"Logout"})]})}),L.jsxs("div",{className:"container my-5",children:[L.jsx("h2",{className:"mb-4 text-center",children:"Your Exams"}),L.jsxs("div",{className:"row g-4",children:[n.map(O=>{const x=o[O.id],H=new Date(O.startTime.getTime()-5*60*1e3),j=O.endTime;let $,ae,J;if(x)if(x.submittedAt)$=`Submitted at ${E(x.submittedAt).toLocaleTimeString()}`,ae="success";else{const fe=new Date(E(x.startedAt).getTime()+O.duration*6e4);g>fe?($="Times up",ae="danger"):($=`In progress til ${fe.toLocaleTimeString()}`,ae="warning",J=L.jsx("button",{className:"btn btn-outline-warning me-2",onClick:()=>p(`/exam/${O.id}`),children:"Continue"}))}else g<H?($=`Opens ${O.startTime.toLocaleTimeString()}`,ae="secondary"):g>j?($="Expired",ae="dark"):($=`Live til ${O.endTime.toLocaleTimeString()}`,ae="info",J=L.jsx("button",{className:"btn btn-outline-success me-2",onClick:()=>I(O),children:"Start Exam"}));return L.jsx("div",{className:"col-12 col-sm-6 col-lg-4",children:L.jsx("div",{className:"card h-100 border-0 shadow-lg",children:L.jsxs("div",{className:"card-body d-flex flex-column",children:[L.jsx("h5",{className:"card-title fw-semibold",children:O.title}),L.jsxs("p",{className:"text-muted mb-2",children:[O.startTime.toLocaleDateString()," "," ",O.duration," mins"]}),L.jsx("div",{className:"mb-3",children:L.jsx("div",{className:"progress",style:{height:"8px"},children:L.jsx("div",{className:"progress-bar bg-{color}",role:"progressbar",style:{width:`${Math.min(100,Math.max(0,(g-H)/(j-H)*100))}%`}})})}),L.jsxs("div",{className:"mt-auto",children:[L.jsx("span",{className:`badge bg-${ae} mb-2`,children:$}),L.jsx("div",{children:J})]})]})})},O.id)}),n.length===0&&L.jsx("div",{className:"col-12",children:L.jsx("p",{className:"text-center text-muted",children:"No exams scheduled."})})]})]})]})}function AN({examId:r,onQuestionAdded:e}){const[n,s]=q.useState(""),[o,u]=q.useState(["","","",""]),[f,m]=q.useState(0),p=(E,I)=>{const w=[...o];w[I]=E,u(w)},g=async E=>{E.preventDefault(),await eg(ui(St,"exams",r,"questions"),{question:n,options:o,correctIndex:f}),s(""),u(["","","",""]),m(0),e&&e()};return L.jsxs("form",{onSubmit:g,style:{marginTop:10},children:[L.jsx("input",{type:"text",placeholder:"Question",value:n,onChange:E=>s(E.target.value),required:!0}),o.map((E,I)=>L.jsx("input",{type:"text",placeholder:`Option ${I+1}`,value:E,onChange:w=>p(w.target.value,I),required:!0},I)),L.jsxs("select",{value:f,onChange:E=>m(parseInt(E.target.value)),children:[L.jsx("option",{value:0,children:"Option 1 is correct"}),L.jsx("option",{value:1,children:"Option 2 is correct"}),L.jsx("option",{value:2,children:"Option 3 is correct"}),L.jsx("option",{value:3,children:"Option 4 is correct"})]}),L.jsx("button",{type:"submit",children:"Add Question"})]})}function bN({examId:r,onDeleted:e}){const[n,s]=q.useState([]),o=async()=>{const f=await ds(ui(St,"exams",r,"questions"));s(f.docs.map(m=>({id:m.id,...m.data()})))},u=async f=>{await Jp(Ln(St,"exams",r,"questions",f)),o(),e&&e()};return q.useEffect(()=>{o()},[r]),n.length?L.jsx("ul",{style:{marginLeft:20},children:n.map((f,m)=>L.jsxs("li",{children:[L.jsxs("strong",{children:["Q",m+1,":"]})," ",f.question," ",L.jsx("button",{onClick:()=>u(f.id),style:{marginLeft:8},children:"Delete"})]},f.id))}):L.jsx("p",{children:"No questions yet."})}function wN(){const[r,e]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState(0),[p,g]=q.useState([]),[E,I]=q.useState(null),[w,O]=q.useState(null),[x,H]=q.useState(null),[j,$]=q.useState([]),ae=ps(),J=A=>A?A.seconds!==void 0?new Date(A.seconds*1e3).toLocaleString():(A instanceof Date?A:new Date(A)).toLocaleString():"",fe=async()=>{const A=await ds(ui(St,"exams"));g(A.docs.map(C=>({id:C.id,...C.data()})))};q.useEffect(()=>{fe()},[]);const oe=async A=>{A.preventDefault();const C={title:r,startTime:new Date(n),endTime:new Date(o),duration:Number(f),createdBy:Jn.currentUser.uid};E?(await Zp(Ln(St,"exams",E.id),C),I(null)):await eg(ui(St,"exams"),C),e(""),s(""),u(""),m(0),fe()},de=async A=>{await Jp(Ln(St,"exams",A)),w===A&&O(null),fe()},V=A=>{I(A);const C=N=>N?(N.seconds!==void 0?new Date(N.seconds*1e3):new Date(N)).toISOString().slice(0,16):"";e(A.title),s(C(A.startTime)),u(C(A.endTime)),m(A.duration)},T=async()=>{await Vh(Jn),ae("/login")},S=async A=>{const N=(await ds(ui(St,"registrations"))).docs.map(D=>({id:D.id,...D.data()})).filter(D=>D.examId===A);$(N),H(A)};return L.jsxs("div",{className:"container py-4",children:[L.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[L.jsxs("h2",{children:[" ",E?"Edit Exam":"Create New Exam"]}),L.jsx("button",{className:"btn btn-danger",onClick:T,children:"Logout"})]}),L.jsxs("form",{onSubmit:oe,className:"mb-4",children:[L.jsx("div",{className:"mb-2",children:L.jsx("input",{className:"form-control",type:"text",placeholder:"Exam Title",value:r,onChange:A=>e(A.target.value),required:!0})}),L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{children:"Start Date & Time:"}),L.jsx("input",{className:"form-control",type:"datetime-local",value:n,onChange:A=>s(A.target.value),required:!0})]}),L.jsxs("div",{className:"mb-2",children:[L.jsx("label",{children:"End Date & Time:"}),L.jsx("input",{className:"form-control",type:"datetime-local",value:o,onChange:A=>u(A.target.value),required:!0})]}),L.jsx("div",{className:"mb-2",children:L.jsx("input",{className:"form-control",type:"number",placeholder:"Duration (mins)",value:f,onChange:A=>m(A.target.value),required:!0})}),L.jsx("button",{className:"btn btn-primary me-2",type:"submit",children:E?"Update Exam":"Create Exam"}),E&&L.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{I(null),e(""),s(""),u(""),m(0)},children:"Cancel"})]}),L.jsx("h3",{children:" All Exams"}),p.length===0?L.jsx("p",{children:"No exams scheduled."}):L.jsx("ul",{className:"list-group",children:p.map(A=>L.jsxs("li",{className:"list-group-item mb-3",children:[L.jsxs("div",{className:"d-flex justify-content-between",children:[L.jsxs("div",{children:[L.jsx("strong",{children:A.title}),L.jsxs("div",{children:["Starts: ",J(A.startTime)]}),L.jsxs("div",{children:["Ends: ",J(A.endTime)]}),L.jsxs("div",{children:["Duration: ",A.duration," mins"]})]}),L.jsxs("div",{className:"btn-group",children:[L.jsx("button",{onClick:()=>V(A),className:"btn btn-sm btn-outline-primary",children:"Edit"}),L.jsx("button",{onClick:()=>de(A.id),className:"btn btn-sm btn-outline-danger",children:"Delete"}),L.jsx("button",{onClick:()=>O(w===A.id?null:A.id),className:"btn btn-sm btn-outline-secondary",children:w===A.id?"Hide Qs":"Manage Qs"}),L.jsx("button",{onClick:()=>S(A.id),className:"btn btn-sm btn-outline-info",children:"View Submissions"})]})]}),w===A.id&&L.jsxs("div",{className:"mt-3",children:[L.jsx(AN,{examId:A.id,onQuestionAdded:fe}),L.jsx(bN,{examId:A.id})]}),x===A.id&&L.jsxs("div",{className:"mt-3 ps-3",children:[L.jsx("h5",{children:"Submissions:"}),j.length===0?L.jsx("p",{children:"No submissions yet."}):L.jsx("ul",{children:j.map(C=>L.jsxs("li",{className:"mb-2",children:[L.jsxs("div",{children:[L.jsx("strong",{children:"Student:"})," ",C.studentId]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Started:"})," ",J(C.startedAt)]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Submitted:"})," ",C.submittedAt?J(C.submittedAt):"In progress"]}),L.jsxs("div",{children:[L.jsx("strong",{children:"Score:"})," ",C.score!==null?C.score:"Not graded"]})]},C.id))})]})]},A.id))})]})}var sh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var RN=sh.exports,i0;function IN(){return i0||(i0=1,function(r,e){((n,s)=>{r.exports=s()})(RN,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},o,u=!s.document&&!!s.postMessage,f=s.IS_PAPA_WORKER||!1,m={},p=0,g={};function E(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var A=oe(S);A.chunkSize=parseInt(A.chunkSize),S.step||S.chunk||(A.chunkSize=null),this._handle=new H(A),(this._handle.streamer=this)._config=A}).call(this,T),this.parseChunk=function(S,A){var C=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<C){let D=this._config.newline;D||(N=this._config.quoteChar||'"',D=this._handle.guessLineEndings(S,N)),S=[...S.split(D).slice(C)].join(D)}this.isFirstChunk&&V(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(S))!==void 0&&(S=N),this.isFirstChunk=!1,this._halted=!1;var C=this._partialLine+S,N=(this._partialLine="",this._handle.parse(C,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=N.meta.cursor,C=(this._finished||(this._partialLine=C.substring(S-this._baseIndex),this._baseIndex=S),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)s.postMessage({results:N,workerId:g.WORKER_ID,finished:C});else if(V(this._config.chunk)&&!A){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!C||!V(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),C||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(S){V(this._config.error)?this._config.error(S):f&&this._config.error&&s.postMessage({workerId:g.WORKER_ID,error:S,finished:!1})}}function I(T){var S;(T=T||{}).chunkSize||(T.chunkSize=g.RemoteChunkSize),E.call(this,T),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),u||(S.onload=de(this._chunkLoaded,this),S.onerror=de(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var A,C=this._config.downloadRequestHeaders;for(A in C)S.setRequestHeader(A,C[A])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+N));try{S.send(this._config.downloadRequestBody)}catch(D){this._chunkError(D.message)}u&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(A=>(A=A.getResponseHeader("Content-Range"))!==null?parseInt(A.substring(A.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(A){A=S.statusText||A,this._sendError(new Error(A))}}function w(T){(T=T||{}).chunkSize||(T.chunkSize=g.LocalChunkSize),E.call(this,T);var S,A,C=typeof FileReader<"u";this.stream=function(N){this._input=N,A=N.slice||N.webkitSlice||N.mozSlice,C?((S=new FileReader).onload=de(this._chunkLoaded,this),S.onerror=de(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,D=(this._config.chunkSize&&(D=Math.min(this._start+this._config.chunkSize,this._input.size),N=A.call(N,this._start,D)),S.readAsText(N,this._config.encoding));C||this._chunkLoaded({target:{result:D}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function O(T){var S;E.call(this,T=T||{}),this.stream=function(A){return S=A,this._nextChunk()},this._nextChunk=function(){var A,C;if(!this._finished)return A=this._config.chunkSize,S=A?(C=S.substring(0,A),S.substring(A)):(C=S,""),this._finished=!S,this.parseChunk(C)}}function x(T){E.call(this,T=T||{});var S=[],A=!0,C=!1;this.pause=function(){E.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){E.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):A=!0},this._streamData=de(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(D){this._streamError(D)}},this),this._streamError=de(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=de(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=de(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function H(T){var S,A,C,N,D=Math.pow(2,53),ke=-D,je=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,ue=0,ce=0,k=!1,Q=!1,ne=[],Y={data:[],errors:[],meta:{}};function he(_e){return T.skipEmptyLines==="greedy"?_e.join("").trim()==="":_e.length===1&&_e[0].length===0}function ve(){if(Y&&C&&(Je("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),C=!1),T.skipEmptyLines&&(Y.data=Y.data.filter(function(Xe){return!he(Xe)})),ge()){let Xe=function(dt,We){V(T.transformHeader)&&(dt=T.transformHeader(dt,We)),ne.push(dt)};var Ie=Xe;if(Y)if(Array.isArray(Y.data[0])){for(var _e=0;ge()&&_e<Y.data.length;_e++)Y.data[_e].forEach(Xe);Y.data.splice(0,1)}else Y.data.forEach(Xe)}function Ne(Xe,dt){for(var We=T.header?{}:[],Fe=0;Fe<Xe.length;Fe++){var xe=Fe,st=Xe[Fe],st=((Ge,nt)=>(mt=>(T.dynamicTypingFunction&&T.dynamicTyping[mt]===void 0&&(T.dynamicTyping[mt]=T.dynamicTypingFunction(mt)),(T.dynamicTyping[mt]||T.dynamicTyping)===!0))(Ge)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((mt=>{if(je.test(mt)&&(mt=parseFloat(mt),ke<mt&&mt<D))return 1})(nt)?parseFloat(nt):W.test(nt)?new Date(nt):nt===""?null:nt):nt)(xe=T.header?Fe>=ne.length?"__parsed_extra":ne[Fe]:xe,st=T.transform?T.transform(st,xe):st);xe==="__parsed_extra"?(We[xe]=We[xe]||[],We[xe].push(st)):We[xe]=st}return T.header&&(Fe>ne.length?Je("FieldMismatch","TooManyFields","Too many fields: expected "+ne.length+" fields but parsed "+Fe,ce+dt):Fe<ne.length&&Je("FieldMismatch","TooFewFields","Too few fields: expected "+ne.length+" fields but parsed "+Fe,ce+dt)),We}var et;Y&&(T.header||T.dynamicTyping||T.transform)&&(et=1,!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(Ne),et=Y.data.length):Y.data=Ne(Y.data,0),T.header&&Y.meta&&(Y.meta.fields=ne),ce+=et)}function ge(){return T.header&&ne.length===0}function Je(_e,Ne,et,Ie){_e={type:_e,code:Ne,message:et},Ie!==void 0&&(_e.row=Ie),Y.errors.push(_e)}V(T.step)&&(N=T.step,T.step=function(_e){Y=_e,ge()?ve():(ve(),Y.data.length!==0&&(ue+=_e.data.length,T.preview&&ue>T.preview?A.abort():(Y.data=Y.data[0],N(Y,ee))))}),this.parse=function(_e,Ne,et){var Ie=T.quoteChar||'"',Ie=(T.newline||(T.newline=this.guessLineEndings(_e,Ie)),C=!1,T.delimiter?V(T.delimiter)&&(T.delimiter=T.delimiter(_e),Y.meta.delimiter=T.delimiter):((Ie=((Xe,dt,We,Fe,xe)=>{var st,Ge,nt,mt;xe=xe||[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var En=0;En<xe.length;En++){for(var Tn,Un=xe[En],bt=0,mn=0,Me=0,De=(nt=void 0,new $({comments:Fe,delimiter:Un,newline:dt,preview:10}).parse(Xe)),Et=0;Et<De.data.length;Et++)We&&he(De.data[Et])?Me++:(Tn=De.data[Et].length,mn+=Tn,nt===void 0?nt=Tn:0<Tn&&(bt+=Math.abs(Tn-nt),nt=Tn));0<De.data.length&&(mn/=De.data.length-Me),(Ge===void 0||bt<=Ge)&&(mt===void 0||mt<mn)&&1.99<mn&&(Ge=bt,st=Un,mt=mn)}return{successful:!!(T.delimiter=st),bestDelimiter:st}})(_e,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=Ie.bestDelimiter:(C=!0,T.delimiter=g.DefaultDelimiter),Y.meta.delimiter=T.delimiter),oe(T));return T.preview&&T.header&&Ie.preview++,S=_e,A=new $(Ie),Y=A.parse(S,Ne,et),ve(),k?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return k},this.pause=function(){k=!0,A.abort(),S=V(T.chunk)?"":S.substring(A.getCharIndex())},this.resume=function(){ee.streamer._halted?(k=!1,ee.streamer.parseChunk(S,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,A.abort(),Y.meta.aborted=!0,V(T.complete)&&T.complete(Y),S=""},this.guessLineEndings=function(Xe,Ie){Xe=Xe.substring(0,1048576);var Ie=new RegExp(j(Ie)+"([^]*?)"+j(Ie),"gm"),et=(Xe=Xe.replace(Ie,"")).split("\r"),Ie=Xe.split(`
`),Xe=1<Ie.length&&Ie[0].length<et[0].length;if(et.length===1||Xe)return`
`;for(var dt=0,We=0;We<et.length;We++)et[We][0]===`
`&&dt++;return dt>=et.length/2?`\r
`:"\r"}}function j(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(T){var S=(T=T||{}).delimiter,A=T.newline,C=T.comments,N=T.step,D=T.preview,ke=T.fastMode,je=null,W=!1,ee=T.quoteChar==null?'"':T.quoteChar,ue=ee;if(T.escapeChar!==void 0&&(ue=T.escapeChar),(typeof S!="string"||-1<g.BAD_DELIMITERS.indexOf(S))&&(S=","),C===S)throw new Error("Comment character same as delimiter");C===!0?C="#":(typeof C!="string"||-1<g.BAD_DELIMITERS.indexOf(C))&&(C=!1),A!==`
`&&A!=="\r"&&A!==`\r
`&&(A=`
`);var ce=0,k=!1;this.parse=function(Q,ne,Y){if(typeof Q!="string")throw new Error("Input must be a string");var he=Q.length,ve=S.length,ge=A.length,Je=C.length,_e=V(N),Ne=[],et=[],Ie=[],Xe=ce=0;if(!Q)return bt();if(ke||ke!==!1&&Q.indexOf(ee)===-1){for(var dt=Q.split(A),We=0;We<dt.length;We++){if(Ie=dt[We],ce+=Ie.length,We!==dt.length-1)ce+=A.length;else if(Y)return bt();if(!C||Ie.substring(0,Je)!==C){if(_e){if(Ne=[],mt(Ie.split(S)),mn(),k)return bt()}else mt(Ie.split(S));if(D&&D<=We)return Ne=Ne.slice(0,D),bt(!0)}}return bt()}for(var Fe=Q.indexOf(S,ce),xe=Q.indexOf(A,ce),st=new RegExp(j(ue)+j(ee),"g"),Ge=Q.indexOf(ee,ce);;)if(Q[ce]===ee)for(Ge=ce,ce++;;){if((Ge=Q.indexOf(ee,Ge+1))===-1)return Y||et.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:ce}),Tn();if(Ge===he-1)return Tn(Q.substring(ce,Ge).replace(st,ee));if(ee===ue&&Q[Ge+1]===ue)Ge++;else if(ee===ue||Ge===0||Q[Ge-1]!==ue){Fe!==-1&&Fe<Ge+1&&(Fe=Q.indexOf(S,Ge+1));var nt=En((xe=xe!==-1&&xe<Ge+1?Q.indexOf(A,Ge+1):xe)===-1?Fe:Math.min(Fe,xe));if(Q.substr(Ge+1+nt,ve)===S){Ie.push(Q.substring(ce,Ge).replace(st,ee)),Q[ce=Ge+1+nt+ve]!==ee&&(Ge=Q.indexOf(ee,ce)),Fe=Q.indexOf(S,ce),xe=Q.indexOf(A,ce);break}if(nt=En(xe),Q.substring(Ge+1+nt,Ge+1+nt+ge)===A){if(Ie.push(Q.substring(ce,Ge).replace(st,ee)),Un(Ge+1+nt+ge),Fe=Q.indexOf(S,ce),Ge=Q.indexOf(ee,ce),_e&&(mn(),k))return bt();if(D&&Ne.length>=D)return bt(!0);break}et.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:ce}),Ge++}}else if(C&&Ie.length===0&&Q.substring(ce,ce+Je)===C){if(xe===-1)return bt();ce=xe+ge,xe=Q.indexOf(A,ce),Fe=Q.indexOf(S,ce)}else if(Fe!==-1&&(Fe<xe||xe===-1))Ie.push(Q.substring(ce,Fe)),ce=Fe+ve,Fe=Q.indexOf(S,ce);else{if(xe===-1)break;if(Ie.push(Q.substring(ce,xe)),Un(xe+ge),_e&&(mn(),k))return bt();if(D&&Ne.length>=D)return bt(!0)}return Tn();function mt(Me){Ne.push(Me),Xe=ce}function En(Me){var De=0;return De=Me!==-1&&(Me=Q.substring(Ge+1,Me))&&Me.trim()===""?Me.length:De}function Tn(Me){return Y||(Me===void 0&&(Me=Q.substring(ce)),Ie.push(Me),ce=he,mt(Ie),_e&&mn()),bt()}function Un(Me){ce=Me,mt(Ie),Ie=[],xe=Q.indexOf(A,ce)}function bt(Me){if(T.header&&!ne&&Ne.length&&!W){var De=Ne[0],Et=Object.create(null),Nt=new Set(De);let vs=!1;for(let pi=0;pi<De.length;pi++){let Kt=De[pi];if(Et[Kt=V(T.transformHeader)?T.transformHeader(Kt,pi):Kt]){let In,gi=Et[Kt];for(;In=Kt+"_"+gi,gi++,Nt.has(In););Nt.add(In),De[pi]=In,Et[Kt]++,vs=!0,(je=je===null?{}:je)[In]=Kt}else Et[Kt]=1,De[pi]=Kt;Nt.add(Kt)}vs&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:Ne,errors:et,meta:{delimiter:S,linebreak:A,aborted:k,truncated:!!Me,cursor:Xe+(ne||0),renamedHeaders:je}}}function mn(){N(bt()),Ne=[],et=[]}},this.abort=function(){k=!0},this.getCharIndex=function(){return ce}}function ae(T){var S=T.data,A=m[S.workerId],C=!1;if(S.error)A.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){C=!0,J(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:fe,resume:fe};if(V(A.userStep)){for(var D=0;D<S.results.data.length&&(A.userStep({data:S.results.data[D],errors:S.results.errors,meta:S.results.meta},N),!C);D++);delete S.results}else V(A.userChunk)&&(A.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!C&&J(S.workerId,S.results)}function J(T,S){var A=m[T];V(A.userComplete)&&A.userComplete(S),A.terminate(),delete m[T]}function fe(){throw new Error("Not implemented.")}function oe(T){if(typeof T!="object"||T===null)return T;var S,A=Array.isArray(T)?[]:{};for(S in T)A[S]=oe(T[S]);return A}function de(T,S){return function(){T.apply(S,arguments)}}function V(T){return typeof T=="function"}return g.parse=function(T,S){var A=(S=S||{}).dynamicTyping||!1;if(V(A)&&(S.dynamicTypingFunction=A,A={}),S.dynamicTyping=A,S.transform=!!V(S.transform)&&S.transform,!S.worker||!g.WORKERS_SUPPORTED)return A=null,g.NODE_STREAM_INPUT,typeof T=="string"?(T=(C=>C.charCodeAt(0)!==65279?C:C.slice(1))(T),A=new(S.download?I:O)(S)):T.readable===!0&&V(T.read)&&V(T.on)?A=new x(S):(s.File&&T instanceof File||T instanceof Object)&&(A=new w(S)),A.stream(T);(A=(()=>{var C;return!!g.WORKERS_SUPPORTED&&(C=(()=>{var N=s.URL||s.webkitURL||null,D=n.toString();return g.BLOB_URL||(g.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",D,")();"],{type:"text/javascript"})))})(),(C=new s.Worker(C)).onmessage=ae,C.id=p++,m[C.id]=C)})()).userStep=S.step,A.userChunk=S.chunk,A.userComplete=S.complete,A.userError=S.error,S.step=V(S.step),S.chunk=V(S.chunk),S.complete=V(S.complete),S.error=V(S.error),delete S.worker,A.postMessage({input:T,config:S,workerId:A.id})},g.unparse=function(T,S){var A=!1,C=!0,N=",",D=`\r
`,ke='"',je=ke+ke,W=!1,ee=null,ue=!1,ce=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||g.BAD_DELIMITERS.filter(function(ne){return S.delimiter.indexOf(ne)!==-1}).length||(N=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(A=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(W=S.skipEmptyLines),typeof S.newline=="string"&&(D=S.newline),typeof S.quoteChar=="string"&&(ke=S.quoteChar),typeof S.header=="boolean"&&(C=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");ee=S.columns}S.escapeChar!==void 0&&(je=S.escapeChar+ke),S.escapeFormulae instanceof RegExp?ue=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(ue=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(ke),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return k(null,T,W);if(typeof T[0]=="object")return k(ee||Object.keys(T[0]),T,W)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||ee),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),k(T.fields||[],T.data||[],W);throw new Error("Unable to serialize unrecognized input");function k(ne,Y,he){var ve="",ge=(typeof ne=="string"&&(ne=JSON.parse(ne)),typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(ne)&&0<ne.length),Je=!Array.isArray(Y[0]);if(ge&&C){for(var _e=0;_e<ne.length;_e++)0<_e&&(ve+=N),ve+=Q(ne[_e],_e);0<Y.length&&(ve+=D)}for(var Ne=0;Ne<Y.length;Ne++){var et=(ge?ne:Y[Ne]).length,Ie=!1,Xe=ge?Object.keys(Y[Ne]).length===0:Y[Ne].length===0;if(he&&!ge&&(Ie=he==="greedy"?Y[Ne].join("").trim()==="":Y[Ne].length===1&&Y[Ne][0].length===0),he==="greedy"&&ge){for(var dt=[],We=0;We<et;We++){var Fe=Je?ne[We]:We;dt.push(Y[Ne][Fe])}Ie=dt.join("").trim()===""}if(!Ie){for(var xe=0;xe<et;xe++){0<xe&&!Xe&&(ve+=N);var st=ge&&Je?ne[xe]:xe;ve+=Q(Y[Ne][st],xe)}Ne<Y.length-1&&(!he||0<et&&!Xe)&&(ve+=D)}}return ve}function Q(ne,Y){var he,ve;return ne==null?"":ne.constructor===Date?JSON.stringify(ne).slice(1,25):(ve=!1,ue&&typeof ne=="string"&&ue.test(ne)&&(ne="'"+ne,ve=!0),he=ne.toString().replace(ce,je),(ve=ve||A===!0||typeof A=="function"&&A(ne,Y)||Array.isArray(A)&&A[Y]||((ge,Je)=>{for(var _e=0;_e<Je.length;_e++)if(-1<ge.indexOf(Je[_e]))return!0;return!1})(he,g.BAD_DELIMITERS)||-1<he.indexOf(N)||he.charAt(0)===" "||he.charAt(he.length-1)===" ")?ke+he+ke:he)}},g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!u&&!!s.Worker,g.NODE_STREAM_INPUT=1,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=$,g.ParserHandle=H,g.NetworkStreamer=I,g.FileStreamer=w,g.StringStreamer=O,g.ReadableStreamStreamer=x,s.jQuery&&((o=s.jQuery).fn.parse=function(T){var S=T.config||{},A=[];return this.each(function(D){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var ke=0;ke<this.files.length;ke++)A.push({file:this.files[ke],inputElem:this,instanceConfig:o.extend({},S)})}),C(),this;function C(){if(A.length===0)V(T.complete)&&T.complete();else{var D,ke,je,W,ee=A[0];if(V(T.before)){var ue=T.before(ee.file,ee.inputElem);if(typeof ue=="object"){if(ue.action==="abort")return D="AbortError",ke=ee.file,je=ee.inputElem,W=ue.reason,void(V(T.error)&&T.error({name:D},ke,je,W));if(ue.action==="skip")return void N();typeof ue.config=="object"&&(ee.instanceConfig=o.extend(ee.instanceConfig,ue.config))}else if(ue==="skip")return void N()}var ce=ee.instanceConfig.complete;ee.instanceConfig.complete=function(k){V(ce)&&ce(k,ee.file,ee.inputElem),N()},g.parse(ee.file,ee.instanceConfig)}}function N(){A.splice(0,1),C()}}),f&&(s.onmessage=function(T){T=T.data,g.WORKER_ID===void 0&&T&&(g.WORKER_ID=T.workerId),typeof T.input=="string"?s.postMessage({workerId:g.WORKER_ID,results:g.parse(T.input,T.config),finished:!0}):(s.File&&T.input instanceof File||T.input instanceof Object)&&(T=g.parse(T.input,T.config))&&s.postMessage({workerId:g.WORKER_ID,results:T,finished:!0})}),(I.prototype=Object.create(E.prototype)).constructor=I,(w.prototype=Object.create(E.prototype)).constructor=w,(O.prototype=Object.create(O.prototype)).constructor=O,(x.prototype=Object.create(E.prototype)).constructor=x,g})}(sh)),sh.exports}var CN=IN();const DN=Xm(CN);function ON(){const[r,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(null),[f,m]=q.useState(!1),[p,g]=q.useState([]),[E,I]=q.useState(""),[w,O]=q.useState(""),x=ps(),H=async()=>{s(!0);const de=(await ds(ui(St,"users"))).docs.map(V=>({uid:V.id,...V.data()}));e(de),s(!1)};q.useEffect(()=>{H()},[]);const j=async(oe,de)=>{await Zp(Ln(St,"users",oe),{role:de}),H()},$=async oe=>{window.confirm("Delete this user record?")&&(await Jp(Ln(St,"users",oe)),H())},ae=async()=>{try{const oe=await dh(Jn,E,w);await HI(oe.user,{displayName:"Staff"}),await Ch(Ln(St,"users",oe.user.uid),{email:oe.user.email,role:"staff",createdAt:new Date}),alert(`Staff ${E} created!`),I(""),O(""),H()}catch(oe){alert("Error: "+oe.message)}},J=()=>{o&&(m(!0),g([]),DN.parse(o,{header:!0,skipEmptyLines:!0,complete:async oe=>{const de=[];for(let V of oe.data){const T=String(V.applicationNumber||V.application_number).trim(),S=String(V.DOB||V.dob).trim(),A=S.split(/[-/]/);if(A.length!==3){de.push(` ${T}: invalid DOB format "${S}"`);continue}let[C,N,D]=A;C=C.padStart(2,"0"),N=N.padStart(2,"0");const ke=`${D}-${N}-${C}`,je=`${D}${N}${C}`,W=`${T}@yourdomain.local`;try{const ee=await dh(Jn,W,je);await Ch(Ln(St,"users",ee.user.uid),{uid:ee.user.uid,role:"student",applicationNumber:T,dob:ke,createdAt:new Date}),de.push(` ${T}`)}catch(ee){de.push(` ${T}: ${ee.code}`)}}g(de),m(!1),H()},error:oe=>{console.error("CSV parse error:",oe),g([` CSV parse error: ${oe.message}`]),m(!1)}}))},fe=async()=>{await Vh(Jn),x("/login")};return L.jsxs("div",{className:"container py-4",children:[L.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[L.jsx("h2",{children:"Admin Dashboard"}),L.jsx("button",{className:"btn btn-danger",onClick:fe,children:"Logout"})]}),L.jsxs("div",{className:"mb-5",children:[L.jsx("h4",{children:"Invite New Staff"}),L.jsxs("div",{className:"d-flex gap-2",children:[L.jsx("input",{type:"email",className:"form-control",placeholder:"Staff Email",value:E,onChange:oe=>I(oe.target.value)}),L.jsx("input",{type:"password",className:"form-control",placeholder:"Temporary Password",value:w,onChange:oe=>O(oe.target.value)}),L.jsx("button",{className:"btn btn-primary",onClick:ae,children:"Create Staff"})]})]}),L.jsxs("div",{className:"mb-5",children:[L.jsx("h4",{children:"Import Students from CSV"}),L.jsx("input",{type:"file",accept:".csv",onChange:oe=>u(oe.target.files[0])}),L.jsx("button",{className:"btn btn-secondary ms-2",onClick:J,disabled:!o||f,children:f?"Importing...":"Start Import"}),p.length>0&&L.jsxs("div",{className:"mt-3",children:[L.jsx("h6",{children:"Import Results:"}),L.jsx("ul",{children:p.map((oe,de)=>L.jsx("li",{children:oe},de))})]})]}),n?L.jsx("p",{children:"Loading users..."}):L.jsxs("table",{className:"table table-striped",children:[L.jsx("thead",{children:L.jsxs("tr",{children:[L.jsx("th",{children:"UID"}),L.jsx("th",{children:"Email"}),L.jsx("th",{children:"Name/App#"}),L.jsx("th",{children:"Role"}),L.jsx("th",{children:"Actions"})]})}),L.jsx("tbody",{children:r.map(oe=>L.jsxs("tr",{children:[L.jsx("td",{children:oe.uid}),L.jsx("td",{children:oe.email}),L.jsx("td",{children:oe.applicationNumber||oe.displayName||""}),L.jsx("td",{children:L.jsxs("select",{className:"form-select",value:oe.role,onChange:de=>j(oe.uid,de.target.value),children:[L.jsx("option",{value:"student",children:"Student"}),L.jsx("option",{value:"staff",children:"Staff"}),L.jsx("option",{value:"admin",children:"Admin"})]})}),L.jsx("td",{children:L.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>$(oe.uid),children:"Delete"})})]},oe.uid))})]})]})}function NN(){const{examId:r}=hw(),[e,n]=q.useState([]),[s,o]=q.useState({}),[u,f]=q.useState(!0),[m,p]=q.useState(0),g=ps();q.useEffect(()=>{(async()=>{try{const x=await QS(Ln(St,"exams",r));if(x.exists()){const $=x.data();p($.duration*60)}const j=(await ds(ui(St,`exams/${r}/questions`))).docs.map($=>({id:$.id,...$.data()}));n(j)}catch(x){console.error("Error fetching exam/questions:",x)}finally{f(!1)}})()},[r]),q.useEffect(()=>{if(m<=0){u||I();return}const O=setInterval(()=>{p(x=>x-1)},1e3);return()=>clearInterval(O)},[m,u]);const E=(O,x)=>{o(H=>({...H,[O]:x}))},I=async()=>{const O=Jn.currentUser;if(O)try{let x=0;e.forEach($=>{const ae=s[$.id];Number(ae)===Number($.correctIndex)&&x++});const j=(await ds(HS(ui(St,"registrations"),$m("examId","==",r),$m("studentId","==",O.uid)))).docs[0];if(!j)throw new Error("Registration not found");await Zp(Ln(St,"registrations",j.id),{answers:s,score:x,submittedAt:new Date}),alert("Exam submitted successfully!"),g("/student")}catch(x){console.error("Submission failed:",x),alert("Error submitting exam")}};if(u)return L.jsx("p",{children:"Loading questions..."});const w=O=>{const x=Math.floor(O/60),H=O%60;return`${String(x).padStart(2,"0")}:${String(H).padStart(2,"0")}`};return L.jsxs("div",{className:"container py-4",children:[L.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[L.jsx("h2",{children:"Exam"}),L.jsxs("h4",{className:"text-danger",children:["Time Left: ",w(m)]})]}),e.map((O,x)=>L.jsxs("div",{className:"mb-4",children:[L.jsxs("h5",{children:[x+1,". ",O.question]}),O.options.map((H,j)=>L.jsx("div",{children:L.jsxs("label",{children:[L.jsx("input",{type:"radio",name:O.id,value:j,checked:s[O.id]===j,onChange:()=>E(O.id,j)})," ",H]})},j))]},O.id)),L.jsx("button",{className:"btn btn-primary mt-3",onClick:I,children:"Submit Exam"})]})}function xN(){const{userData:r,loading:e}=tf();if(e)return L.jsx("div",{children:"Loading..."});if(!r||!r.role)return L.jsx(Ws,{to:"/login",replace:!0});switch(r.role){case"student":return L.jsx(Ws,{to:"/student",replace:!0});case"staff":return L.jsx(Ws,{to:"/staff",replace:!0});case"admin":return L.jsx(Ws,{to:"/admin",replace:!0});default:return L.jsx(Ws,{to:"/login",replace:!0})}}const vm=({allowedRoles:r})=>{const{currentUser:e,userData:n,loading:s}=tf();return s?L.jsx("div",{children:"Loading..."}):!e||!r.includes(n==null?void 0:n.role)?L.jsx(Ws,{to:"/login"}):L.jsx(ww,{})};function MN(){return L.jsx(Ww,{children:L.jsxs(Iw,{children:[L.jsx(Wn,{path:"/",element:L.jsx(xN,{})}),L.jsx(Wn,{path:"/login",element:L.jsx(EN,{})}),L.jsx(Wn,{path:"/signup",element:L.jsx(TN,{})}),L.jsxs(Wn,{element:L.jsx(vm,{allowedRoles:["student"]}),children:[L.jsx(Wn,{path:"/student",element:L.jsx(SN,{})}),L.jsx(Wn,{path:"/exam/:examId",element:L.jsx(NN,{})})]}),L.jsx(Wn,{element:L.jsx(vm,{allowedRoles:["staff"]}),children:L.jsx(Wn,{path:"/staff",element:L.jsx(wN,{})})}),L.jsx(Wn,{element:L.jsx(vm,{allowedRoles:["admin"]}),children:L.jsx(Wn,{path:"/admin",element:L.jsx(ON,{})})}),L.jsx(Wn,{path:"*",element:L.jsx(Ws,{to:"/",replace:!0})})]})})}xb.createRoot(document.getElementById("root")).render(L.jsx(bb.StrictMode,{children:L.jsx(vN,{children:L.jsx(MN,{})})}));
