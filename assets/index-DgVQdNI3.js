(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $m(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Ab(){if(uv)return Vl;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var cv;function bb(){return cv||(cv=1,tm.exports=Ab()),tm.exports}var $=bb(),nm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function wb(){if(hv)return Ve;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),I=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=I&&V[I]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,Q={};function z(V,Y,ie){this.props=V,this.context=Y,this.refs=Q,this.updater=ie||M}z.prototype.isReactComponent={},z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=z.prototype;function ne(V,Y,ie){this.props=V,this.context=Y,this.refs=Q,this.updater=ie||M}var U=ne.prototype=new G;U.constructor=ne,k(U,z.prototype),U.isPureReactComponent=!0;var oe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function N(V,Y,ie,X,de,ve){return ie=ve.ref,{$$typeof:r,type:V,key:Y,ref:ie!==void 0?ie:null,props:ve}}function T(V,Y){return N(V.type,Y,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function w(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Y[ie]})}var D=/\/+/g;function O(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?w(""+V.key):Y.toString(36)}function C(){}function ke(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ue(V,Y,ie,X,de){var ve=typeof V;(ve==="undefined"||ve==="boolean")&&(V=null);var ge=!1;if(V===null)ge=!0;else switch(ve){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(V.$$typeof){case r:case e:ge=!0;break;case E:return ge=V._init,Ue(ge(V._payload),Y,ie,X,de)}}if(ge)return de=de(V),ge=X===""?"."+O(V,0):X,oe(de)?(ie="",ge!=null&&(ie=ge.replace(D,"$&/")+"/"),Ue(de,Y,ie,"",function(Ne){return Ne})):de!=null&&(S(de)&&(de=T(de,ie+(de.key==null||V&&V.key===de.key?"":(""+de.key).replace(D,"$&/")+"/")+ge)),Y.push(de)),1;ge=0;var Je=X===""?".":X+":";if(oe(V))for(var _e=0;_e<V.length;_e++)X=V[_e],ve=Je+O(X,_e),ge+=Ue(X,Y,ie,ve,de);else if(_e=b(V),typeof _e=="function")for(V=_e.call(V),_e=0;!(X=V.next()).done;)X=X.value,ve=Je+O(X,_e++),ge+=Ue(X,Y,ie,ve,de);else if(ve==="object"){if(typeof V.then=="function")return Ue(ke(V),Y,ie,X,de);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ge}function W(V,Y,ie){if(V==null)return V;var X=[],de=0;return Ue(V,X,"","",function(ve){return Y.call(ie,ve,de++)}),X}function te(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var he=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ue(){}return Ve.Children={map:W,forEach:function(V,Y,ie){W(V,function(){Y.apply(this,arguments)},ie)},count:function(V){var Y=0;return W(V,function(){Y++}),Y},toArray:function(V){return W(V,function(Y){return Y})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ve.Component=z,Ve.Fragment=n,Ve.Profiler=o,Ve.PureComponent=ne,Ve.StrictMode=s,Ve.Suspense=g,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(V){return le.H.useMemoCache(V)}},Ve.cache=function(V){return function(){return V.apply(null,arguments)}},Ve.cloneElement=function(V,Y,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var X=k({},V.props),de=V.key,ve=void 0;if(Y!=null)for(ge in Y.ref!==void 0&&(ve=void 0),Y.key!==void 0&&(de=""+Y.key),Y)!fe.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(X[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)X.children=ie;else if(1<ge){for(var Je=Array(ge),_e=0;_e<ge;_e++)Je[_e]=arguments[_e+2];X.children=Je}return N(V.type,de,void 0,void 0,ve,X)},Ve.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ve.createElement=function(V,Y,ie){var X,de={},ve=null;if(Y!=null)for(X in Y.key!==void 0&&(ve=""+Y.key),Y)fe.call(Y,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(de[X]=Y[X]);var ge=arguments.length-2;if(ge===1)de.children=ie;else if(1<ge){for(var Je=Array(ge),_e=0;_e<ge;_e++)Je[_e]=arguments[_e+2];de.children=Je}if(V&&V.defaultProps)for(X in ge=V.defaultProps,ge)de[X]===void 0&&(de[X]=ge[X]);return N(V,ve,void 0,void 0,null,de)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(V){return{$$typeof:m,render:V}},Ve.isValidElement=S,Ve.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:te}},Ve.memo=function(V,Y){return{$$typeof:p,type:V,compare:Y===void 0?null:Y}},Ve.startTransition=function(V){var Y=le.T,ie={};le.T=ie;try{var X=V(),de=le.S;de!==null&&de(ie,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ue,he)}catch(ve){he(ve)}finally{le.T=Y}},Ve.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ve.use=function(V){return le.H.use(V)},Ve.useActionState=function(V,Y,ie){return le.H.useActionState(V,Y,ie)},Ve.useCallback=function(V,Y){return le.H.useCallback(V,Y)},Ve.useContext=function(V){return le.H.useContext(V)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(V,Y){return le.H.useDeferredValue(V,Y)},Ve.useEffect=function(V,Y,ie){var X=le.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(V,Y)},Ve.useId=function(){return le.H.useId()},Ve.useImperativeHandle=function(V,Y,ie){return le.H.useImperativeHandle(V,Y,ie)},Ve.useInsertionEffect=function(V,Y){return le.H.useInsertionEffect(V,Y)},Ve.useLayoutEffect=function(V,Y){return le.H.useLayoutEffect(V,Y)},Ve.useMemo=function(V,Y){return le.H.useMemo(V,Y)},Ve.useOptimistic=function(V,Y){return le.H.useOptimistic(V,Y)},Ve.useReducer=function(V,Y,ie){return le.H.useReducer(V,Y,ie)},Ve.useRef=function(V){return le.H.useRef(V)},Ve.useState=function(V){return le.H.useState(V)},Ve.useSyncExternalStore=function(V,Y,ie){return le.H.useSyncExternalStore(V,Y,ie)},Ve.useTransition=function(){return le.H.useTransition()},Ve.version="19.1.0",Ve}var fv;function Xm(){return fv||(fv=1,nm.exports=wb()),nm.exports}var H=Xm();const Rb=$m(H);var im={exports:{}},kl={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Ib(){return dv||(dv=1,function(r){function e(W,te){var he=W.length;W.push(te);e:for(;0<he;){var ue=he-1>>>1,V=W[ue];if(0<o(V,te))W[ue]=te,W[he]=V,he=ue;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var te=W[0],he=W.pop();if(he!==te){W[0]=he;e:for(var ue=0,V=W.length,Y=V>>>1;ue<Y;){var ie=2*(ue+1)-1,X=W[ie],de=ie+1,ve=W[de];if(0>o(X,he))de<V&&0>o(ve,X)?(W[ue]=ve,W[de]=he,ue=de):(W[ue]=X,W[ie]=he,ue=ie);else if(de<V&&0>o(ve,he))W[ue]=ve,W[de]=he,ue=de;else break e}}return te}function o(W,te){var he=W.sortIndex-te.sortIndex;return he!==0?he:W.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,I=null,b=3,M=!1,k=!1,Q=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var te=n(p);te!==null;){if(te.callback===null)s(p);else if(te.startTime<=W)s(p),te.sortIndex=te.expirationTime,e(g,te);else break;te=n(p)}}function le(W){if(Q=!1,oe(W),!k)if(n(g)!==null)k=!0,fe||(fe=!0,O());else{var te=n(p);te!==null&&Ue(le,te.startTime-W)}}var fe=!1,N=-1,T=5,S=-1;function w(){return z?!0:!(r.unstable_now()-S<T)}function D(){if(z=!1,fe){var W=r.unstable_now();S=W;var te=!0;try{e:{k=!1,Q&&(Q=!1,ne(N),N=-1),M=!0;var he=b;try{t:{for(oe(W),I=n(g);I!==null&&!(I.expirationTime>W&&w());){var ue=I.callback;if(typeof ue=="function"){I.callback=null,b=I.priorityLevel;var V=ue(I.expirationTime<=W);if(W=r.unstable_now(),typeof V=="function"){I.callback=V,oe(W),te=!0;break t}I===n(g)&&s(g),oe(W)}else s(g);I=n(g)}if(I!==null)te=!0;else{var Y=n(p);Y!==null&&Ue(le,Y.startTime-W),te=!1}}break e}finally{I=null,b=he,M=!1}te=void 0}}finally{te?O():fe=!1}}}var O;if(typeof U=="function")O=function(){U(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ke=C.port2;C.port1.onmessage=D,O=function(){ke.postMessage(null)}}else O=function(){G(D,0)};function Ue(W,te){N=G(function(){W(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(W){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var he=b;b=te;try{return W()}finally{b=he}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=b;b=W;try{return te()}finally{b=he}},r.unstable_scheduleCallback=function(W,te,he){var ue=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ue+he:ue):he=ue,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=he+V,W={id:E++,callback:te,priorityLevel:W,startTime:he,expirationTime:V,sortIndex:-1},he>ue?(W.sortIndex=he,e(p,W),n(g)===null&&W===n(p)&&(Q?(ne(N),N=-1):Q=!0,Ue(le,he-ue))):(W.sortIndex=V,e(g,W),k||M||(k=!0,fe||(fe=!0,O()))),W},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(W){var te=b;return function(){var he=b;b=te;try{return W.apply(this,arguments)}finally{b=he}}}}(sm)),sm}var mv;function Cb(){return mv||(mv=1,rm.exports=Ib()),rm.exports}var am={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function Db(){if(pv)return un;pv=1;var r=Xm();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(g,p,null,E)},un.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},un.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},un.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},un.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,I=m(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:I,integrity:b,fetchPriority:M}):E==="script"&&s.d.X(g,{crossOrigin:I,integrity:b,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},un.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},un.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,I=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:I,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},un.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},un.requestFormReset=function(g){s.d.r(g)},un.unstable_batchedUpdates=function(g,p){return g(p)},un.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.1.0",un}var gv;function Ob(){if(gv)return am.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=Db(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function Nb(){if(yv)return kl;yv=1;var r=Cb(),e=Xm(),n=Ob();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,I=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),U=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case z:return"Profiler";case Q:return"StrictMode";case le:return"Suspense";case fe:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case U:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case T:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}var Ue=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ue=[],V=-1;function Y(t){return{current:t}}function ie(t){0>V||(t.current=ue[V],ue[V]=null,V--)}function X(t,i){V++,ue[V]=t.current,t.current=i}var de=Y(null),ve=Y(null),ge=Y(null),Je=Y(null);function _e(t,i){switch(X(ge,i),X(ve,t),X(de,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?L_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=L_(i),t=U_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(de),X(de,t)}function Ne(){ie(de),ie(ve),ie(ge)}function et(t){t.memoizedState!==null&&X(Je,t);var i=de.current,a=U_(i,t.type);i!==a&&(X(ve,t),X(de,a))}function Ie(t){ve.current===t&&(ie(de),ie(ve)),Je.current===t&&(ie(Je),Dl._currentValue=he)}var Xe=Object.prototype.hasOwnProperty,dt=r.unstable_scheduleCallback,We=r.unstable_cancelCallback,Fe=r.unstable_shouldYield,xe=r.unstable_requestPaint,st=r.unstable_now,Ge=r.unstable_getCurrentPriorityLevel,nt=r.unstable_ImmediatePriority,mt=r.unstable_UserBlockingPriority,En=r.unstable_NormalPriority,Tn=r.unstable_LowPriority,jn=r.unstable_IdlePriority,bt=r.log,mn=r.unstable_setDisableYieldValue,Me=null,De=null;function Tt(t){if(typeof bt=="function"&&mn(t),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(Me,t)}catch{}}var Nt=Math.clz32?Math.clz32:Gt,Ts=Math.log,gi=Math.LN2;function Gt(t){return t>>>=0,t===0?32:31-(Ts(t)/gi|0)|0}var Dn=256,yi=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=ri(l):(v&=A,v!==0?h=ri(v):a||(a=A&~t,a!==0&&(h=ri(a))))):(A=l&~d,A!==0?h=ri(A):v!==0?h=ri(v):a||(a=l&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Ss(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Do(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=Dn;return Dn<<=1,(Dn&4194048)===0&&(Dn=256),t}function No(){var t=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),t}function Bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function qi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var J=31-Nt(a),re=1<<J;A[J]=0,x[J]=-1;var F=q[J];if(F!==null)for(q[J]=null,J=0;J<F.length;J++){var K=F[J];K!==null&&(K.lane&=-536870913)}a&=~re}l!==0&&_i(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function _i(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Nt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Nt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function br(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wr(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function Au(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var _t=Math.random().toString(36).slice(2),Ut="__reactFiber$"+_t,xt="__reactProps$"+_t,Bn="__reactContainer$"+_t,Vo="__reactEvents$"+_t,rf="__reactListeners$"+_t,Rr="__reactHandles$"+_t,bu="__reactResources$"+_t,As="__reactMarker$"+_t;function Ir(t){delete t[Ut],delete t[xt],delete t[Vo],delete t[rf],delete t[Rr]}function Hi(t){var i=t[Ut];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Bn]||a[Ut]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=q_(t);t!==null;){if(a=t[Ut])return a;t=q_(t)}return i}t=a,a=t.parentNode}return null}function vi(t){if(t=t[Ut]||t[Bn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ei(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pn(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function It(t){t[As]=!0}var ko=new Set,da={};function si(t,i){Fi(t,i),Fi(t+"Capture",i)}function Fi(t,i){for(da[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},bs={};function Iu(t){return Xe.call(bs,t)?!0:Xe.call(Ru,t)?!1:wu.test(t)?bs[t]=!0:(Ru[t]=!0,!1)}function Cr(t,i,a){if(Iu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ti(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Jt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ws,Cu;function Gi(t){if(ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ws=i&&i[1]||"",Cu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Cu}var ma=!1;function pa(t,i){if(!t||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(K){var F=K}Reflect.construct(t,[],re)}else{try{re.call()}catch(K){F=K}t.call(re.prototype)}}else{try{throw Error()}catch(K){F=K}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var x=v.split(`
`),q=A.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===q.length)for(l=x.length-1,h=q.length-1;1<=l&&0<=h&&x[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==q[h]){var J=`
`+x[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Gi(a):""}function Po(t){switch(t.tag){case 26:case 27:case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return Gi("Activity");default:return""}}function ga(t){try{var i="";do i+=Po(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(t){var i=Lo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ya(t){t._valueTracker||(t._valueTracker=sf(t))}function Uo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Lo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var af=/[\n"\\]/g;function Mt(t){return t.replace(af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function On(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+gn(i)):t.value!==""+gn(i)&&(t.value=""+gn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Dr(t,v,gn(i)):a!=null?Dr(t,v,gn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+gn(A):t.removeAttribute("name")}function Is(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+gn(a):"",i=i!=null?""+gn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Dr(t,i,a){i==="number"&&Rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ki(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function lt(t,i,a){if(i!=null&&(i=""+gn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+gn(a):""}function Cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=gn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function qn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Du(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ds.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Du(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Du(t,d,i[d])}function jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Qi=null;function Hn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yi=null,$i=null;function Bo(t){var i=vi(t);if(i&&(t=i.stateNode)){var a=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(On(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[xt]||null;if(!h)throw Error(s(90));On(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Uo(l)}break e;case"textarea":lt(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ki(t,!!a.multiple,i,!1)}}}var Si=!1;function Ou(t,i,a){if(Si)return t(i,a);Si=!0;try{var l=t(i);return l}finally{if(Si=!1,(Yi!==null||$i!==null)&&(Ac(),Yi&&(i=Yi,t=$i,$i=Yi=null,Bo(i),t)))for(i=0;i<t.length;i++)Bo(t[i])}}function Os(t,i){var a=t.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(ai)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Fn=!1}var Ai=null,Or=null,Xi=null;function qo(){if(Xi)return Xi;var t,i=Or,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Xi=h.slice(t,1<l?1-l:void 0)}function bi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function wi(){return!0}function Ho(){return!1}function Kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wi:Ho,this.isPropagationStopped=Ho,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),i}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Kt(it),xs=E({},it,{view:0,detail:0}),Nu=Kt(xs),Ea,Ta,Ri,Ms=E({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(Ea=t.screenX-Ri.screenX,Ta=t.screenY-Ri.screenY):Ta=Ea=0,Ri=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Gn=Kt(Ms),xu=E({},Ms,{dataTransfer:0}),uf=Kt(xu),Vs=E({},xs,{relatedTarget:0}),Sa=Kt(Vs),Fo=E({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Kt(Fo),Mu=E({},it,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ba=Kt(Mu),cf=E({},it,{data:0}),Go=Kt(cf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ku[t])?!!i[t]:!1}function Ps(){return Ko}var Pu=E({},xs,{key:function(t){if(t.key){var i=ks[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=bi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?bi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=Kt(Pu),Lu=E({},Ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qo=Kt(Lu),Wi=E({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Uu=Kt(Wi),zu=E({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Kt(zu),Bu=E({},Ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=Kt(Bu),yn=E({},it,{newState:0,oldState:0}),qu=Kt(yn),Hu=[9,13,27,32],Ii=ai&&"CompositionEvent"in window,c=null;ai&&"documentMode"in document&&(c=document.documentMode);var y=ai&&"TextEvent"in window&&!c,_=ai&&(!Ii||c&&8<c&&11>=c),R=" ",j=!1;function Z(t,i){switch(t){case"keyup":return Hu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ke=!1;function zt(t,i){switch(t){case"compositionend":return ce(i);case"keypress":return i.which!==32?null:(j=!0,R);case"textInput":return t=i.data,t===R&&j?null:t;default:return null}}function Qe(t,i){if(Ke)return t==="compositionend"||!Ii&&Z(t,i)?(t=qo(),Xi=Or=Ai=null,Ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Qt[t.type]:i==="textarea"}function Zi(t,i,a,l){Yi?$i?$i.push(l):$i=[l]:Yi=l,i=Dc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var en=null,Ci=null;function Yo(t){x_(t,0)}function Fu(t){var i=Ei(t);if(Uo(i))return t}function Jp(t,i){if(t==="change")return i}var eg=!1;if(ai){var hf;if(ai){var ff="oninput"in document;if(!ff){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),ff=typeof tg.oninput=="function"}hf=ff}else hf=!1;eg=hf&&(!document.documentMode||9<document.documentMode)}function ng(){en&&(en.detachEvent("onpropertychange",ig),Ci=en=null)}function ig(t){if(t.propertyName==="value"&&Fu(Ci)){var i=[];Zi(i,Ci,t,Hn(t)),Ou(Yo,i)}}function JS(t,i,a){t==="focusin"?(ng(),en=i,Ci=a,en.attachEvent("onpropertychange",ig)):t==="focusout"&&ng()}function eA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(Ci)}function tA(t,i){if(t==="click")return Fu(i)}function nA(t,i){if(t==="input"||t==="change")return Fu(i)}function iA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Nn=typeof Object.is=="function"?Object.is:iA;function $o(t,i){if(Nn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Xe.call(i,h)||!Nn(t[h],i[h]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sg(t,i){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Rs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Rs(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var rA=ai&&"documentMode"in document&&11>=document.documentMode,Ia=null,mf=null,Xo=null,pf=!1;function lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ia==null||Ia!==Rs(l)||(l=Ia,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&$o(Xo,l)||(Xo=l,l=Dc(mf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Ls(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},gf={},ug={};ai&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Us(t){if(gf[t])return gf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return gf[t]=i[a];return t}var cg=Us("animationend"),hg=Us("animationiteration"),fg=Us("animationstart"),sA=Us("transitionrun"),aA=Us("transitionstart"),oA=Us("transitioncancel"),dg=Us("transitionend"),mg=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function oi(t,i){mg.set(t,i),si(i,[t])}var pg=new WeakMap;function Kn(t,i){if(typeof t=="object"&&t!==null){var a=pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ga(i)},pg.set(t,i),i)}return{value:t,source:i,stack:ga(i)}}var Qn=[],Da=0,_f=0;function Gu(){for(var t=Da,i=_f=Da=0;i<t;){var a=Qn[i];Qn[i++]=null;var l=Qn[i];Qn[i++]=null;var h=Qn[i];Qn[i++]=null;var d=Qn[i];if(Qn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function Ku(t,i,a,l){Qn[Da++]=t,Qn[Da++]=i,Qn[Da++]=a,Qn[Da++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Ku(t,i,a,l),Qu(t)}function Oa(t,i){return Ku(t,null,null,i),Qu(t)}function gg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Nt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Qu(t){if(50<Tl)throw Tl=0,wd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function lA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,i,a,l){return new lA(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=xn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function yg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Yu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Ef(t)&&(v=1);else if(typeof t=="string")v=cb(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case S:return t=xn(31,a,i,h),t.elementType=S,t.lanes=d,t;case k:return zs(a.children,h,d,i);case Q:v=8,h|=24;break;case z:return t=xn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case le:return t=xn(13,a,i,h),t.elementType=le,t.lanes=d,t;case fe:return t=xn(19,a,i,h),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case U:v=10;break e;case ne:v=9;break e;case oe:v=11;break e;case N:v=14;break e;case T:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=xn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=xn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=xn(6,t,null,i),t.lanes=a,t}function Sf(t,i,a){return i=xn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var xa=[],Ma=0,$u=null,Xu=0,Yn=[],$n=0,js=null,er=1,tr="";function Bs(t,i){xa[Ma++]=Xu,xa[Ma++]=$u,$u=t,Xu=i}function _g(t,i,a){Yn[$n++]=er,Yn[$n++]=tr,Yn[$n++]=js,js=t;var l=er;t=tr;var h=32-Nt(l)-1;l&=~(1<<h),a+=1;var d=32-Nt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,er=1<<32-Nt(i)+h|a<<h|l,tr=d+t}else er=1<<d|a<<h|l,tr=t}function Af(t){t.return!==null&&(Bs(t,1),_g(t,1,0))}function bf(t){for(;t===$u;)$u=xa[--Ma],xa[Ma]=null,Xu=xa[--Ma],xa[Ma]=null;for(;t===js;)js=Yn[--$n],Yn[$n]=null,tr=Yn[--$n],Yn[$n]=null,er=Yn[--$n],Yn[$n]=null}var _n=null,wt=null,tt=!1,qs=null,Di=!1,wf=Error(s(519));function Hs(t){var i=Error(s(418,""));throw Jo(Kn(i,t)),wf}function vg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ut]=t,i[xt]=l,a){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(a=0;a<Al.length;a++)Be(Al[a],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),Is(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Cs(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||P_(i.textContent,a)?(l.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),l.onScroll!=null&&Be("scroll",i),l.onScrollEnd!=null&&Be("scrollend",i),l.onClick!=null&&(i.onclick=Oc),i=!0):i=!1,i||Hs(t)}function Eg(t){for(_n=t.return;_n;)switch(_n.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:_n=_n.return}}function Wo(t){if(t!==_n)return!1;if(!tt)return Eg(t),tt=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&wt&&Hs(t),Eg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){wt=ui(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}wt=null}}else i===27?(i=wt,Kr(t.type)?(t=Gd,Gd=null,wt=t):wt=i):wt=_n?ui(t.stateNode.nextSibling):null;return!0}function Zo(){wt=_n=null,tt=!1}function Tg(){var t=qs;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),qs=null),t}function Jo(t){qs===null?qs=[t]:qs.push(t)}var Rf=Y(null),Fs=null,nr=null;function Nr(t,i,a){X(Rf,i._currentValue),i._currentValue=a}function ir(t){t._currentValue=Rf.current,ie(Rf)}function If(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Cf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var x=0;x<i.length;x++)if(A.context===i[x]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),If(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),If(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function el(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;Nn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===Je.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Cf(i,t,a,l),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,nr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Sg(Fs,t)}function Zu(t,i){return Fs===null&&Gs(t),Sg(t,i)}function Sg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},nr===null){if(t===null)throw Error(s(308));nr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else nr=nr.next=i;return a}var uA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},cA=r.unstable_scheduleCallback,hA=r.unstable_NormalPriority,Bt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new uA,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&cA(hA,function(){t.controller.abort()})}var nl=null,Of=0,Va=0,ka=null;function fA(t,i){if(nl===null){var a=nl=[];Of=0,Va=xd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Of++,i.then(Ag,Ag),i}function Ag(){if(--Of===0&&nl!==null){ka!==null&&(ka.status="fulfilled");var t=nl;nl=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function dA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var bg=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&fA(t,i),bg!==null&&bg(t,i)};var Ks=Y(null);function Nf(){var t=Ks.current;return t!==null?t:pt.pooledCache}function Ju(t,i){i===null?X(Ks,Ks.current):X(Ks,i.pool)}function wg(){var t=Nf();return t===null?null:{parent:Bt._currentValue,pool:t}}var il=Error(s(460)),Rg=Error(s(474)),ec=Error(s(542)),xf={then:function(){}};function Ig(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Cg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(tc,tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Og(t),t;default:if(typeof i.status=="string")i.then(tc,tc);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Og(t),t}throw rl=i,il}}var rl=null;function Dg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}function Og(t){if(t===il||t===ec)throw Error(s(483))}var xr=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Qu(t),gg(t,null,a),i}return Ku(t,l,i,a),Qu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function al(){if(Pf){var t=ka;if(t!==null)throw t}}function ol(t,i,a,l){Pf=!1;var h=t.updateQueue;xr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var x=A,q=x.next;x.next=null,v===null?d=q:v.next=q,v=x;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==v&&(A===null?J.firstBaseUpdate=q:A.next=q,J.lastBaseUpdate=x))}if(d!==null){var re=h.baseState;v=0,J=q=x=null,A=d;do{var F=A.lane&-536870913,K=F!==A.lane;if(K?(Ye&F)===F:(l&F)===F){F!==0&&F===Va&&(Pf=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=t,Se=A;F=i;var ht=a;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){re=Re.call(ht,re,F);break e}re=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,F=typeof Re=="function"?Re.call(ht,re,F):Re,F==null)break e;re=E({},re,F);break e;case 2:xr=!0}}F=A.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(q=J=K,x=re):J=J.next=K,v|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(x=re),h.baseState=x,h.firstBaseUpdate=q,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),qr|=v,t.lanes=v,t.memoizedState=re}}function Ng(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function xg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ng(a[t],i)}var Pa=Y(null),nc=Y(0);function Mg(t,i){t=cr,X(nc,t),X(Pa,i),cr=t|i.baseLanes}function Lf(){X(nc,cr),X(Pa,Pa.current)}function Uf(){cr=nc.current,ie(Pa),ie(nc)}var kr=0,Pe=null,ut=null,Vt=null,ic=!1,La=!1,Qs=!1,rc=0,ll=0,Ua=null,mA=0;function Ct(){throw Error(s(321))}function zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Nn(t[a],i[a]))return!1;return!0}function jf(t,i,a,l,h,d){return kr=d,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?gy:yy,Qs=!1,d=a(l,h),Qs=!1,La&&(d=kg(i,a,l,h)),Vg(t),d}function Vg(t){W.H=cc;var i=ut!==null&&ut.next!==null;if(kr=0,Vt=ut=Pe=null,ic=!1,ll=0,Ua=null,i)throw Error(s(300));t===null||Yt||(t=t.dependencies,t!==null&&Wu(t)&&(Yt=!0))}function kg(t,i,a,l){Pe=t;var h=0;do{if(La&&(Ua=null),ll=0,La=!1,25<=h)throw Error(s(301));if(h+=1,Vt=ut=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=TA,d=i(a,l)}while(La);return d}function pA(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Pe.flags|=1024),i}function Bf(){var t=rc!==0;return rc=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(ic){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ic=!1}kr=0,Vt=ut=Pe=null,La=!1,ll=rc=0,Ua=null}function Sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Pe.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function kt(){if(ut===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=Vt===null?Pe.memoizedState:Vt.next;if(i!==null)Vt=i,ut=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Vt===null?Pe.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,Ua===null&&(Ua=[]),t=Cg(Ua,t,i),i=Pe,(Vt===null?i.memoizedState:Vt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?gy:yy),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===U)return ln(t)}throw Error(s(438,String(t)))}function Gf(t){var i=null,a=Pe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ff(),Pe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=w;return i.index++,a}function rr(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=kt();return Kf(i,ut,t)}function Kf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,x=null,q=i,J=!1;do{var re=q.lane&-536870913;if(re!==q.lane?(Ye&re)===re:(kr&re)===re){var F=q.revertLane;if(F===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),re===Va&&(J=!0);else if((kr&F)===F){q=q.next,F===Va&&(J=!0);continue}else re={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=re,v=d):x=x.next=re,Pe.lanes|=F,qr|=F;re=q.action,Qs&&a(d,re),d=q.hasEagerState?q.eagerState:a(d,re)}else F={lane:re,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(A=x=F,v=d):x=x.next=F,Pe.lanes|=re,qr|=re;q=q.next}while(q!==null&&q!==i);if(x===null?v=d:x.next=A,!Nn(d,t.memoizedState)&&(Yt=!0,J&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var i=kt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Nn(d,i.memoizedState)||(Yt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Pg(t,i,a){var l=Pe,h=kt(),d=tt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Nn((ut||h).memoizedState,a);v&&(h.memoizedState=a,Yt=!0),h=h.queue;var A=zg.bind(null,l,h,t);if(cl(2048,8,A,[t]),h.getSnapshot!==i||v||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,za(9,oc(),Ug.bind(null,l,h,a,i),null),pt===null)throw Error(s(349));d||(kr&124)!==0||Lg(l,i,a)}return a}function Lg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Pe.updateQueue,i===null?(i=Ff(),Pe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ug(t,i,a,l){i.value=a,i.getSnapshot=l,jg(i)&&Bg(t)}function zg(t,i,a){return a(function(){jg(i)&&Bg(t)})}function jg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Nn(t,a)}catch{return!0}}function Bg(t){var i=Oa(t,2);i!==null&&Ln(i,t,2)}function Yf(t){var i=Sn();if(typeof t=="function"){var a=t;if(t=a(),Qs){Tt(!0);try{a()}finally{Tt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:t},i}function qg(t,i,a,l){return t.baseState=a,Kf(t,ut,typeof l=="function"?l:rr)}function gA(t,i,a,l,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,v={};W.T=v;try{var A=a(h,l),x=W.S;x!==null&&x(v,A),Fg(t,i,A)}catch(q){$f(t,i,q)}finally{W.T=d}}else try{d=a(h,l),Fg(t,i,d)}catch(q){$f(t,i,q)}}function Fg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Gg(t,i,l)},function(l){return $f(t,i,l)}):Gg(t,i,a)}function Gg(t,i,a){i.status="fulfilled",i.value=a,Kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Hg(t,a)))}function $f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Kg(i),i=i.next;while(i!==l)}t.action=null}function Kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Qg(t,i){return i}function Yg(t,i){if(tt){var a=pt.formState;if(a!==null){e:{var l=Pe;if(tt){if(wt){t:{for(var h=wt,d=Di;h.nodeType!==8;){if(!d){h=null;break t}if(h=ui(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){wt=ui(h.nextSibling),l=h.data==="F!";break e}}Hs(l)}l=!1}l&&(i=a[0])}}return a=Sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=l,a=dy.bind(null,Pe,l),l.dispatch=a,l=Yf(!1),d=ed.bind(null,Pe,!1,l.queue),l=Sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=gA.bind(null,Pe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function $g(t){var i=kt();return Xg(i,ut,t)}function Xg(t,i,a){if(i=Kf(t,i,Qg)[0],t=ac(rr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(v){throw v===il?ec:v}else l=i;i=kt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Pe.flags|=2048,za(9,oc(),yA.bind(null,h,a),null)),[l,d,t]}function yA(t,i){t.action=i}function Wg(t){var i=kt(),a=ut;if(a!==null)return Xg(i,a,t);kt(),i=i.memoizedState,a=kt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function za(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=Ff(),Pe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function Zg(){return kt().memoizedState}function lc(t,i,a,l){var h=Sn();l=l===void 0?null:l,Pe.flags|=t,h.memoizedState=za(1|i,oc(),a,l)}function cl(t,i,a,l){var h=kt();l=l===void 0?null:l;var d=h.memoizedState.inst;ut!==null&&l!==null&&zf(l,ut.memoizedState.deps)?h.memoizedState=za(i,d,a,l):(Pe.flags|=t,h.memoizedState=za(1|i,d,a,l))}function Jg(t,i){lc(8390656,8,t,i)}function ey(t,i){cl(2048,8,t,i)}function ty(t,i){return cl(4,2,t,i)}function ny(t,i){return cl(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ry(t,i,a){a=a!=null?a.concat([t]):null,cl(4,4,iy.bind(null,i,t),a)}function Xf(){}function sy(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ay(t,i){var a=kt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&zf(i,l[1]))return l[0];if(l=t(),Qs){Tt(!0);try{t()}finally{Tt(!1)}}return a.memoizedState=[l,i],l}function Wf(t,i,a){return a===void 0||(kr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=u_(),Pe.lanes|=t,qr|=t,a)}function oy(t,i,a,l){return Nn(a,i)?a:Pa.current!==null?(t=Wf(t,a,l),Nn(t,i)||(Yt=!0),t):(kr&42)===0?(Yt=!0,t.memoizedState=a):(t=u_(),Pe.lanes|=t,qr|=t,i)}function ly(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var v=W.T,A={};W.T=A,ed(t,!1,i,a);try{var x=h(),q=W.S;if(q!==null&&q(A,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var J=dA(x,l);hl(t,i,J,Pn(t))}else hl(t,i,l,Pn(t))}catch(re){hl(t,i,{then:function(){},status:"rejected",reason:re},Pn())}finally{te.p=d,W.T=v}}function _A(){}function Zf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=uy(t).queue;ly(t,h,i,he,a===null?_A:function(){return cy(t),a(l)})}function uy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function cy(t){var i=uy(t).next.queue;hl(t,i,{},Pn())}function Jf(){return ln(Dl)}function hy(){return kt().memoizedState}function fy(){return kt().memoizedState}function vA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Pn();t=Mr(a);var l=Vr(i,t,a);l!==null&&(Ln(l,i,a),sl(l,i,a)),i={cache:Df()},t.payload=i;return}i=i.return}}function EA(t,i,a){var l=Pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?my(i,a):(a=vf(t,i,a,l),a!==null&&(Ln(a,t,l),py(a,i,l)))}function dy(t,i,a){var l=Pn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))my(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,Nn(A,v))return Ku(t,i,h,0),pt===null&&Gu(),!1}catch{}finally{}if(a=vf(t,i,h,l),a!==null)return Ln(a,t,l),py(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&Ln(i,t,2)}function uc(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function my(t,i){La=ic=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var cc={readContext:ln,use:sc,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct},gy={readContext:ln,use:sc,useCallback:function(t,i){return Sn().memoizedState=[t,i===void 0?null:i],t},useContext:ln,useEffect:Jg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,lc(4194308,4,iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return lc(4194308,4,t,i)},useInsertionEffect:function(t,i){lc(4,2,t,i)},useMemo:function(t,i){var a=Sn();i=i===void 0?null:i;var l=t();if(Qs){Tt(!0);try{t()}finally{Tt(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Sn();if(a!==void 0){var h=a(i);if(Qs){Tt(!0);try{a(i)}finally{Tt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=EA.bind(null,Pe,t),[l.memoizedState,t]},useRef:function(t){var i=Sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Yf(t);var i=t.queue,a=dy.bind(null,Pe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,i){var a=Sn();return Wf(a,t,i)},useTransition:function(){var t=Yf(!1);return t=ly.bind(null,Pe,t.queue,!0,!1),Sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Pe,h=Sn();if(tt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),pt===null)throw Error(s(349));(Ye&124)!==0||Lg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Jg(zg.bind(null,l,d,t),[t]),l.flags|=2048,za(9,oc(),Ug.bind(null,l,d,a,i),null),a},useId:function(){var t=Sn(),i=pt.identifierPrefix;if(tt){var a=tr,l=er;a=(l&~(1<<32-Nt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=rc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=mA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t){var i=Sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Pe,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gf,useCacheRefresh:function(){return Sn().memoizedState=vA.bind(null,Pe)}},yy={readContext:ln,use:sc,useCallback:sy,useContext:ln,useEffect:ey,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:ac,useRef:Zg,useState:function(){return ac(rr)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=kt();return oy(a,ut.memoizedState,t,i)},useTransition:function(){var t=ac(rr)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Pg,useId:hy,useHostTransitionStatus:Jf,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var a=kt();return qg(a,ut,t,i)},useMemoCache:Gf,useCacheRefresh:fy},TA={readContext:ln,use:sc,useCallback:sy,useContext:ln,useEffect:ey,useImperativeHandle:ry,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:ay,useReducer:Qf,useRef:Zg,useState:function(){return Qf(rr)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=kt();return ut===null?Wf(a,t,i):oy(a,ut.memoizedState,t,i)},useTransition:function(){var t=Qf(rr)[0],i=kt().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Pg,useId:hy,useHostTransitionStatus:Jf,useFormState:Wg,useActionState:Wg,useOptimistic:function(t,i){var a=kt();return ut!==null?qg(a,ut,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:fy},ja=null,fl=0;function hc(t){var i=fl;return fl+=1,ja===null&&(ja=[]),Cg(ja,t,i)}function dl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function fc(t,i){throw i.$$typeof===I?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _y(t){var i=t._init;return i(t._payload)}function vy(t){function i(L,P){if(t){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Ji(L,P),L.index=0,L.sibling=null,L}function d(L,P,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function A(L,P,B,ee){return P===null||P.tag!==6?(P=Tf(B,L.mode,ee),P.return=L,P):(P=h(P,B),P.return=L,P)}function x(L,P,B,ee){var ye=B.type;return ye===k?J(L,P,B.props.children,ee,B.key):P!==null&&(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&_y(ye)===P.type)?(P=h(P,B.props),dl(P,B),P.return=L,P):(P=Yu(B.type,B.key,B.props,null,L.mode,ee),dl(P,B),P.return=L,P)}function q(L,P,B,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Sf(B,L.mode,ee),P.return=L,P):(P=h(P,B.children||[]),P.return=L,P)}function J(L,P,B,ee,ye){return P===null||P.tag!==7?(P=zs(B,L.mode,ee,ye),P.return=L,P):(P=h(P,B),P.return=L,P)}function re(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Tf(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case b:return B=Yu(P.type,P.key,P.props,null,L.mode,B),dl(B,P),B.return=L,B;case M:return P=Sf(P,L.mode,B),P.return=L,P;case T:var ee=P._init;return P=ee(P._payload),re(L,P,B)}if(Ue(P)||O(P))return P=zs(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return re(L,hc(P),B);if(P.$$typeof===U)return re(L,Zu(L,P),B);fc(L,P)}return null}function F(L,P,B,ee){var ye=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:A(L,P,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return B.key===ye?x(L,P,B,ee):null;case M:return B.key===ye?q(L,P,B,ee):null;case T:return ye=B._init,B=ye(B._payload),F(L,P,B,ee)}if(Ue(B)||O(B))return ye!==null?null:J(L,P,B,ee,null);if(typeof B.then=="function")return F(L,P,hc(B),ee);if(B.$$typeof===U)return F(L,P,Zu(L,B),ee);fc(L,B)}return null}function K(L,P,B,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return L=L.get(B)||null,A(P,L,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case b:return L=L.get(ee.key===null?B:ee.key)||null,x(P,L,ee,ye);case M:return L=L.get(ee.key===null?B:ee.key)||null,q(P,L,ee,ye);case T:var ze=ee._init;return ee=ze(ee._payload),K(L,P,B,ee,ye)}if(Ue(ee)||O(ee))return L=L.get(B)||null,J(P,L,ee,ye,null);if(typeof ee.then=="function")return K(L,P,B,hc(ee),ye);if(ee.$$typeof===U)return K(L,P,B,Zu(P,ee),ye);fc(P,ee)}return null}function Re(L,P,B,ee){for(var ye=null,ze=null,Ee=P,Ae=P=0,Xt=null;Ee!==null&&Ae<B.length;Ae++){Ee.index>Ae?(Xt=Ee,Ee=null):Xt=Ee.sibling;var Ze=F(L,Ee,B[Ae],ee);if(Ze===null){Ee===null&&(Ee=Xt);break}t&&Ee&&Ze.alternate===null&&i(L,Ee),P=d(Ze,P,Ae),ze===null?ye=Ze:ze.sibling=Ze,ze=Ze,Ee=Xt}if(Ae===B.length)return a(L,Ee),tt&&Bs(L,Ae),ye;if(Ee===null){for(;Ae<B.length;Ae++)Ee=re(L,B[Ae],ee),Ee!==null&&(P=d(Ee,P,Ae),ze===null?ye=Ee:ze.sibling=Ee,ze=Ee);return tt&&Bs(L,Ae),ye}for(Ee=l(Ee);Ae<B.length;Ae++)Xt=K(Ee,L,Ae,B[Ae],ee),Xt!==null&&(t&&Xt.alternate!==null&&Ee.delete(Xt.key===null?Ae:Xt.key),P=d(Xt,P,Ae),ze===null?ye=Xt:ze.sibling=Xt,ze=Xt);return t&&Ee.forEach(function(Wr){return i(L,Wr)}),tt&&Bs(L,Ae),ye}function Se(L,P,B,ee){if(B==null)throw Error(s(151));for(var ye=null,ze=null,Ee=P,Ae=P=0,Xt=null,Ze=B.next();Ee!==null&&!Ze.done;Ae++,Ze=B.next()){Ee.index>Ae?(Xt=Ee,Ee=null):Xt=Ee.sibling;var Wr=F(L,Ee,Ze.value,ee);if(Wr===null){Ee===null&&(Ee=Xt);break}t&&Ee&&Wr.alternate===null&&i(L,Ee),P=d(Wr,P,Ae),ze===null?ye=Wr:ze.sibling=Wr,ze=Wr,Ee=Xt}if(Ze.done)return a(L,Ee),tt&&Bs(L,Ae),ye;if(Ee===null){for(;!Ze.done;Ae++,Ze=B.next())Ze=re(L,Ze.value,ee),Ze!==null&&(P=d(Ze,P,Ae),ze===null?ye=Ze:ze.sibling=Ze,ze=Ze);return tt&&Bs(L,Ae),ye}for(Ee=l(Ee);!Ze.done;Ae++,Ze=B.next())Ze=K(Ee,L,Ae,Ze.value,ee),Ze!==null&&(t&&Ze.alternate!==null&&Ee.delete(Ze.key===null?Ae:Ze.key),P=d(Ze,P,Ae),ze===null?ye=Ze:ze.sibling=Ze,ze=Ze);return t&&Ee.forEach(function(Sb){return i(L,Sb)}),tt&&Bs(L,Ae),ye}function ht(L,P,B,ee){if(typeof B=="object"&&B!==null&&B.type===k&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case b:e:{for(var ye=B.key;P!==null;){if(P.key===ye){if(ye=B.type,ye===k){if(P.tag===7){a(L,P.sibling),ee=h(P,B.props.children),ee.return=L,L=ee;break e}}else if(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===T&&_y(ye)===P.type){a(L,P.sibling),ee=h(P,B.props),dl(ee,B),ee.return=L,L=ee;break e}a(L,P);break}else i(L,P);P=P.sibling}B.type===k?(ee=zs(B.props.children,L.mode,ee,B.key),ee.return=L,L=ee):(ee=Yu(B.type,B.key,B.props,null,L.mode,ee),dl(ee,B),ee.return=L,L=ee)}return v(L);case M:e:{for(ye=B.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(L,P.sibling),ee=h(P,B.children||[]),ee.return=L,L=ee;break e}else{a(L,P);break}else i(L,P);P=P.sibling}ee=Sf(B,L.mode,ee),ee.return=L,L=ee}return v(L);case T:return ye=B._init,B=ye(B._payload),ht(L,P,B,ee)}if(Ue(B))return Re(L,P,B,ee);if(O(B)){if(ye=O(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),Se(L,P,B,ee)}if(typeof B.then=="function")return ht(L,P,hc(B),ee);if(B.$$typeof===U)return ht(L,P,Zu(L,B),ee);fc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(L,P.sibling),ee=h(P,B),ee.return=L,L=ee):(a(L,P),ee=Tf(B,L.mode,ee),ee.return=L,L=ee),v(L)):a(L,P)}return function(L,P,B,ee){try{fl=0;var ye=ht(L,P,B,ee);return ja=null,ye}catch(Ee){if(Ee===il||Ee===ec)throw Ee;var ze=xn(29,Ee,null,L.mode);return ze.lanes=ee,ze.return=L,ze}finally{}}}var Ba=vy(!0),Ey=vy(!1),Xn=Y(null),Oi=null;function Pr(t){var i=t.alternate;X(qt,qt.current&1),X(Xn,t),Oi===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Oi=t)}function Ty(t){if(t.tag===22){if(X(qt,qt.current),X(Xn,t),Oi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Oi=t)}}else Lr()}function Lr(){X(qt,qt.current),X(Xn,Xn.current)}function sr(t){ie(Xn),Oi===t&&(Oi=null),ie(qt)}var qt=Y(0);function dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Pn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(Ln(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Pn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(Ln(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Pn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(Ln(i,t,a),sl(i,t,a))}};function Sy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!$o(a,l)||!$o(h,d):!0}function Ay(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&nd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function by(t){mc(t)}function wy(t){console.error(t)}function Ry(t){mc(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Iy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function Cy(t){return t=Mr(t),t.tag=3,t}function Dy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Iy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Iy(i,a,l),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function SA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&el(i,a,h,!0),a=Xn.current,a!==null){switch(a.tag){case 13:return Oi===null?Id():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===xf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return a.flags|=65536,l===xf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Dd(t,l,h)),!1}throw Error(s(435,a.tag))}return Dd(t,l,h),Id(),!1}if(tt)return i=Xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wf&&(t=Error(s(422),{cause:l}),Jo(Kn(t,a)))):(l!==wf&&(i=Error(s(423),{cause:l}),Jo(Kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Kn(l,a),h=id(t.stateNode,l,h),kf(t,h),Rt!==4&&(Rt=2)),!1;var d=Error(s(520),{cause:l});if(d=Kn(d,a),El===null?El=[d]:El.push(d),Rt!==4&&(Rt=2),i===null)return!0;l=Kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=id(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Cy(h),Dy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var Oy=Error(s(461)),Yt=!1;function tn(t,i,a,l){i.child=t===null?Ey(i,null,a,l):Ba(i,t.child,a,l)}function Ny(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Gs(i),l=jf(t,i,a,v,d,h),A=Bf(),t!==null&&!Yt?(qf(t,i,h),ar(t,i,h)):(tt&&A&&Af(i),i.flags|=1,tn(t,i,l,h),i.child)}function xy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,My(t,i,d,l,h)):(t=Yu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!hd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:$o,a(v,l)&&t.ref===i.ref)return ar(t,i,h)}return i.flags|=1,t=Ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function My(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if($o(d,l)&&t.ref===i.ref)if(Yt=!1,i.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(Yt=!0);else return i.lanes=t.lanes,ar(t,i,h)}return rd(t,i,a,l,h)}function Vy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ky(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(i,d!==null?d.cachePool:null),d!==null?Mg(i,d):Lf(),Ty(i);else return i.lanes=i.childLanes=536870912,ky(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(i,d.cachePool),Mg(i,d),Lr(),i.memoizedState=null):(t!==null&&Ju(i,null),Lf(),Lr());return tn(t,i,h,a),i.child}function ky(t,i,a,l){var h=Nf();return h=h===null?null:{parent:Bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ju(i,null),Lf(),Ty(i),t!==null&&el(t,i,l,!0),null}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function rd(t,i,a,l,h){return Gs(i),a=jf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!Yt?(qf(t,i,h),ar(t,i,h)):(tt&&l&&Af(i),i.flags|=1,tn(t,i,a,h),i.child)}function Py(t,i,a,l,h,d){return Gs(i),i.updateQueue=null,a=kg(i,l,a,h),Vg(t),l=Bf(),t!==null&&!Yt?(qf(t,i,d),ar(t,i,d)):(tt&&l&&Af(i),i.flags|=1,tn(t,i,a,d),i.child)}function Ly(t,i,a,l,h){if(Gs(i),i.stateNode===null){var d=Na,v=a.contextType;typeof v=="object"&&v!==null&&(d=ln(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Mf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?ln(v):Na,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(td(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nd.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,x=Ys(a,A);d.props=x;var q=d.context,J=a.contextType;v=Na,typeof J=="object"&&J!==null&&(v=ln(J));var re=a.getDerivedStateFromProps;J=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||q!==v)&&Ay(i,d,l,v),xr=!1;var F=i.memoizedState;d.state=F,ol(i,l,d,h),al(),q=i.memoizedState,A||F!==q||xr?(typeof re=="function"&&(td(i,a,re,l),q=i.memoizedState),(x=xr||Sy(i,a,x,l,F,q,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Vf(t,i),v=i.memoizedProps,J=Ys(a,v),d.props=J,re=i.pendingProps,F=d.context,q=a.contextType,x=Na,typeof q=="object"&&q!==null&&(x=ln(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==re||F!==x)&&Ay(i,d,l,x),xr=!1,F=i.memoizedState,d.state=F,ol(i,l,d,h),al();var K=i.memoizedState;v!==re||F!==K||xr||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof A=="function"&&(td(i,a,A,l),K=i.memoizedState),(J=xr||Sy(i,a,J,l,F,K,x)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=x,l=J):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ba(i,t.child,null,h),i.child=Ba(i,null,a,h)):tn(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ar(t,i,h),t}function Uy(t,i,a,l){return Zo(),i.flags|=256,tn(t,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:wg()}}function od(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Wn),t}function zy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(tt){if(h?Pr(i):Lr(),tt){var A=wt,x;if(x=A){e:{for(x=A,A=Di;x.nodeType!==8;){if(!A){A=null;break e}if(x=ui(x.nextSibling),x===null){A=null;break e}}A=x}A!==null?(i.memoizedState={dehydrated:A,treeContext:js!==null?{id:er,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},x=xn(18,null,null,0),x.stateNode=A,x.return=i,i.child=x,_n=i,wt=null,x=!0):x=!1}x||Hs(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Fd(A)?i.lanes=32:i.lanes=536870912,null;sr(i)}return A=l.children,l=l.fallback,h?(Lr(),h=i.mode,A=yc({mode:"hidden",children:A},h),l=zs(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=ad(a),h.childLanes=od(t,v,a),i.memoizedState=sd,l):(Pr(i),ld(i,A))}if(x=t.memoizedState,x!==null&&(A=x.dehydrated,A!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=ud(t,i,a)):i.memoizedState!==null?(Lr(),i.child=t.child,i.flags|=128,i=null):(Lr(),h=l.fallback,A=i.mode,l=yc({mode:"visible",children:l.children},A),h=zs(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ba(i,t.child,null,a),l=i.child,l.memoizedState=ad(a),l.childLanes=od(t,v,a),i.memoizedState=sd,i=h);else if(Pr(i),Fd(A)){if(v=A.nextSibling&&A.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Jo({value:l,source:null,stack:null}),i=ud(t,i,a)}else if(Yt||el(t,i,a,!1),v=(a&t.childLanes)!==0,Yt||v){if(v=pt,v!==null&&(l=a&-a,l=(l&42)!==0?1:br(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Oa(t,l),Ln(v,t,l),Oy;A.data==="$?"||Id(),i=ud(t,i,a)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,wt=ui(A.nextSibling),_n=i,tt=!0,qs=null,Di=!1,t!==null&&(Yn[$n++]=er,Yn[$n++]=tr,Yn[$n++]=js,er=t.id,tr=t.overflow,js=i),i=ld(i,l.children),i.flags|=4096);return i}return h?(Lr(),h=l.fallback,A=i.mode,x=t.child,q=x.sibling,l=Ji(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?h=Ji(q,h):(h=zs(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=ad(a):(x=A.cachePool,x!==null?(q=Bt._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=wg(),A={baseLanes:A.baseLanes|a,cachePool:x}),h.memoizedState=A,h.childLanes=od(t,v,a),i.memoizedState=sd,l):(Pr(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ld(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=xn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ud(t,i,a){return Ba(i,t.child,null,a),t=ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),If(t.return,i,a)}function cd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function By(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(tn(t,i,l.children,a),l=qt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,a,i);else if(t.tag===19)jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(X(qt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(i,!0,a,null,d);break;case"together":cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ar(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(el(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function AA(t,i,a){switch(i.tag){case 3:_e(i,i.stateNode.containerInfo),Nr(i,Bt,t.memoizedState.cache),Zo();break;case 27:case 5:et(i);break;case 4:_e(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?zy(t,i,a):(Pr(i),t=ar(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(el(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return By(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(qt,qt.current),l)break;return null;case 22:case 23:return i.lanes=0,Vy(t,i,a);case 24:Nr(i,Bt,t.memoizedState.cache)}return ar(t,i,a)}function qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Yt=!0;else{if(!hd(t,a)&&(i.flags&128)===0)return Yt=!1,AA(t,i,a);Yt=(t.flags&131072)!==0}else Yt=!1,tt&&(i.flags&1048576)!==0&&_g(i,Xu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ef(l)?(t=Ys(l,t),i.tag=1,i=Ly(null,i,l,t,a)):(i.tag=0,i=rd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===oe){i.tag=11,i=Ny(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=xy(null,i,l,t,a);break e}}throw i=ke(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),Ly(t,i,l,h,a);case 3:e:{if(_e(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Vf(t,i),ol(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Nr(i,Bt,l),l!==d.cache&&Cf(i,[Bt],a,!0),al(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Uy(t,i,l,a);break e}else if(l!==h){h=Kn(Error(s(424)),i),Jo(h),i=Uy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=ui(t.firstChild),_n=i,tt=!0,qs=null,Di=!0,a=Ey(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Zo(),l===h){i=ar(t,i,a);break e}tn(t,i,l,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=K_(i.type,null,i.pendingProps,null))?i.memoizedState=a:tt||(a=i.type,t=i.pendingProps,l=Nc(ge.current).createElement(a),l[Ut]=i,l[xt]=t,rn(l,a,t),It(l),i.stateNode=l):i.memoizedState=K_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return et(i),t===null&&tt&&(l=i.stateNode=H_(i.type,i.pendingProps,ge.current),_n=i,Di=!0,h=wt,Kr(i.type)?(Gd=h,wt=ui(l.firstChild)):wt=h),tn(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&tt&&((h=l=wt)&&(l=WA(l,i.type,i.pendingProps,Di),l!==null?(i.stateNode=l,_n=i,wt=ui(l.firstChild),Di=!1,h=!0):h=!1),h||Hs(i)),et(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:v!==null&&Bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=jf(t,i,pA,null,null,a),Dl._currentValue=h),gc(t,i),tn(t,i,l,a),i.child;case 6:return t===null&&tt&&((t=a=wt)&&(a=ZA(a,i.pendingProps,Di),a!==null?(i.stateNode=a,_n=i,wt=null,t=!0):t=!1),t||Hs(i)),null;case 13:return zy(t,i,a);case 4:return _e(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ba(i,null,l,a):tn(t,i,l,a),i.child;case 11:return Ny(t,i,i.type,i.pendingProps,a);case 7:return tn(t,i,i.pendingProps,a),i.child;case 8:return tn(t,i,i.pendingProps.children,a),i.child;case 12:return tn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),tn(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Gs(i),h=ln(h),l=l(h),i.flags|=1,tn(t,i,l,a),i.child;case 14:return xy(t,i,i.type,i.pendingProps,a);case 15:return My(t,i,i.type,i.pendingProps,a);case 19:return By(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=yc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ji(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Vy(t,i,a);case 24:return Gs(i),l=ln(Bt),t===null?(h=Nf(),h===null&&(h=pt,d=Df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Mf(i),Nr(i,Bt,h)):((t.lanes&a)!==0&&(Vf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,Bt,l)):(l=d.cache,Nr(i,Bt,l),l!==h.cache&&Cf(i,[Bt],a,!0))),tn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function or(t){t.flags|=4}function Hy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!W_(i)){if(i=Xn.current,i!==null&&((Ye&4194048)===Ye?Oi!==null:(Ye&62914560)!==Ye&&(Ye&536870912)===0||i!==Oi))throw rl=xf,Rg;t.flags|=8192}}function _c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?No():536870912,t.lanes|=i,Ga|=i)}function ml(t,i){if(!tt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function St(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function bA(t,i,a){var l=i.pendingProps;switch(bf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(i),null;case 1:return St(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ir(Bt),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wo(i)?or(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tg())),St(i),null;case 26:return a=i.memoizedState,t===null?(or(i),a!==null?(St(i),Hy(i,a)):(St(i),i.flags&=-16777217)):a?a!==t.memoizedState?(or(i),St(i),Hy(i,a)):(St(i),i.flags&=-16777217):(t.memoizedProps!==l&&or(i),St(i),i.flags&=-16777217),null;case 27:Ie(i),a=ge.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}t=de.current,Wo(i)?vg(i):(t=H_(h,l,a),i.stateNode=t,or(i))}return St(i),null;case 5:if(Ie(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&or(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return St(i),null}if(t=de.current,Wo(i))vg(i);else{switch(h=Nc(ge.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ut]=i,t[xt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(rn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&or(i)}}return St(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&or(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ge.current,Wo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=_n,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ut]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P_(t.nodeValue,a)),t||Hs(i)}else t=Nc(t).createTextNode(l),t[Ut]=i,i.stateNode=t}return St(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ut]=i}else Zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;St(i),h=!1}else h=Tg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(sr(i),i):(sr(i),null)}if(sr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),_c(i,i.updateQueue),St(i),null;case 4:return Ne(),t===null&&Pd(i.stateNode.containerInfo),St(i),null;case 10:return ir(i.type),St(i),null;case 19:if(ie(qt),h=i.memoizedState,h===null)return St(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ml(h,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=dc(t),d!==null){for(i.flags|=128,ml(h,!1),t=d.updateQueue,i.updateQueue=t,_c(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)yg(a,t),a=a.sibling;return X(qt,qt.current&1|2),i.child}t=t.sibling}h.tail!==null&&st()>Tc&&(i.flags|=128,l=!0,ml(h,!1),i.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,_c(i,t),ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!tt)return St(i),null}else 2*st()-h.renderingStartTime>Tc&&a!==536870912&&(i.flags|=128,l=!0,ml(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=st(),i.sibling=null,t=qt.current,X(qt,l?t&1|2:t&1),i):(St(i),null);case 22:case 23:return sr(i),Uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(St(i),i.subtreeFlags&6&&(i.flags|=8192)):St(i),a=i.updateQueue,a!==null&&_c(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ir(Bt),St(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function wA(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ir(Bt),Ne(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ie(i),null;case 13:if(sr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(qt),null;case 4:return Ne(),null;case 10:return ir(i.type),null;case 22:case 23:return sr(i),Uf(),t!==null&&ie(Ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ir(Bt),null;case 25:return null;default:return null}}function Fy(t,i){switch(bf(i),i.tag){case 3:ir(Bt),Ne();break;case 26:case 27:case 5:Ie(i);break;case 4:Ne();break;case 13:sr(i);break;case 19:ie(qt);break;case 10:ir(i.type);break;case 22:case 23:sr(i),Uf(),t!==null&&ie(Ks);break;case 24:ir(Bt)}}function pl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){ft(i,i.return,A)}}function Ur(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var x=a,q=A;try{q()}catch(J){ft(h,x,J)}}}l=l.next}while(l!==d)}}catch(J){ft(i,i.return,J)}}function Gy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{xg(i,a)}catch(l){ft(t,t.return,l)}}}function Ky(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ft(t,i,l)}}function gl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ft(t,i,h)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ft(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ft(t,i,h)}else a.current=null}function Qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ft(t,t.return,h)}}function fd(t,i,a){try{var l=t.stateNode;KA(l,t.type,a,i),l[xt]=i}catch(h){ft(t,t.return,h)}}function Yy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Oc));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(md(t,i,a),t=t.sibling;t!==null;)md(t,i,a),t=t.sibling}function vc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,i,a),t=t.sibling;t!==null;)vc(t,i,a),t=t.sibling}function $y(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);rn(i,l,a),i[Ut]=t,i[xt]=a}catch(d){ft(t,t.return,d)}}var lr=!1,Dt=!1,pd=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,$t=null;function RA(t,i){if(t=t.containerInfo,zd=Lc,t=og(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,x=-1,q=0,J=0,re=t,F=null;t:for(;;){for(var K;re!==a||h!==0&&re.nodeType!==3||(A=v+h),re!==d||l!==0&&re.nodeType!==3||(x=v+l),re.nodeType===3&&(v+=re.nodeValue.length),(K=re.firstChild)!==null;)F=re,re=K;for(;;){if(re===t)break t;if(F===a&&++q===h&&(A=v),F===d&&++J===l&&(x=v),(K=re.nextSibling)!==null)break;re=F,F=re.parentNode}re=K}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:t,selectionRange:a},Lc=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Ys(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ft(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function Wy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zr(t,a),l&4&&pl(5,a);break;case 1:if(zr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){ft(a,a.return,v)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ft(a,a.return,v)}}l&64&&Gy(a),l&512&&gl(a,a.return);break;case 3:if(zr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{xg(t,i)}catch(v){ft(a,a.return,v)}}break;case 27:i===null&&l&4&&$y(a);case 26:case 5:zr(t,a),i===null&&l&4&&Qy(a),l&512&&gl(a,a.return);break;case 12:zr(t,a);break;case 13:zr(t,a),l&4&&e_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=kA.bind(null,a),JA(t,a))));break;case 22:if(l=a.memoizedState!==null||lr,!l){i=i!==null&&i.memoizedState!==null||Dt,h=lr;var d=Dt;lr=l,(Dt=i)&&!d?jr(t,a,(a.subtreeFlags&8772)!==0):zr(t,a),lr=h,Dt=d}break;case 30:break;default:zr(t,a)}}function Zy(t){var i=t.alternate;i!==null&&(t.alternate=null,Zy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ir(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,An=!1;function ur(t,i,a){for(a=a.child;a!==null;)Jy(t,i,a),a=a.sibling}function Jy(t,i,a){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(Me,a)}catch{}switch(a.tag){case 26:Dt||Ni(a,i),ur(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||Ni(a,i);var l=vt,h=An;Kr(a.type)&&(vt=a.stateNode,An=!1),ur(t,i,a),wl(a.stateNode),vt=l,An=h;break;case 5:Dt||Ni(a,i);case 6:if(l=vt,h=An,vt=null,ur(t,i,a),vt=l,An=h,vt!==null)if(An)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(d){ft(a,i,d)}else try{vt.removeChild(a.stateNode)}catch(d){ft(a,i,d)}break;case 18:vt!==null&&(An?(t=vt,B_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):B_(vt,a.stateNode));break;case 4:l=vt,h=An,vt=a.stateNode.containerInfo,An=!0,ur(t,i,a),vt=l,An=h;break;case 0:case 11:case 14:case 15:Dt||Ur(2,a,i),Dt||Ur(4,a,i),ur(t,i,a);break;case 1:Dt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ky(a,i,l)),ur(t,i,a);break;case 21:ur(t,i,a);break;case 22:Dt=(l=Dt)||a.memoizedState!==null,ur(t,i,a),Dt=l;break;default:ur(t,i,a)}}function e_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){ft(i,i.return,a)}}function IA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Xy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Xy),i;default:throw Error(s(435,t.tag))}}function gd(t,i){var a=IA(t);i.forEach(function(l){var h=PA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:if(Kr(A.type)){vt=A.stateNode,An=!1;break e}break;case 5:vt=A.stateNode,An=!1;break e;case 3:case 4:vt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(vt===null)throw Error(s(160));Jy(d,v,h),vt=null,An=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)t_(i,t),i=i.sibling}var li=null;function t_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(i,t),Vn(t),l&4&&(Ur(3,t,t.return),pl(3,t),Ur(5,t,t.return));break;case 1:Mn(i,t),Vn(t),l&512&&(Dt||a===null||Ni(a,a.return)),l&64&&lr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(Mn(i,t),Vn(t),l&512&&(Dt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[As]||d[Ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),rn(d,l,a),d[Ut]=t,It(d),l=d;break e;case"link":var v=$_("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;case"meta":if(v=$_("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),rn(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ut]=t,It(d),l=d}t.stateNode=l}else X_(h,t.type,t.stateNode);else t.stateNode=Y_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?X_(h,t.type,t.stateNode):Y_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(i,t),Vn(t),l&512&&(Dt||a===null||Ni(a,a.return)),a!==null&&l&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(i,t),Vn(t),l&512&&(Dt||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{qn(h,"")}catch(K){ft(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(Mn(i,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){ft(t,t.return,K)}}break;case 3:if(Vc=null,h=li,li=xc(i.containerInfo),Mn(i,t),li=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(i.containerInfo)}catch(K){ft(t,t.return,K)}pd&&(pd=!1,n_(t));break;case 4:l=li,li=xc(t.stateNode.containerInfo),Mn(i,t),Vn(t),li=l;break;case 12:Mn(i,t),Vn(t);break;case 13:Mn(i,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=st()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=lr,J=Dt;if(lr=q||h,Dt=J||x,Mn(i,t),Dt=J,lr=q,Vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||lr||Dt||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{A=x.stateNode;var re=x.memoizedProps.style,F=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(K){ft(x,x.return,K)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(K){ft(x,x.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(t,a))));break;case 19:Mn(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 30:break;case 21:break;default:Mn(i,t),Vn(t)}}function Vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Yy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(t);vc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(qn(v,""),a.flags&=-33);var A=dd(t);vc(t,A,v);break;case 3:case 4:var x=a.stateNode.containerInfo,q=dd(t);md(t,q,x);break;default:throw Error(s(161))}}catch(J){ft(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function n_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function zr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Wy(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ur(4,i,i.return),$s(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ky(i,i.return,a),$s(i);break;case 27:wl(i.stateNode);case 26:case 5:Ni(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function jr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:jr(h,d,a),pl(4,d);break;case 1:if(jr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ft(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Ng(x[h],A)}catch(q){ft(l,l.return,q)}}a&&v&64&&Gy(d),gl(d,d.return);break;case 27:$y(d);case 26:case 5:jr(h,d,a),a&&l===null&&v&4&&Qy(d),gl(d,d.return);break;case 12:jr(h,d,a);break;case 13:jr(h,d,a),a&&v&4&&e_(h,d);break;case 22:d.memoizedState===null&&jr(h,d,a),gl(d,d.return);break;case 30:break;default:jr(h,d,a)}i=i.sibling}}function yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function _d(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function xi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i_(t,i,a,l),i=i.sibling}function i_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:xi(t,i,a,l),h&2048&&pl(9,i);break;case 1:xi(t,i,a,l);break;case 3:xi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){xi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){ft(i,i.return,x)}}else xi(t,i,a,l);break;case 13:xi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?xi(t,i,a,l):yl(t,i):d._visibility&2?xi(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yd(v,i);break;case 24:xi(t,i,a,l),h&2048&&_d(i.alternate,i);break;default:xi(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,x=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,A,x,h),pl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?qa(d,v,A,x,h):yl(d,v):(J._visibility|=2,qa(d,v,A,x,h)),h&&q&2048&&yd(v.alternate,v);break;case 24:qa(d,v,A,x,h),h&&q&2048&&_d(v.alternate,v);break;default:qa(d,v,A,x,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&yd(l.alternate,l);break;case 24:yl(a,l),h&2048&&_d(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var _l=8192;function Ha(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)r_(t),t=t.sibling}function r_(t){switch(t.tag){case 26:Ha(t),t.flags&_l&&t.memoizedState!==null&&fb(li,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=li;li=xc(t.stateNode.containerInfo),Ha(t),li=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=_l,_l=16777216,Ha(t),_l=i):Ha(t));break;default:Ha(t)}}function s_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function vl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,o_(l,t)}s_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&Ur(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ec(t)):vl(t);break;default:vl(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];$t=l,o_(l,t)}s_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ur(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(i));break;default:Ec(i)}t=t.sibling}}function o_(t,i){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Ur(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var h=l.sibling,d=l.return;if(Zy(l),l===a){$t=null;break e}if(h!==null){h.return=d,$t=h;break e}$t=d}}}var CA={getCacheForType:function(t){var i=ln(Bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},DA=typeof WeakMap=="function"?WeakMap:Map,at=0,pt=null,je=null,Ye=0,ot=0,kn=null,Br=!1,Fa=!1,vd=!1,cr=0,Rt=0,qr=0,Xs=0,Ed=0,Wn=0,Ga=0,El=null,bn=null,Td=!1,Sd=0,Tc=1/0,Sc=null,Hr=null,nn=0,Fr=null,Ka=null,Qa=0,Ad=0,bd=null,l_=null,Tl=0,wd=null;function Pn(){if((at&2)!==0&&Ye!==0)return Ye&-Ye;if(W.T!==null){var t=Va;return t!==0?t:xd()}return wr()}function u_(){Wn===0&&(Wn=(Ye&536870912)===0||tt?Oo():536870912);var t=Xn.current;return t!==null&&(t.flags|=32),Wn}function Ln(t,i,a){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Gr(t,Ye,Wn,!1)),qi(t,a),((at&2)===0||t!==pt)&&(t===pt&&((at&2)===0&&(Xs|=a),Rt===4&&Gr(t,Ye,Wn,!1)),Mi(t))}function c_(t,i,a){if((at&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ss(t,i),h=l?xA(t,i):Cd(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Gr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!OA(a)){h=Cd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=El;var x=A.current.memoizedState.isDehydrated;if(x&&(Ya(A,v).flags|=256),v=Cd(A,v,!1),v!==2){if(vd&&!x){A.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break e}d=bn,bn=h,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),Gr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,Wn,!Br);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Sd+300-st(),10<h)){if(Gr(l,i,Wn,!Br),ha(l,0,!0)!==0)break e;l.timeoutHandle=z_(h_.bind(null,l,a,bn,Sc,Td,i,Wn,Xs,Ga,Br,d,2,-0,0),h);break e}h_(l,a,bn,Sc,Td,i,Wn,Xs,Ga,Br,d,0,-0,0)}}break}while(!0);Mi(t)}function h_(t,i,a,l,h,d,v,A,x,q,J,re,F,K){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:hb},r_(i),re=db(),re!==null)){t.cancelPendingCommit=re(__.bind(null,t,i,d,a,l,h,v,A,x,J,1,F,K)),Gr(t,d,v,!q);return}__(t,i,d,a,l,h,v,A,x)}function OA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Nn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,a,l){i&=~Ed,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Nt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&_i(t,a,i)}function Ac(){return(at&6)===0?(Sl(0),!1):!0}function Rd(){if(je!==null){if(ot===0)var t=je.return;else t=je,nr=Fs=null,Hf(t),ja=null,fl=0,t=je;for(;t!==null;)Fy(t.alternate,t),t=t.return;je=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rd(),pt=t,je=a=Ji(t.current,null),Ye=i,ot=0,kn=null,Br=!1,Fa=Ss(t,i),vd=!1,Ga=Wn=Ed=Xs=qr=Rt=0,bn=El=null,Td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Nt(l),d=1<<h;i|=t[h],l&=~d}return cr=i,Gu(),a}function f_(t,i){Pe=null,W.H=cc,i===il||i===ec?(i=Dg(),ot=3):i===Rg?(i=Dg(),ot=4):ot=i===Oy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,je===null&&(Rt=1,pc(t,Kn(i,t.current)))}function d_(){var t=W.H;return W.H=cc,t===null?cc:t}function m_(){var t=W.A;return W.A=CA,t}function Id(){Rt=4,Br||(Ye&4194048)!==Ye&&Xn.current!==null||(Fa=!0),(qr&134217727)===0&&(Xs&134217727)===0||pt===null||Gr(pt,Ye,Wn,!1)}function Cd(t,i,a){var l=at;at|=2;var h=d_(),d=m_();(pt!==t||Ye!==i)&&(Sc=null,Ya(t,i)),i=!1;var v=Rt;e:do try{if(ot!==0&&je!==null){var A=je,x=kn;switch(ot){case 8:Rd(),v=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(i=!0);var q=ot;if(ot=0,kn=null,$a(t,A,x,q),a&&Fa){v=0;break e}break;default:q=ot,ot=0,kn=null,$a(t,A,x,q)}}NA(),v=Rt;break}catch(J){f_(t,J)}while(!0);return i&&t.shellSuspendCounter++,nr=Fs=null,at=l,W.H=h,W.A=d,je===null&&(pt=null,Ye=0,Gu()),v}function NA(){for(;je!==null;)p_(je)}function xA(t,i){var a=at;at|=2;var l=d_(),h=m_();pt!==t||Ye!==i?(Sc=null,Tc=st()+500,Ya(t,i)):Fa=Ss(t,i);e:do try{if(ot!==0&&je!==null){i=je;var d=kn;t:switch(ot){case 1:ot=0,kn=null,$a(t,i,d,1);break;case 2:case 9:if(Ig(d)){ot=0,kn=null,g_(i);break}i=function(){ot!==2&&ot!==9||pt!==t||(ot=7),Mi(t)},d.then(i,i);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Ig(d)?(ot=0,kn=null,g_(i)):(ot=0,kn=null,$a(t,i,d,7));break;case 5:var v=null;switch(je.tag){case 26:v=je.memoizedState;case 5:case 27:var A=je;if(!v||W_(v)){ot=0,kn=null;var x=A.sibling;if(x!==null)je=x;else{var q=A.return;q!==null?(je=q,bc(q)):je=null}break t}}ot=0,kn=null,$a(t,i,d,5);break;case 6:ot=0,kn=null,$a(t,i,d,6);break;case 8:Rd(),Rt=6;break e;default:throw Error(s(462))}}MA();break}catch(J){f_(t,J)}while(!0);return nr=Fs=null,W.H=l,W.A=h,at=a,je!==null?0:(pt=null,Ye=0,Gu(),Rt)}function MA(){for(;je!==null&&!Fe();)p_(je)}function p_(t){var i=qy(t.alternate,t,cr);t.memoizedProps=t.pendingProps,i===null?bc(t):je=i}function g_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Py(a,i,i.pendingProps,i.type,void 0,Ye);break;case 11:i=Py(a,i,i.pendingProps,i.type.render,i.ref,Ye);break;case 5:Hf(i);default:Fy(a,i),i=je=yg(i,cr),i=qy(a,i,cr)}t.memoizedProps=t.pendingProps,i===null?bc(t):je=i}function $a(t,i,a,l){nr=Fs=null,Hf(i),ja=null,fl=0;var h=i.return;try{if(SA(t,h,i,a,Ye)){Rt=1,pc(t,Kn(a,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;Rt=1,pc(t,Kn(a,t.current)),je=null;return}i.flags&32768?(tt||l===1?t=!0:Fa||(Ye&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),y_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){y_(i,Br);return}t=i.return;var a=bA(i.alternate,i,cr);if(a!==null){je=a;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);Rt===0&&(Rt=5)}function y_(t,i){do{var a=wA(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);Rt=6,je=null}function __(t,i,a,l,h,d,v,A,x){t.cancelPendingCommit=null;do wc();while(nn!==0);if((at&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,xo(t,a,d,v,A,x),t===pt&&(je=pt=null,Ye=0),Ka=i,Fr=t,Qa=a,Ad=d,bd=h,l_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LA(En,function(){return A_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=te.p,te.p=2,v=at,at|=4;try{RA(t,i,a)}finally{at=v,te.p=h,W.T=l}}nn=1,v_(),E_(),T_()}}function v_(){if(nn===1){nn=0;var t=Fr,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=te.p;te.p=2;var h=at;at|=4;try{t_(i,t);var d=jd,v=og(t.containerInfo),A=d.focusedElem,x=d.selectionRange;if(v!==A&&A&&A.ownerDocument&&ag(A.ownerDocument.documentElement,A)){if(x!==null&&df(A)){var q=x.start,J=x.end;if(J===void 0&&(J=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(J,A.value.length);else{var re=A.ownerDocument||document,F=re&&re.defaultView||window;if(F.getSelection){var K=F.getSelection(),Re=A.textContent.length,Se=Math.min(x.start,Re),ht=x.end===void 0?Se:Math.min(x.end,Re);!K.extend&&Se>ht&&(v=ht,ht=Se,Se=v);var L=sg(A,Se),P=sg(A,ht);if(L&&P&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var B=re.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),Se>ht?(K.addRange(B),K.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),K.addRange(B))}}}}for(re=[],K=A;K=K.parentNode;)K.nodeType===1&&re.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ee=re[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Lc=!!zd,jd=zd=null}finally{at=h,te.p=l,W.T=a}}t.current=i,nn=2}}function E_(){if(nn===2){nn=0;var t=Fr,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=te.p;te.p=2;var h=at;at|=4;try{Wy(t,i.alternate,i)}finally{at=h,te.p=l,W.T=a}}nn=3}}function T_(){if(nn===4||nn===3){nn=0,xe();var t=Fr,i=Ka,a=Qa,l=l_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,Ka=Fr=null,S_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hr=null),fa(a),i=i.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(Me,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=te.p,te.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var A=l[v];d(A.value,{componentStack:A.stack})}}finally{W.T=i,te.p=h}}(Qa&3)!==0&&wc(),Mi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===wd?Tl++:(Tl=0,wd=t):Tl=0,Sl(0)}}function S_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function wc(t){return v_(),E_(),T_(),A_()}function A_(){if(nn!==5)return!1;var t=Fr,i=Ad;Ad=0;var a=fa(Qa),l=W.T,h=te.p;try{te.p=32>a?32:a,W.T=null,a=bd,bd=null;var d=Fr,v=Qa;if(nn=0,Ka=Fr=null,Qa=0,(at&6)!==0)throw Error(s(331));var A=at;if(at|=4,a_(d.current),i_(d,d.current,v,a),at=A,Sl(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(Me,d)}catch{}return!0}finally{te.p=h,W.T=l,S_(t,i)}}function b_(t,i,a){i=Kn(a,i),i=id(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(qi(t,2),Mi(t))}function ft(t,i,a){if(t.tag===3)b_(t,t,a);else for(;i!==null;){if(i.tag===3){b_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){t=Kn(a,t),a=Cy(2),l=Vr(i,a,2),l!==null&&(Dy(a,l,i,t),qi(l,2),Mi(l));break}}i=i.return}}function Dd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new DA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(vd=!0,h.add(a),t=VA.bind(null,t,i,a),i.then(t,t))}function VA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(Ye&a)===a&&(Rt===4||Rt===3&&(Ye&62914560)===Ye&&300>st()-Sd?(at&2)===0&&Ya(t,0):Ed|=a,Ga===Ye&&(Ga=0)),Mi(t)}function w_(t,i){i===0&&(i=No()),t=Oa(t,i),t!==null&&(qi(t,i),Mi(t))}function kA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(t,a)}function PA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(t,a)}function LA(t,i){return dt(t,i)}var Rc=null,Xa=null,Od=!1,Ic=!1,Nd=!1,Ws=0;function Mi(t){t!==Xa&&t.next===null&&(Xa===null?Rc=Xa=t:Xa=Xa.next=t),Ic=!0,Od||(Od=!0,zA())}function Sl(t,i){if(!Nd&&Ic){Nd=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=h&~(v&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,D_(l,d))}else d=Ye,d=ha(l,l===pt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ss(l,d)||(a=!0,D_(l,d));l=l.next}while(a);Nd=!1}}function UA(){R_()}function R_(){Ic=Od=!1;var t=0;Ws!==0&&(QA()&&(t=Ws),Ws=0);for(var i=st(),a=null,l=Rc;l!==null;){var h=l.next,d=I_(l,i);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ic=!0)),l=h}Sl(t)}function I_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Nt(d),A=1<<v,x=h[v];x===-1?((A&a)===0||(A&l)!==0)&&(h[v]=Do(A,i)):x<=i&&(t.expiredLanes|=A),d&=~A}if(i=pt,a=Ye,a=ha(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&We(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ss(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&We(l),fa(a)){case 2:case 8:a=mt;break;case 32:a=En;break;case 268435456:a=jn;break;default:a=En}return l=C_.bind(null,t),a=dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&We(l),t.callbackPriority=2,t.callbackNode=null,2}function C_(t,i){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Ye;return l=ha(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(c_(t,l,i),I_(t,st()),t.callbackNode!=null&&t.callbackNode===a?C_.bind(null,t):null)}function D_(t,i){if(wc())return null;c_(t,i,!0)}function zA(){$A(function(){(at&6)!==0?dt(nt,UA):R_()})}function xd(){return Ws===0&&(Ws=Oo()),Ws}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function N_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function jA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=O_((h[xt]||null).action),v=l.submitter;v&&(i=(i=v[xt]||null)?O_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new va("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var x=v?N_(h,v):new FormData(h);Zf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(A.preventDefault(),x=v?N_(h,v):new FormData(h),Zf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var Md=0;Md<yf.length;Md++){var Vd=yf[Md],BA=Vd.toLowerCase(),qA=Vd[0].toUpperCase()+Vd.slice(1);oi(BA,"on"+qA)}oi(cg,"onAnimationEnd"),oi(hg,"onAnimationIteration"),oi(fg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(sA,"onTransitionRun"),oi(aA,"onTransitionStart"),oi(oA,"onTransitionCancel"),oi(dg,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function x_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],x=A.instance,q=A.currentTarget;if(A=A.listener,x!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(J){mc(J)}h.currentTarget=null,d=x}else for(v=0;v<l.length;v++){if(A=l[v],x=A.instance,q=A.currentTarget,A=A.listener,x!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=q;try{d(h)}catch(J){mc(J)}h.currentTarget=null,d=x}}}}function Be(t,i){var a=i[Vo];a===void 0&&(a=i[Vo]=new Set);var l=t+"__bubble";a.has(l)||(M_(i,t,2,!1),a.add(l))}function kd(t,i,a){var l=0;i&&(l|=4),M_(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[Cc]){t[Cc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(HA.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,kd("selectionchange",!1,i))}}function M_(t,i,a,l){switch(iv(i)){case 2:var h=gb;break;case 8:h=yb;break;default:h=Xd}a=h.bind(null,i,a,t),h=void 0,!Fn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h)break;if(v===4)for(v=l.return;v!==null;){var x=v.tag;if((x===3||x===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;A!==null;){if(v=Hi(A),v===null)return;if(x=v.tag,x===5||x===6||x===26||x===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Ou(function(){var q=d,J=Hn(a),re=[];e:{var F=mg.get(t);if(F!==void 0){var K=va,Re=t;switch(t){case"keypress":if(bi(a)===0)break e;case"keydown":case"keyup":K=wa;break;case"focusin":Re="focus",K=Sa;break;case"focusout":Re="blur",K=Sa;break;case"beforeblur":case"afterblur":K=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Uu;break;case cg:case hg:case fg:K=Aa;break;case dg:K=ju;break;case"scroll":case"scrollend":K=Nu;break;case"wheel":K=Ra;break;case"copy":case"cut":case"paste":K=ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Qo;break;case"toggle":case"beforetoggle":K=qu}var Se=(i&4)!==0,ht=!Se&&(t==="scroll"||t==="scrollend"),L=Se?F!==null?F+"Capture":null:F;Se=[];for(var P=q,B;P!==null;){var ee=P;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||L===null||(ee=Os(P,L),ee!=null&&Se.push(bl(P,ee,B))),ht)break;P=P.return}0<Se.length&&(F=new K(F,Re,null,a,J),re.push({event:F,listeners:Se}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Qi&&(Re=a.relatedTarget||a.fromElement)&&(Hi(Re)||Re[Bn]))break e;if((K||F)&&(F=J.window===J?J:(F=J.ownerDocument)?F.defaultView||F.parentWindow:window,K?(Re=a.relatedTarget||a.toElement,K=q,Re=Re?Hi(Re):null,Re!==null&&(ht=u(Re),Se=Re.tag,Re!==ht||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):(K=null,Re=q),K!==Re)){if(Se=Gn,ee="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Qo,ee="onPointerLeave",L="onPointerEnter",P="pointer"),ht=K==null?F:Ei(K),B=Re==null?F:Ei(Re),F=new Se(ee,P+"leave",K,a,J),F.target=ht,F.relatedTarget=B,ee=null,Hi(J)===q&&(Se=new Se(L,P+"enter",Re,a,J),Se.target=B,Se.relatedTarget=ht,ee=Se),ht=ee,K&&Re)t:{for(Se=K,L=Re,P=0,B=Se;B;B=Wa(B))P++;for(B=0,ee=L;ee;ee=Wa(ee))B++;for(;0<P-B;)Se=Wa(Se),P--;for(;0<B-P;)L=Wa(L),B--;for(;P--;){if(Se===L||L!==null&&Se===L.alternate)break t;Se=Wa(Se),L=Wa(L)}Se=null}else Se=null;K!==null&&V_(re,F,K,Se,!1),Re!==null&&ht!==null&&V_(re,ht,Re,Se,!0)}}e:{if(F=q?Ei(q):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var ye=Jp;else if(jt(F))if(eg)ye=nA;else{ye=eA;var ze=JS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&jo(q.elementType)&&(ye=Jp):ye=tA;if(ye&&(ye=ye(t,q))){Zi(re,ye,a,J);break e}ze&&ze(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Dr(F,"number",F.value)}switch(ze=q?Ei(q):window,t){case"focusin":(jt(ze)||ze.contentEditable==="true")&&(Ia=ze,mf=q,Xo=null);break;case"focusout":Xo=mf=Ia=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,lg(re,a,J);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":lg(re,a,J)}var Ee;if(Ii)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ke?Z(t,a)&&(Ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&a.locale!=="ko"&&(Ke||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ke&&(Ee=qo()):(Ai=J,Or="value"in Ai?Ai.value:Ai.textContent,Ke=!0)),ze=Dc(q,Ae),0<ze.length&&(Ae=new Go(Ae,t,null,a,J),re.push({event:Ae,listeners:ze}),Ee?Ae.data=Ee:(Ee=ce(a),Ee!==null&&(Ae.data=Ee)))),(Ee=y?zt(t,a):Qe(t,a))&&(Ae=Dc(q,"onBeforeInput"),0<Ae.length&&(ze=new Go("onBeforeInput","beforeinput",null,a,J),re.push({event:ze,listeners:Ae}),ze.data=Ee)),jA(re,t,q,a,J)}x_(re,i)})}function bl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Os(t,a),h!=null&&l.unshift(bl(t,h,d)),h=Os(t,i),h!=null&&l.push(bl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,x=A.alternate,q=A.stateNode;if(A=A.tag,x!==null&&x===l)break;A!==5&&A!==26&&A!==27||q===null||(x=q,h?(q=Os(a,d),q!=null&&v.unshift(bl(a,q,x))):h||(q=Os(a,d),q!=null&&v.push(bl(a,q,x)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var FA=/\r\n?/g,GA=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(FA,`
`).replace(GA,"")}function P_(t,i){return i=k_(i),k_(t)===i}function Oc(){}function ct(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||qn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&qn(t,""+l);break;case"className":Ti(t,"class",l);break;case"tabIndex":Ti(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(i!=="object"){Ti(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Oc);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Be("beforetoggle",t),Be("toggle",t),Cr(t,"popover",l);break;case"xlinkActuate":Jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,Cr(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?qn(t,l):(typeof l=="number"||typeof l=="bigint")&&qn(t,""+l);break;case"onScroll":l!=null&&Be("scroll",t);break;case"onScrollEnd":l!=null&&Be("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Oc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[xt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Cr(t,a,l)}}}function rn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,d,v,a,null)}}h&&ct(t,i,"srcSet",a.srcSet,a,null),l&&ct(t,i,"src",a.src,a,null);return;case"input":Be("invalid",t);var A=d=v=h=null,x=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":v=J;break;case"checked":x=J;break;case"defaultChecked":q=J;break;case"value":d=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:ct(t,i,l,J,a,null)}}Is(t,d,A,x,q,v,h,!1),ya(t);return;case"select":Be("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:ct(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ki(t,!!l,i,!1):a!=null&&Ki(t,!!l,a,!0);return;case"textarea":Be("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ct(t,i,v,A,a,null)}Cs(t,l,h,d),ya(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ct(t,i,x,l,a,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Be(Al[l],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ct(t,i,q,l,a,null)}return;default:if(jo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Ud(t,i,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ct(t,i,A,l,a,null))}function KA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,x=null,q=null,J=null;for(K in a){var re=a[K];if(a.hasOwnProperty(K)&&re!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":x=re;default:l.hasOwnProperty(K)||ct(t,i,K,null,l,re)}}for(var F in l){var K=l[F];if(re=a[F],l.hasOwnProperty(F)&&(K!=null||re!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":v=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==re&&ct(t,i,F,K,l,re)}}On(t,v,A,x,q,J,d,h);return;case"select":K=v=A=F=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":K=x;default:l.hasOwnProperty(d)||ct(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":F=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==x&&ct(t,i,h,d,l,x)}i=A,a=v,l=K,F!=null?Ki(t,!!a,F,!1):!!l!=!!a&&(i!=null?Ki(t,!!a,i,!0):Ki(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ct(t,i,v,h,l,d)}lt(t,F,K);return;case"option":for(var Re in a)if(F=a[Re],a.hasOwnProperty(Re)&&F!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:ct(t,i,Re,null,l,F)}for(x in l)if(F=l[x],K=a[x],l.hasOwnProperty(x)&&F!==K&&(F!=null||K!=null))switch(x){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ct(t,i,x,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se)&&ct(t,i,Se,null,l,F);for(q in l)if(F=l[q],K=a[q],l.hasOwnProperty(q)&&F!==K&&(F!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ct(t,i,q,F,l,K)}return;default:if(jo(i)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!l.hasOwnProperty(ht)&&Ud(t,i,ht,void 0,l,F);for(J in l)F=l[J],K=a[J],!l.hasOwnProperty(J)||F===K||F===void 0&&K===void 0||Ud(t,i,J,F,l,K);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&ct(t,i,L,null,l,F);for(re in l)F=l[re],K=a[re],!l.hasOwnProperty(re)||F===K||F==null&&K==null||ct(t,i,re,F,l,K)}var zd=null,jd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function L_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function QA(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var z_=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(XA)}:z_;function XA(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function B_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&wl(v.documentElement),a&2&&wl(v.body),a&4)for(a=v.head,wl(a),v=a.firstChild;v;){var A=v.nextSibling,x=v.nodeName;v[As]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}if(h===0){t.removeChild(d),Ml(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(i)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),Ir(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function WA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[As])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ui(t.nextSibling),t===null)break}return null}function ZA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ui(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function JA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ui(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Gd=null;function q_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function H_(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ir(t)}var Zn=new Map,F_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hr=te.d;te.d={f:eb,r:tb,D:nb,C:ib,L:rb,m:sb,X:ob,S:ab,M:lb};function eb(){var t=hr.f(),i=Ac();return t||i}function tb(t){var i=vi(t);i!==null&&i.tag===5&&i.type==="form"?cy(i):hr.r(t)}var Za=typeof document>"u"?null:document;function G_(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var h=Mt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),F_.has(h)||(F_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),rn(i,"link",t),It(i),l.head.appendChild(i)))}}function nb(t){hr.D(t),G_("dns-prefetch",t,null)}function ib(t,i){hr.C(t,i),G_("preconnect",t,i)}function rb(t,i,a){hr.L(t,i,a);var l=Za;if(l&&t&&i){var h='link[rel="preload"][as="'+Mt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Mt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Mt(a.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=eo(t)}Zn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Rl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),rn(i,"link",t),It(i),l.head.appendChild(i)))}}function sb(t,i){hr.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Zn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),rn(l,"link",t),It(l),a.head.appendChild(l)}}}function ab(t,i,a){hr.S(t,i,a);var l=Za;if(l&&t){var h=pn(l).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(Rl(d)))A.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Zn.get(d))&&Kd(t,a);var x=v=l.createElement("link");It(x),rn(x,"link",t),x._p=new Promise(function(q,J){x.onload=q,x.onerror=J}),x.addEventListener("load",function(){A.loading|=1}),x.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function ob(t,i){hr.X(t,i);var a=Za;if(a&&t){var l=pn(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0},i),(i=Zn.get(h))&&Qd(t,i),d=a.createElement("script"),It(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function lb(t,i){hr.M(t,i);var a=Za;if(a&&t){var l=pn(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Zn.get(h))&&Qd(t,i),d=a.createElement("script"),It(d),rn(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function K_(t,i,a,l){var h=(h=ge.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=pn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=pn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Rl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zn.set(t,a),d||ub(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=pn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+Mt(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function Q_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function ub(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",a),It(i),t.head.appendChild(i))}function eo(t){return'[src="'+Mt(t)+'"]'}function Il(t){return"script[async]"+t}function Y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(a.href)+'"]');if(l)return i.instance=l,It(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),rn(l,"style",h),Mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Rl(h));if(d)return i.state.loading|=4,i.instance=d,It(d),d;l=Q_(a),(h=Zn.get(h))&&Kd(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var v=d;return v._p=new Promise(function(A,x){v.onload=A,v.onerror=x}),rn(d,"link",l),i.state.loading|=4,Mc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,It(h),h):(l=a,(h=Zn.get(d))&&(l=E({},a),Qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),rn(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Mc(l,a.precedence,t));return i.instance}function Mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Vc=null;function $_(t,i,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[As]||d[Ut]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function X_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function cb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function W_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function hb(){}function fb(t,i,a){if(Cl===null)throw Error(s(475));var l=Cl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),d=t.querySelector(Rl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=kc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,It(d);return}d=t.ownerDocument||t,a=Q_(a),(h=Zn.get(h))&&Kd(a,h),d=d.createElement("link"),It(d);var v=d;v._p=new Promise(function(A,x){v.onload=A,v.onerror=x}),rn(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=kc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function db(){if(Cl===null)throw Error(s(475));var t=Cl;return t.stylesheets&&t.count===0&&Yd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Yd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)Yd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pc=null;function Yd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pc=new Map,i.forEach(mb,t),Pc=null,kc.call(t))}function mb(t,i){if(!(i.state.loading&4)){var a=Pc.get(t);if(a)var l=a.get(null);else{a=new Map,Pc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:U,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function pb(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Z_(t,i,a,l,h,d,v,A,x,q,J,re){return t=new pb(t,i,a,v,A,x,q,re),i=1,d===!0&&(i|=24),d=xn(3,null,null,i),t.current=d,d.stateNode=t,i=Df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Mf(d),t}function J_(t){return t?(t=Na,t):Na}function ev(t,i,a,l,h,d){h=J_(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(Ln(a,t,i),sl(a,t,i))}function tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){tv(t,i),(t=t.alternate)&&tv(t,i)}function nv(t){if(t.tag===13){var i=Oa(t,67108864);i!==null&&Ln(i,t,67108864),$d(t,67108864)}}var Lc=!0;function gb(t,i,a,l){var h=W.T;W.T=null;var d=te.p;try{te.p=2,Xd(t,i,a,l)}finally{te.p=d,W.T=h}}function yb(t,i,a,l){var h=W.T;W.T=null;var d=te.p;try{te.p=8,Xd(t,i,a,l)}finally{te.p=d,W.T=h}}function Xd(t,i,a,l){if(Lc){var h=Wd(l);if(h===null)Ld(t,i,l,Uc,a),rv(t,l);else if(vb(h,t,i,a,l))l.stopPropagation();else if(rv(t,l),i&4&&-1<_b.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ri(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var x=1<<31-Nt(v);A.entanglements[1]|=x,v&=~x}Mi(d),(at&6)===0&&(Tc=st()+500,Sl(0))}}break;case 13:A=Oa(d,2),A!==null&&Ln(A,d,2),Ac(),$d(d,2)}if(d=Wd(l),d===null&&Ld(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,a)}}function Wd(t){return t=Hn(t),Zd(t)}var Uc=null;function Zd(t){if(Uc=null,t=Hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ge()){case nt:return 2;case mt:return 8;case En:case Tn:return 32;case jn:return 268435456;default:return 32}default:return 32}}var Jd=!1,Qr=null,Yr=null,$r=null,Ol=new Map,Nl=new Map,Xr=[],_b="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=vi(i),i!==null&&nv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function vb(t,i,a,l,h){switch(i){case"focusin":return Qr=xl(Qr,t,i,a,l,h),!0;case"dragenter":return Yr=xl(Yr,t,i,a,l,h),!0;case"mouseover":return $r=xl($r,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,xl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,xl(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function sv(t){var i=Hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Au(t.priority,function(){if(a.tag===13){var l=Pn();l=br(l);var h=Oa(a,l);h!==null&&Ln(h,a,l),$d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Wd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qi=l,a.target.dispatchEvent(l),Qi=null}else return i=vi(a),i!==null&&nv(i),t.blockedOn=a,!1;i.shift()}return!0}function av(t,i,a){zc(t)&&a.delete(i)}function Eb(){Jd=!1,Qr!==null&&zc(Qr)&&(Qr=null),Yr!==null&&zc(Yr)&&(Yr=null),$r!==null&&zc($r)&&($r=null),Ol.forEach(av),Nl.forEach(av)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Eb)))}var Bc=null;function ov(t){Bc!==t&&(Bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Zd(l||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function i(x){return jc(x,t)}Qr!==null&&jc(Qr,t),Yr!==null&&jc(Yr,t),$r!==null&&jc($r,t),Ol.forEach(i),Nl.forEach(i);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&Xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[xt]||null;if(typeof d=="function")v||ov(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[xt]||null)A=v.formAction;else if(Zd(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),ov(a)}}}function em(t){this._internalRoot=t}qc.prototype.render=em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Pn();ev(a,l,t,i,null,null)},qc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ev(t.current,2,null,t,null,null),Ac(),i[Bn]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=wr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xr.length&&i!==0&&i<Xr[a].priority;a++);Xr.splice(a,0,t),a===0&&sv(t)}};var lv=e.version;if(lv!=="19.1.0")throw Error(s(527,lv,"19.1.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var Tb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{Me=Hc.inject(Tb),De=Hc}catch{}}return kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=by,d=wy,v=Ry,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=Z_(t,1,!1,null,null,a,l,h,d,v,A,null),t[Bn]=i.current,Pd(t),new em(i)},kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=by,v=wy,A=Ry,x=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=Z_(t,1,!0,i,a??null,l,h,d,v,A,x,q),i.context=J_(null),a=i.current,l=Pn(),l=br(l),h=Mr(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,qi(i,a),Mi(i),t[Bn]=i.current,Pd(t),new qc(i)},kl.version="19.1.0",kl}var _v;function xb(){if(_v)return im.exports;_v=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=Nb(),im.exports}var Mb=xb();const Vb=$m(Mb);var Pl={},vv;function kb(){if(vv)return Pl;vv=1,Object.defineProperty(Pl,"__esModule",{value:!0}),Pl.parse=f,Pl.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function f(b,M){const k=new u,Q=b.length;if(Q<2)return k;const z=(M==null?void 0:M.decode)||E;let G=0;do{const ne=b.indexOf("=",G);if(ne===-1)break;const U=b.indexOf(";",G),oe=U===-1?Q:U;if(ne>oe){G=b.lastIndexOf(";",ne-1)+1;continue}const le=m(b,G,ne),fe=g(b,ne,le),N=b.slice(le,fe);if(k[N]===void 0){let T=m(b,ne+1,oe),S=g(b,oe,T);const w=z(b.slice(T,S));k[N]=w}G=oe+1}while(G<Q);return k}function m(b,M,k){do{const Q=b.charCodeAt(M);if(Q!==32&&Q!==9)return M}while(++M<k);return k}function g(b,M,k){for(;M>k;){const Q=b.charCodeAt(--M);if(Q!==32&&Q!==9)return M+1}return k}function p(b,M,k){const Q=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const z=Q(M);if(!e.test(z))throw new TypeError(`argument val is invalid: ${M}`);let G=b+"="+z;if(!k)return G;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);G+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);G+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);G+="; Path="+k.path}if(k.expires){if(!I(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);G+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(G+="; HttpOnly"),k.secure&&(G+="; Secure"),k.partitioned&&(G+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return G}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function I(b){return o.call(b)==="[object Date]"}return Pl}kb();var Ev="popstate";function Pb(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=aa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Em("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:Wl(u))}function s(o,u){ni(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ub(e,n,s,r)}function Et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ni(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lb(){return Math.random().toString(36).substring(2,10)}function Tv(r,e){return{usr:r.state,key:r.key,idx:e}}function Em(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||s||Lb()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function aa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Ub(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function I(){m="POP";let z=E(),G=z==null?null:z-p;p=z,g&&g({action:m,location:Q.location,delta:G})}function b(z,G){m="PUSH";let ne=Em(Q.location,z,G);n&&n(ne,z),p=E()+1;let U=Tv(ne,p),oe=Q.createHref(ne);try{f.pushState(U,"",oe)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(oe)}u&&g&&g({action:m,location:Q.location,delta:1})}function M(z,G){m="REPLACE";let ne=Em(Q.location,z,G);n&&n(ne,z),p=E();let U=Tv(ne,p),oe=Q.createHref(ne);f.replaceState(U,"",oe),u&&g&&g({action:m,location:Q.location,delta:0})}function k(z){return zb(z)}let Q={get action(){return m},get location(){return r(o,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Ev,I),g=z,()=>{o.removeEventListener(Ev,I),g=null}},createHref(z){return e(o,z)},createURL:k,encodeLocation(z){let G=k(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:b,replace:M,go(z){return f.go(z)}};return Q}function zb(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function i0(r,e,n="/"){return jb(r,e,n,!1)}function jb(r,e,n,s){let o=typeof e=="string"?aa(e):e,u=_r(o.pathname||"/",n);if(u==null)return null;let f=r0(r);Bb(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=Zb(u);m=Xb(f[g],p,s)}return m}function r0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(Et(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=pr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),r0(u.children,e,E,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:Yb(p,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of s0(u.path))o(u,f,g)}),e}function s0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=s0(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Bb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:$b(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qb=/^:[\w-]+$/,Hb=3,Fb=2,Gb=1,Kb=10,Qb=-2,Sv=r=>r==="*";function Yb(r,e){let n=r.split("/"),s=n.length;return n.some(Sv)&&(s+=Qb),e&&(s+=Fb),n.filter(o=>!Sv(o)).reduce((o,u)=>o+(qb.test(u)?Hb:u===""?Gb:Kb),s)}function $b(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Xb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",I=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),b=g.route;if(!I&&p&&n&&!s[s.length-1].route.index&&(I=ch({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!I)return null;Object.assign(o,I.params),f.push({params:o,pathname:pr([u,I.pathname]),pathnameBase:nw(pr([u,I.pathnameBase])),route:b}),I.pathnameBase!=="/"&&(u=pr([u,I.pathnameBase]))}return f}function ch(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Wb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:I},b)=>{if(E==="*"){let k=m[b]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const M=m[b];return I&&!M?p[E]=void 0:p[E]=(M||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function Wb(r,e=!1,n=!0){ni(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Zb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ni(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _r(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Jb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?aa(r):r;return{pathname:n?n.startsWith("/")?n:ew(n,e):e,search:iw(s),hash:rw(o)}}function ew(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wm(r){let e=tw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Zm(r,e,n,s=!1){let o;typeof r=="string"?o=aa(r):(o={...r},Et(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let I=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),I-=1;o.pathname=b.join("/")}m=I>=0?e[I]:"/"}let g=Jb(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var pr=r=>r.join("/").replace(/\/\/+/g,"/"),nw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function sw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var a0=["POST","PUT","PATCH","DELETE"];new Set(a0);var aw=["GET",...a0];new Set(aw);var Eo=H.createContext(null);Eo.displayName="DataRouter";var Nh=H.createContext(null);Nh.displayName="DataRouterState";var o0=H.createContext({isTransitioning:!1});o0.displayName="ViewTransition";var ow=H.createContext(new Map);ow.displayName="Fetchers";var lw=H.createContext(null);lw.displayName="Await";var pi=H.createContext(null);pi.displayName="Navigation";var ou=H.createContext(null);ou.displayName="Location";var ii=H.createContext({outlet:null,matches:[],isDataRoute:!1});ii.displayName="Route";var Jm=H.createContext(null);Jm.displayName="RouteError";function uw(r,{relative:e}={}){Et(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(pi),{hash:o,pathname:u,search:f}=lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:pr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function To(){return H.useContext(ou)!=null}function ps(){return Et(To(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ou).location}var l0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u0(r){H.useContext(pi).static||H.useLayoutEffect(r)}function gs(){let{isDataRoute:r}=H.useContext(ii);return r?bw():cw()}function cw(){Et(To(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(Eo),{basename:e,navigator:n}=H.useContext(pi),{matches:s}=H.useContext(ii),{pathname:o}=ps(),u=JSON.stringify(Wm(s)),f=H.useRef(!1);return u0(()=>{f.current=!0}),H.useCallback((g,p={})=>{if(ni(f.current,l0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Zm(g,JSON.parse(u),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:pr([e,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[e,n,u,o,r])}var hw=H.createContext(null);function fw(r){let e=H.useContext(ii).outlet;return e&&H.createElement(hw.Provider,{value:r},e)}function ep(){let{matches:r}=H.useContext(ii),e=r[r.length-1];return e?e.params:{}}function lu(r,{relative:e}={}){let{matches:n}=H.useContext(ii),{pathname:s}=ps(),o=JSON.stringify(Wm(n));return H.useMemo(()=>Zm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function dw(r,e){return c0(r,e)}function c0(r,e,n,s){var ne;Et(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(pi),{matches:f}=H.useContext(ii),m=f[f.length-1],g=m?m.params:{},p=m?m.pathname:"/",E=m?m.pathnameBase:"/",I=m&&m.route;{let U=I&&I.path||"";h0(p,!I||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=ps(),M;if(e){let U=typeof e=="string"?aa(e):e;Et(E==="/"||((ne=U.pathname)==null?void 0:ne.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${U.pathname}" was given in the \`location\` prop.`),M=U}else M=b;let k=M.pathname||"/",Q=k;if(E!=="/"){let U=E.replace(/^\//,"").split("/");Q="/"+k.replace(/^\//,"").split("/").slice(U.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:i0(r,{pathname:Q});ni(I||z!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),ni(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=_w(z&&z.map(U=>Object.assign({},U,{params:Object.assign({},g,U.params),pathname:pr([E,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?E:pr([E,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),f,n,s);return e&&G?H.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},G):G}function mw(){let r=Aw(),e=sw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var pw=H.createElement(mw,null),gw=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(ii.Provider,{value:this.props.routeContext},H.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yw({routeContext:r,match:e,children:n}){let s=H.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ii.Provider,{value:r},n)}function _w(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:I}=n,b=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!I||I[p.route.id]===void 0);if(p.route.lazy||b){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let I,b=!1,M=null,k=null;n&&(I=u&&p.route.id?u[p.route.id]:void 0,M=p.route.errorElement||pw,f&&(m<0&&E===0?(h0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,k=null):m===E&&(b=!0,k=p.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),z=()=>{let G;return I?G=M:b?G=k:p.route.Component?G=H.createElement(p.route.Component,null):p.route.element?G=p.route.element:G=g,H.createElement(yw,{match:p,routeContext:{outlet:g,matches:Q,isDataRoute:n!=null},children:G})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?H.createElement(gw,{location:n.location,revalidation:n.revalidation,component:M,error:I,children:z(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):z()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vw(r){let e=H.useContext(Eo);return Et(e,tp(r)),e}function Ew(r){let e=H.useContext(Nh);return Et(e,tp(r)),e}function Tw(r){let e=H.useContext(ii);return Et(e,tp(r)),e}function np(r){let e=Tw(r),n=e.matches[e.matches.length-1];return Et(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Sw(){return np("useRouteId")}function Aw(){var s;let r=H.useContext(Jm),e=Ew("useRouteError"),n=np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function bw(){let{router:r}=vw("useNavigate"),e=np("useNavigate"),n=H.useRef(!1);return u0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{ni(n.current,l0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Av={};function h0(r,e,n){!e&&!Av[r]&&(Av[r]=!0,ni(!1,n))}H.memo(ww);function ww({routes:r,future:e,state:n}){return c0(r,void 0,n,e)}function so({to:r,replace:e,state:n,relative:s}){Et(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(pi);ni(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=H.useContext(ii),{pathname:f}=ps(),m=gs(),g=Zm(r,Wm(u),f,s==="path"),p=JSON.stringify(g);return H.useEffect(()=>{m(JSON.parse(p),{replace:e,state:n,relative:s})},[m,p,s,e,n]),null}function Rw(r){return fw(r.context)}function Jn(r){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Et(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=aa(n));let{pathname:g="/",search:p="",hash:E="",state:I=null,key:b="default"}=n,M=H.useMemo(()=>{let k=_r(g,f);return k==null?null:{location:{pathname:k,search:p,hash:E,state:I,key:b},navigationType:s}},[f,g,p,E,I,b,s]);return ni(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:H.createElement(pi.Provider,{value:m},H.createElement(ou.Provider,{children:e,value:M}))}function Cw({children:r,location:e}){return dw(Tm(r),e)}function Tm(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Tm(s.props.children,u));return}Et(s.type===Jn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function Dw(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function Ow(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function Nw(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function xw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Mw(r,e){return r.button===0&&(!e||e==="_self")&&!xw(r)}var Fc=null;function Vw(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var kw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!kw.has(r)?(ni(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function Pw(r,e){let n,s,o,u,f;if(Ow(r)){let m=r.getAttribute("action");s=m?_r(m,e):null,n=r.getAttribute("method")||Wc,o=lm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(Dw(r)||Nw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?_r(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!Vw()){let{name:p,type:E,value:I}=r;if(E==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,I)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Lw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Uw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Lw(u,n);return f.links?f.links():[]}return[]}));return Hw(s.flat(1).filter(Uw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,e,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?e.filter((g,p)=>{var I;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((I=n[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jw(r,e,{includeHydrateFallback:n}={}){return Bw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Bw(r){return[...new Set(r)]}function qw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Hw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(qw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fw=new Set([100,101,204,205]);function Gw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&_r(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function f0(){let r=H.useContext(Eo);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Kw(){let r=H.useContext(Nh);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=H.createContext(void 0);rp.displayName="FrameworkContext";function d0(){let r=H.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function Qw(r,e){let n=H.useContext(rp),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:I}=e,b=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=G=>{G.forEach(ne=>{f(ne.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return b.current&&z.observe(b.current),()=>{z.disconnect()}}},[r]),H.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ll(m,M),onBlur:Ll(g,k),onMouseEnter:Ll(p,M),onMouseLeave:Ll(E,k),onTouchStart:Ll(I,M)}]:[!1,b,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Yw({page:r,...e}){let{router:n}=f0(),s=H.useMemo(()=>i0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(Xw,{page:r,matches:s,...e}):null}function $w(r){let{manifest:e,routeModules:n}=d0(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return zw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Xw({page:r,matches:e,...n}){let s=ps(),{manifest:o,routeModules:u}=d0(),{basename:f}=f0(),{loaderData:m,matches:g}=Kw(),p=H.useMemo(()=>bv(r,e,g,o,s,"data"),[r,e,g,o,s]),E=H.useMemo(()=>bv(r,e,g,o,s,"assets"),[r,e,g,o,s]),I=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,Q=!1;if(e.forEach(G=>{var U;let ne=o.routes[G.route.id];!ne||!ne.hasLoader||(!p.some(oe=>oe.route.id===G.route.id)&&G.route.id in m&&((U=u[G.route.id])!=null&&U.shouldRevalidate)||ne.hasClientLoader?Q=!0:k.add(G.route.id))}),k.size===0)return[];let z=Gw(r,f);return Q&&k.size>0&&z.searchParams.set("_routes",e.filter(G=>k.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,p,e,r,u]),b=H.useMemo(()=>jw(E,o),[E,o]),M=$w(E);return H.createElement(H.Fragment,null,I.map(k=>H.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),b.map(k=>H.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),M.map(({key:k,link:Q})=>H.createElement("link",{key:k,...Q})))}function Ww(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var m0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m0&&(window.__reactRouterVersion="7.6.0")}catch{}function Zw({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=Pb({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(g=>{H.startTransition(()=>f(g))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(Iw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var p0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g0=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:I,...b},M){let{basename:k}=H.useContext(pi),Q=typeof p=="string"&&p0.test(p),z,G=!1;if(typeof p=="string"&&Q&&(z=p,m0))try{let S=new URL(window.location.href),w=p.startsWith("//")?new URL(S.protocol+p):new URL(p),D=_r(w.pathname,k);w.origin===S.origin&&D!=null?p=D+w.search+w.hash:G=!0}catch{ni(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=uw(p,{relative:o}),[U,oe,le]=Qw(s,b),fe=n1(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:I});function N(S){e&&e(S),S.defaultPrevented||fe(S)}let T=H.createElement("a",{...b,...le,href:z||ne,onClick:G||u?e:N,ref:Ww(M,oe),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return U&&!Q?H.createElement(H.Fragment,null,T,H.createElement(Yw,{page:ne})):T});g0.displayName="Link";var Jw=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let I=lu(f,{relative:p.relative}),b=ps(),M=H.useContext(Nh),{navigator:k,basename:Q}=H.useContext(pi),z=M!=null&&o1(I)&&m===!0,G=k.encodeLocation?k.encodeLocation(I).pathname:I.pathname,ne=b.pathname,U=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),U=U?U.toLowerCase():null,G=G.toLowerCase()),U&&Q&&(U=_r(U,Q)||U);const oe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let le=ne===G||!o&&ne.startsWith(G)&&ne.charAt(oe)==="/",fe=U!=null&&(U===G||!o&&U.startsWith(G)&&U.charAt(G.length)==="/"),N={isActive:le,isPending:fe,isTransitioning:z},T=le?e:void 0,S;typeof s=="function"?S=s(N):S=[s,le?"active":null,fe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let w=typeof u=="function"?u(N):u;return H.createElement(g0,{...p,"aria-current":T,className:S,ref:E,style:w,to:f,viewTransition:m},typeof g=="function"?g(N):g)});Jw.displayName="NavLink";var e1=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:I,...b},M)=>{let k=s1(),Q=a1(m,{relative:p}),z=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&p0.test(m),ne=U=>{if(g&&g(U),U.defaultPrevented)return;U.preventDefault();let oe=U.nativeEvent.submitter,le=(oe==null?void 0:oe.getAttribute("formmethod"))||f;k(oe||U.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:I})};return H.createElement("form",{ref:M,method:z,action:Q,onSubmit:s?g:ne,...b,"data-discover":!G&&r==="render"?"true":void 0})});e1.displayName="Form";function t1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y0(r){let e=H.useContext(Eo);return Et(e,t1(r)),e}function n1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=gs(),g=ps(),p=lu(r,{relative:u});return H.useCallback(E=>{if(Mw(E,e)){E.preventDefault();let I=n!==void 0?n:Wl(g)===Wl(p);m(r,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,e,r,o,u,f])}var i1=0,r1=()=>`__${String(++i1)}__`;function s1(){let{router:r}=y0("useSubmit"),{basename:e}=H.useContext(pi),n=Sw();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=Pw(s,e);if(o.navigate===!1){let E=o.fetcherKey||r1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function a1(r,{relative:e}={}){let{basename:n}=H.useContext(pi),s=H.useContext(ii);Et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(r||".",{relative:e})},f=ps();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(I=>I).forEach(I=>m.append("index",I));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:pr([n,u.pathname])),Wl(u)}function o1(r,e={}){let n=H.useContext(o0);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y0("useViewTransitionState"),o=lu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=_r(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=_r(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ch(o.pathname,f)!=null||ch(o.pathname,u)!=null}[...Fw];const l1=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},u1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,I=(u&3)<<4|m>>4;let b=(m&15)<<2|p>>6,M=p&63;g||(M=64,f||(b=64)),s.push(n[E],n[I],n[b],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(_0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):u1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const I=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||I==null)throw new c1;const b=u<<2|m>>4;if(s.push(b),p!==64){const M=m<<4&240|p>>2;if(s.push(M),I!==64){const k=p<<6&192|I;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class c1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h1=function(r){const e=_0(r);return v0.encodeByteArray(e,!0)},hh=function(r){return h1(r).replace(/\./g,"")},E0=function(r){try{return v0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=()=>f1().__FIREBASE_DEFAULTS__,m1=()=>{if(typeof process>"u"||typeof wv>"u")return;const r=wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},p1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&E0(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return l1()||d1()||m1()||p1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},T0=r=>{var e,n;return(n=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},g1=r=>{const e=T0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},S0=()=>{var r;return(r=Mh())===null||r===void 0?void 0:r.config},A0=r=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){return r.endsWith(".cloudworkstations.dev")}async function b0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[hh(JSON.stringify(n)),hh(JSON.stringify(f)),""].join(".")}const Fl={};function v1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function E1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Rv=!1;function Vh(r,e){if(typeof window>"u"||typeof document>"u"||!uu(window.location.host)||Fl[r]===e||Fl[r]||Rv)return;Fl[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=v1().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function g(b,M){b.setAttribute("width","24"),b.setAttribute("id",M),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Rv=!0,f()},b}function E(b,M){b.setAttribute("id",M),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function I(){const b=E1(s),M=n("text"),k=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),G=n("preprendIcon"),ne=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const U=b.element;m(U),E(z,Q);const oe=p();g(ne,G),U.append(ne,k,z,oe),document.body.appendChild(U)}u?(k.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function S1(){var r;const e=(r=Mh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function w1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R1(){const r=dn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function I1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function D1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="FirebaseError";class Ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=O1,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?N1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ar(o,m,s)}}function N1(r,e){return r.replace(x1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const x1=/\{\$([^}]+)}/g;function M1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Iv(u)&&Iv(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Iv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ul(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function V1(r,e){const n=new k1(r,e);return n.subscribe.bind(n)}class k1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");P1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new y1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z1(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(r){return r===Zs?void 0:r}function z1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const B1={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},q1=qe.INFO,H1={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},F1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=H1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=q1,this._logHandler=F1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const G1=(r,e)=>e.some(n=>r instanceof n);let Cv,Dv;function K1(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Sm=new WeakMap,R0=new WeakMap,cm=new WeakMap,ap=new WeakMap;function Y1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&w0.set(n,r)}).catch(()=>{}),ap.set(e,r),e}function $1(r){if(Sm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,e)}let Am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function X1(r){Am=r(Am)}function W1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(hm(this),e,...n);return R0.set(s,e.sort?e.sort():[e]),rs(s)}:Q1().includes(r)?function(...e){return r.apply(hm(this),e),rs(w0.get(this))}:function(...e){return rs(r.apply(hm(this),e))}}function Z1(r){return typeof r=="function"?W1(r):(r instanceof IDBTransaction&&$1(r),G1(r,K1())?new Proxy(r,Am):r)}function rs(r){if(r instanceof IDBRequest)return Y1(r);if(cm.has(r))return cm.get(r);const e=Z1(r);return e!==r&&(cm.set(r,e),ap.set(e,r)),e}const hm=r=>ap.get(r);function J1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=rs(f);return s&&f.addEventListener("upgradeneeded",g=>{s(rs(f.result),g.oldVersion,g.newVersion,rs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const eR=["get","getKey","getAll","getAllKeys","count"],tR=["put","add","delete","clear"],fm=new Map;function Ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=tR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||eR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return fm.set(e,u),u}X1(r=>({...r,get:(e,n,s)=>Ov(e,n)||r.get(e,n,s),has:(e,n)=>!!Ov(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Nv="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr=new sp("@firebase/app"),rR="@firebase/app-compat",sR="@firebase/analytics-compat",aR="@firebase/analytics",oR="@firebase/app-check-compat",lR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",mR="@firebase/functions",pR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",_R="@firebase/messaging",vR="@firebase/messaging-compat",ER="@firebase/performance",TR="@firebase/performance-compat",SR="@firebase/remote-config",AR="@firebase/remote-config-compat",bR="@firebase/storage",wR="@firebase/storage-compat",RR="@firebase/firestore",IR="@firebase/vertexai",CR="@firebase/firestore-compat",DR="firebase",OR="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",NR={[bm]:"fire-core",[rR]:"fire-core-compat",[aR]:"fire-analytics",[sR]:"fire-analytics-compat",[lR]:"fire-app-check",[oR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[mR]:"fire-fn",[pR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[_R]:"fire-fcm",[vR]:"fire-fcm-compat",[ER]:"fire-perf",[TR]:"fire-perf-compat",[SR]:"fire-rc",[AR]:"fire-rc-compat",[bR]:"fire-gcs",[wR]:"fire-gcs-compat",[RR]:"fire-fst",[CR]:"fire-fst-compat",[IR]:"fire-vertex","fire-js":"fire-js",[DR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new Map,xR=new Map,Rm=new Map;function xv(r,e){try{r.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(Rm.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,r);for(const n of fh.values())xv(n,r);for(const n of xR.values())xv(n,r);return!0}function op(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new cu("app","Firebase",MR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=OR;function I0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=S0()),!n)throw ss.create("no-options");const u=fh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new j1(o);for(const g of Rm.values())f.addComponent(g);const m=new VR(n,s,f);return fh.set(o,m),m}function C0(r=wm){const e=fh.get(r);if(!e&&r===wm&&S0())return I0();if(!e)throw ss.create("no-app",{appName:r});return e}function as(r,e,n){var s;let o=(s=NR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(m.join(" "));return}ho(new ta(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",PR=1,Zl="firebase-heartbeat-store";let dm=null;function D0(){return dm||(dm=J1(kR,PR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),dm}async function LR(r){try{const n=(await D0()).transaction(Zl),s=await n.objectStore(Zl).get(O0(r));return await n.done,s}catch(e){if(e instanceof Ar)vr.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}}async function Mv(r,e){try{const s=(await D0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,O0(r)),await s.done}catch(n){if(n instanceof Ar)vr.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(s.message)}}}function O0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=1024,zR=30;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>zR){const f=HR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){vr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vv(),{heartbeatsToSend:s,unsentEntries:o}=BR(this._heartbeatsCache.heartbeats),u=hh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return vr.warn(n),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function BR(r,e=UR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class qR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?D1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await LR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function kv(r){return hh(JSON.stringify({version:2,heartbeats:r})).length}function HR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(r){ho(new ta("platform-logger",e=>new nR(e),"PRIVATE")),ho(new ta("heartbeat",e=>new jR(e),"PRIVATE")),as(bm,Nv,r),as(bm,Nv,"esm2017"),as("fire-js","")}FR("");function lp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GR=N0,x0=new cu("auth","Firebase",N0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new sp("@firebase/auth");function KR(r,...e){dh.logLevel<=qe.WARN&&dh.warn(`Auth (${So}): ${r}`,...e)}function Jc(r,...e){dh.logLevel<=qe.ERROR&&dh.error(`Auth (${So}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(r,...e){throw up(r,...e)}function Pi(r,...e){return up(r,...e)}function M0(r,e,n){const s=Object.assign(Object.assign({},GR()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:r.name})}function gr(r){return M0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return x0.create(r,...e)}function be(r,e,...n){if(!r)throw up(e,...n)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function Er(r,e){r||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function QR(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QR()||b1()||"connection"in navigator)?navigator.onLine:!0}function $R(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Er(n>e,"Short delay should be less than long delay!"),this.isMobile=T1()||w1()}get(){return YR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,e){Er(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZR=new fu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _s(r,e,n,s,o={}){return k0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:g},u);return A1()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&uu(r.emulatorConfig.host)&&(p.credentials="include"),V0.fetch()(await P0(r,r.config.apiHost,n,m),p)})}async function k0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},XR),e);try{const o=new eI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Gc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Gc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw M0(r,E,p);fi(r,E)}}catch(o){if(o instanceof Ar)throw o;fi(r,"network-request-failed",{message:String(o)})}}async function du(r,e,n,s,o={}){const u=await _s(r,e,n,s,o);return"mfaPendingCredential"in u&&fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function P0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?cp(r.config,o):`${r.config.apiScheme}://${o}`;return WR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function JR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Pi(this.auth,"network-request-failed")),ZR.get())})}}function Gc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Pi(r,e,s);return o.customData._tokenResponse=n,o}function Lv(r){return r!==void 0&&r.enterprise!==void 0}class tI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return JR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nI(r,e){return _s(r,"GET","/v2/recaptchaConfig",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iI(r,e){return _s(r,"POST","/v1/accounts:delete",e)}async function mh(r,e){return _s(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rI(r,e=!1){const n=Zt(r),s=await n.getIdToken(e),o=hp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(mm(o.auth_time)),issuedAtTime:Gl(mm(o.iat)),expirationTime:Gl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(r){return Number(r)*1e3}function hp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=E0(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(r){const e=hp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ar&&sI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function sI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Jl(r,mh(n,{idToken:s}));be(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?L0(u.providerUserInfo):[],m=lI(r.providerData,f),g=r.isAnonymous,p=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?p:!1,I={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Cm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,I)}async function oI(r){const e=Zt(r);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function L0(r){return r.map(e=>{var{providerId:n}=e,s=lp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(r,e){const n=await k0(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await P0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",V0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cI(r,e){return _s(r,"POST","/v2/accounts:revokeToken",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await uI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new oo;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=lp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rI(this,e)}reload(){return oI(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Jl(this,iI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,g,p,E;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,b=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,G=(p=n.createdAt)!==null&&p!==void 0?p:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:U,emailVerified:oe,isAnonymous:le,providerData:fe,stsTokenManager:N}=n;be(U&&N,e,"internal-error");const T=oo.fromJSON(this.name,N);be(typeof U=="string",e,"internal-error"),Zr(I,e.name),Zr(b,e.name),be(typeof oe=="boolean",e,"internal-error"),be(typeof le=="boolean",e,"internal-error"),Zr(M,e.name),Zr(k,e.name),Zr(Q,e.name),Zr(z,e.name),Zr(G,e.name),Zr(ne,e.name);const S=new hi({uid:U,auth:e,email:b,emailVerified:oe,displayName:I,isAnonymous:le,photoURL:k,phoneNumber:M,tenantId:Q,stsTokenManager:T,createdAt:G,lastLoginAt:ne});return fe&&Array.isArray(fe)&&(S.providerData=fe.map(w=>Object.assign({},w))),z&&(S._redirectEventId=z),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new oo;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const g=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;function dr(r){Er(r instanceof Function,"Expected a class definition");let e=zv.get(r);return e?(Er(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,zv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}U0.type="NONE";const jv=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r,e,n){return`firebase:${r}:${e}:${n}`}class lo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await mh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new lo(dr(jv),e,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||dr(jv);const f=eh(s,e.config.apiKey,e.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let I;if(typeof E=="string"){const b=await mh(e,{idToken:E}).catch(()=>{});if(!b)break;I=await hi._fromGetAccountInfoResponse(e,b,E)}else I=hi._fromJSON(e,E);p!==u&&(m=I),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new lo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(q0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F0(e))return"Blackberry";if(G0(e))return"Webos";if(j0(e))return"Safari";if((e.includes("chrome/")||B0(e))&&!e.includes("edge/"))return"Chrome";if(H0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function z0(r=dn()){return/firefox\//i.test(r)}function j0(r=dn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function B0(r=dn()){return/crios\//i.test(r)}function q0(r=dn()){return/iemobile/i.test(r)}function H0(r=dn()){return/android/i.test(r)}function F0(r=dn()){return/blackberry/i.test(r)}function G0(r=dn()){return/webos/i.test(r)}function fp(r=dn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hI(r=dn()){var e;return fp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fI(){return R1()&&document.documentMode===10}function K0(r=dn()){return fp(r)||H0(r)||G0(r)||F0(r)||/windows phone/i.test(r)||q0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(r,e=[]){let n;switch(r){case"Browser":n=Bv(dn());break;case"Worker":n=`${Bv(dn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,e={}){return _s(r,"GET","/v2/passwordPolicy",ys(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=6;class gI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:pI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new dI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=dr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mh(this,{idToken:e}),s=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ei(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$R()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(gr(this));const n=e?Zt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mI(this),n=new gI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await cI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&dr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[dr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(r){return Zt(r)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=V1(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _I(r){kh=r}function Y0(r){return kh.loadJS(r)}function vI(){return kh.recaptchaEnterpriseScript}function EI(){return kh.gapiScript}function TI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class SI{constructor(){this.enterprise=new AI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const bI="recaptcha-enterprise",$0="NO_RECAPTCHA";class wI{constructor(e){this.type=bI,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{nI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new tI(g);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,f(p.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Lv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(p=>{f(p)}).catch(()=>{f($0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Lv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=vI();g.length!==0&&(g+=m),Y0(g).then(()=>{o(m,u,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function Hv(r,e,n,s=!1,o=!1){const u=new wI(r);let f;if(o)f=$0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Hv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Hv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r,e){const n=op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;fi(o,"already-initialized")}return n.initialize({options:e})}function II(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(dr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function CI(r,e,n){const s=oa(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=X0(e),{host:f,port:m}=DI(e),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(ea(p,s.config.emulator)&&ea(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,uu(f)?(Vh("Auth",!0),b0(`${u}//${f}${g}`)):OI()}function X0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function DI(r){const e=X0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Fv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Fv(f)}}}function Fv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,n){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}async function NI(r,e){return _s(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e){return du(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function VI(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends dp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,n,"signInWithPassword",xI);case"emailLink":return MI(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,s,"signUpPassword",NI);case"emailLink":return VI(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return du(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="http://localhost";class na extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=lp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,uo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:kI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function LI(r){const e=Ul(zl(r)).link,n=e?Ul(zl(e)).deep_link_id:null,s=Ul(zl(r)).deep_link_id;return(s?Ul(zl(s)).link:null)||s||n||e||r}class mp{constructor(e){var n,s,o,u,f,m;const g=Ul(zl(e)),p=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(s=g.oobCode)!==null&&s!==void 0?s:null,I=PI((o=g.mode)!==null&&o!==void 0?o:null);be(p&&E&&I,"argument-error"),this.apiKey=p,this.operation=I,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=LI(e);try{return new mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=mp.parseLink(n);return be(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends W0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends mu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends mu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends mu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e){return du(r,"POST","/v1/accounts:signUp",ys(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await hi._fromIdTokenResponse(e,s,o),f=Gv(s);return new ia({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Gv(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Gv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Ar{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function Z0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function zI(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(gr(s));const o="reauthenticate";try{const u=await Jl(r,Z0(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=hp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),ia._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&fi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(r,e,n=!1){if(ei(r.app))return Promise.reject(gr(r));const s="signIn",o=await Z0(r,s,e),u=await ia._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function BI(r,e){return J0(oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pp(r,e,n){if(ei(r.app))return Promise.reject(gr(r));const s=oa(r),f=await Dm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&eT(r),g}),m=await ia._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function tT(r,e,n){return ei(r.app)?Promise.reject(gr(r)):BI(Zt(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eT(r),s})}function qI(r,e,n,s){return Zt(r).onIdTokenChanged(e,n,s)}function HI(r,e,n){return Zt(r).beforeAuthStateChanged(e,n)}function FI(r,e,n,s){return Zt(r).onAuthStateChanged(e,n,s)}function nT(r){return Zt(r).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1e3,KI=10;class rT extends iT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);fI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,KI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},GI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rT.type="LOCAL";const QI=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends iT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sT.type="SESSION";const aT=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Ph(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await YI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=gp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(I){const b=I;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function XI(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function WI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function JI(){return oT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firebaseLocalStorageDb",eC=1,_h="firebaseLocalStorage",uT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function tC(){const r=indexedDB.deleteDatabase(lT);return new pu(r).toPromise()}function Om(){const r=indexedDB.open(lT,eC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:uT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await tC(),e(await Om()))})})}async function Kv(r,e,n){const s=Lh(r,!0).put({[uT]:e,value:n});return new pu(s).toPromise()}async function nC(r,e){const n=Lh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function Qv(r,e){const n=Lh(r,!0).delete(e);return new pu(n).toPromise()}const iC=800,rC=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>rC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(JI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await WI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await Kv(e,yh,"1"),await Qv(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Lh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const sC=cT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r,e){return e?dr(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oC(r){return J0(r.auth,new yp(r),r.bypassAuthState)}function lC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),jI(n,new yp(r),r.bypassAuthState)}async function uC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),zI(n,new yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oC;case"linkViaPopup":case"linkViaRedirect":return uC;case"reauthViaPopup":case"reauthViaRedirect":return lC;default:fi(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new fu(2e3,1e4);class ao extends hT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cC.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="pendingRedirect",th=new Map;class fC extends hT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const s=await dC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dC(r,e){const n=gC(e),s=pC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function mC(r,e){th.set(r._key(),e)}function pC(r){return dr(r._redirectPersistence)}function gC(r){return eh(hC,r.config.apiKey,r.name)}async function yC(r,e,n=!1){if(ei(r.app))return Promise.reject(gr(r));const s=oa(r),o=aC(s,e),f=await new fC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=10*60*1e3;class vC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!fT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_C&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e={}){return _s(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AC=/^https?/;async function bC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await TC(r);for(const n of e)try{if(wC(n))return}catch{}fi(r,"unauthorized-domain")}function wC(r){const e=Im(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!AC.test(n))return!1;if(SC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new fu(3e4,6e4);function $v(){const r=Li().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function IC(r){return new Promise((e,n)=>{var s,o,u;function f(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),n(Pi(r,"network-request-failed"))},timeout:RC.get()})}if(!((o=(s=Li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Li().gapi)===null||u===void 0)&&u.load)f();else{const m=TI("iframefcb");return Li()[m]=()=>{gapi.load?f():n(Pi(r,"network-request-failed"))},Y0(`${EI()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw nh=null,e})}let nh=null;function CC(r){return nh=nh||IC(r),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new fu(5e3,15e3),OC="__/auth/iframe",NC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cp(e,NC):`https://${r.config.authDomain}/${OC}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=MC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function kC(r){const e=await CC(r),n=Li().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:VC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Pi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(f)},DC.get());function g(){Li().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LC=500,UC=600,zC="_blank",jC="http://localhost";class Xv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BC(r,e,n,s=LC,o=UC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:u,left:f}),p=dn().toLowerCase();n&&(m=B0(p)?zC:n),z0(p)&&(e=e||jC,g.scrollbars="yes");const E=Object.entries(g).reduce((b,[M,k])=>`${b}${M}=${k},`,"");if(hI(p)&&m!=="_self")return qC(e||"",m),new Xv(null);const I=window.open(e||"",m,E);be(I,r,"popup-blocked");try{I.focus()}catch{}return new Xv(I)}function qC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="__/auth/handler",FC="emulator/auth/handler",GC=encodeURIComponent("fac");async function Wv(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof W0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",M1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,I]of Object.entries({}))f[E]=I}if(e instanceof mu){const E=e.getScopes().filter(I=>I!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${GC}=${encodeURIComponent(g)}`:"";return`${KC(r)}?${hu(m).slice(1)}${p}`}function KC({config:r}){return r.emulator?cp(r,FC):`https://${r.authDomain}/${HC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=yC,this._overrideRedirectResult=mC}async _openPopup(e,n,s,o){var u;Er((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Wv(e,n,s,Im(),o);return BC(e,f,gp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Wv(e,n,s,Im(),o);return XI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Er(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await kC(e),s=new vC(e);return n.register("authEvent",o=>(be(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];f!==void 0&&n(!!f),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return K0()||j0()||fp()}}const YC=QC;var Zv="@firebase/auth",Jv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WC(r){ho(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q0(r)},p=new yI(s,o,u,g);return II(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new ta("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new $C(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(Zv,Jv,XC(r)),as(Zv,Jv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=5*60,JC=A0("authIdTokenMaxAge")||ZC;let eE=null;const eD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>JC)return;const o=n==null?void 0:n.token;eE!==o&&(eE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tD(r=C0()){const e=op(r,"auth");if(e.isInitialized())return e.getImmediate();const n=RI(r,{popupRedirectResolver:YC,persistence:[sC,QI,aT]}),s=A0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=eD(u.toString());HI(n,f,()=>f(n.currentUser)),qI(n,m=>f(m))}}const o=T0("auth");return o?CI(n,`http://${o}`):Vh("Auth",!1),n}function nD(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}_I({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",nD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WC("Browser");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,dT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,T){function S(){}S.prototype=T.prototype,N.D=T.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(w,D,O){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return T.prototype[D].apply(w,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,T,S){S||(S=0);var w=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)w[D]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(D=0;16>D;++D)w[D]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=N.g[0],S=N.g[1],D=N.g[2];var O=N.g[3],C=T+(O^S&(D^O))+w[0]+3614090360&4294967295;T=S+(C<<7&4294967295|C>>>25),C=O+(D^T&(S^D))+w[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(S^O&(T^S))+w[2]+606105819&4294967295,D=O+(C<<17&4294967295|C>>>15),C=S+(T^D&(O^T))+w[3]+3250441966&4294967295,S=D+(C<<22&4294967295|C>>>10),C=T+(O^S&(D^O))+w[4]+4118548399&4294967295,T=S+(C<<7&4294967295|C>>>25),C=O+(D^T&(S^D))+w[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(S^O&(T^S))+w[6]+2821735955&4294967295,D=O+(C<<17&4294967295|C>>>15),C=S+(T^D&(O^T))+w[7]+4249261313&4294967295,S=D+(C<<22&4294967295|C>>>10),C=T+(O^S&(D^O))+w[8]+1770035416&4294967295,T=S+(C<<7&4294967295|C>>>25),C=O+(D^T&(S^D))+w[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(S^O&(T^S))+w[10]+4294925233&4294967295,D=O+(C<<17&4294967295|C>>>15),C=S+(T^D&(O^T))+w[11]+2304563134&4294967295,S=D+(C<<22&4294967295|C>>>10),C=T+(O^S&(D^O))+w[12]+1804603682&4294967295,T=S+(C<<7&4294967295|C>>>25),C=O+(D^T&(S^D))+w[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(S^O&(T^S))+w[14]+2792965006&4294967295,D=O+(C<<17&4294967295|C>>>15),C=S+(T^D&(O^T))+w[15]+1236535329&4294967295,S=D+(C<<22&4294967295|C>>>10),C=T+(D^O&(S^D))+w[1]+4129170786&4294967295,T=S+(C<<5&4294967295|C>>>27),C=O+(S^D&(T^S))+w[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^S&(O^T))+w[11]+643717713&4294967295,D=O+(C<<14&4294967295|C>>>18),C=S+(O^T&(D^O))+w[0]+3921069994&4294967295,S=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(S^D))+w[5]+3593408605&4294967295,T=S+(C<<5&4294967295|C>>>27),C=O+(S^D&(T^S))+w[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^S&(O^T))+w[15]+3634488961&4294967295,D=O+(C<<14&4294967295|C>>>18),C=S+(O^T&(D^O))+w[4]+3889429448&4294967295,S=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(S^D))+w[9]+568446438&4294967295,T=S+(C<<5&4294967295|C>>>27),C=O+(S^D&(T^S))+w[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^S&(O^T))+w[3]+4107603335&4294967295,D=O+(C<<14&4294967295|C>>>18),C=S+(O^T&(D^O))+w[8]+1163531501&4294967295,S=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(S^D))+w[13]+2850285829&4294967295,T=S+(C<<5&4294967295|C>>>27),C=O+(S^D&(T^S))+w[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^S&(O^T))+w[7]+1735328473&4294967295,D=O+(C<<14&4294967295|C>>>18),C=S+(O^T&(D^O))+w[12]+2368359562&4294967295,S=D+(C<<20&4294967295|C>>>12),C=T+(S^D^O)+w[5]+4294588738&4294967295,T=S+(C<<4&4294967295|C>>>28),C=O+(T^S^D)+w[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^S)+w[11]+1839030562&4294967295,D=O+(C<<16&4294967295|C>>>16),C=S+(D^O^T)+w[14]+4259657740&4294967295,S=D+(C<<23&4294967295|C>>>9),C=T+(S^D^O)+w[1]+2763975236&4294967295,T=S+(C<<4&4294967295|C>>>28),C=O+(T^S^D)+w[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^S)+w[7]+4139469664&4294967295,D=O+(C<<16&4294967295|C>>>16),C=S+(D^O^T)+w[10]+3200236656&4294967295,S=D+(C<<23&4294967295|C>>>9),C=T+(S^D^O)+w[13]+681279174&4294967295,T=S+(C<<4&4294967295|C>>>28),C=O+(T^S^D)+w[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^S)+w[3]+3572445317&4294967295,D=O+(C<<16&4294967295|C>>>16),C=S+(D^O^T)+w[6]+76029189&4294967295,S=D+(C<<23&4294967295|C>>>9),C=T+(S^D^O)+w[9]+3654602809&4294967295,T=S+(C<<4&4294967295|C>>>28),C=O+(T^S^D)+w[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^S)+w[15]+530742520&4294967295,D=O+(C<<16&4294967295|C>>>16),C=S+(D^O^T)+w[2]+3299628645&4294967295,S=D+(C<<23&4294967295|C>>>9),C=T+(D^(S|~O))+w[0]+4096336452&4294967295,T=S+(C<<6&4294967295|C>>>26),C=O+(S^(T|~D))+w[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~S))+w[14]+2878612391&4294967295,D=O+(C<<15&4294967295|C>>>17),C=S+(O^(D|~T))+w[5]+4237533241&4294967295,S=D+(C<<21&4294967295|C>>>11),C=T+(D^(S|~O))+w[12]+1700485571&4294967295,T=S+(C<<6&4294967295|C>>>26),C=O+(S^(T|~D))+w[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~S))+w[10]+4293915773&4294967295,D=O+(C<<15&4294967295|C>>>17),C=S+(O^(D|~T))+w[1]+2240044497&4294967295,S=D+(C<<21&4294967295|C>>>11),C=T+(D^(S|~O))+w[8]+1873313359&4294967295,T=S+(C<<6&4294967295|C>>>26),C=O+(S^(T|~D))+w[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~S))+w[6]+2734768916&4294967295,D=O+(C<<15&4294967295|C>>>17),C=S+(O^(D|~T))+w[13]+1309151649&4294967295,S=D+(C<<21&4294967295|C>>>11),C=T+(D^(S|~O))+w[4]+4149444226&4294967295,T=S+(C<<6&4294967295|C>>>26),C=O+(S^(T|~D))+w[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~S))+w[2]+718787259&4294967295,D=O+(C<<15&4294967295|C>>>17),C=S+(O^(D|~T))+w[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+O&4294967295}s.prototype.u=function(N,T){T===void 0&&(T=N.length);for(var S=T-this.blockSize,w=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=S;)o(this,N,O),O+=this.blockSize;if(typeof N=="string"){for(;O<T;)if(w[D++]=N.charCodeAt(O++),D==this.blockSize){o(this,w),D=0;break}}else for(;O<T;)if(w[D++]=N[O++],D==this.blockSize){o(this,w),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;var S=8*this.o;for(T=N.length-8;T<N.length;++T)N[T]=S&255,S/=256;for(this.u(N),N=Array(16),T=S=0;4>T;++T)for(var w=0;32>w;w+=8)N[S++]=this.g[T]>>>w&255;return N};function u(N,T){var S=m;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=T(N)}function f(N,T){this.h=T;for(var S=[],w=!0,D=N.length-1;0<=D;D--){var O=N[D]|0;w&&O==T||(S[D]=O,w=!1)}this.g=S}var m={};function g(N){return-128<=N&&128>N?u(N,function(T){return new f([T|0],0>T?-1:0)}):new f([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return z(p(-N));for(var T=[],S=1,w=0;N>=S;w++)T[w]=N/S|0,S*=4294967296;return new f(T,0)}function E(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return z(E(N.substring(1),T));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=p(Math.pow(T,8)),w=I,D=0;D<N.length;D+=8){var O=Math.min(8,N.length-D),C=parseInt(N.substring(D,D+O),T);8>O?(O=p(Math.pow(T,O)),w=w.j(O).add(p(C))):(w=w.j(S),w=w.add(p(C)))}return w}var I=g(0),b=g(1),M=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-z(this).m();for(var N=0,T=1,S=0;S<this.g.length;S++){var w=this.i(S);N+=(0<=w?w:4294967296+w)*T,T*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(k(this))return"0";if(Q(this))return"-"+z(this).toString(N);for(var T=p(Math.pow(N,6)),S=this,w="";;){var D=oe(S,T).g;S=G(S,D.j(T));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=D,k(S))return O+w;for(;6>O.length;)O="0"+O;w=O+w}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function k(N){if(N.h!=0)return!1;for(var T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=G(this,N),Q(N)?-1:k(N)?0:1};function z(N){for(var T=N.g.length,S=[],w=0;w<T;w++)S[w]=~N.g[w];return new f(S,~N.h).add(b)}r.abs=function(){return Q(this)?z(this):this},r.add=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],w=0,D=0;D<=T;D++){var O=w+(this.i(D)&65535)+(N.i(D)&65535),C=(O>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);w=C>>>16,O&=65535,C&=65535,S[D]=C<<16|O}return new f(S,S[S.length-1]&-2147483648?-1:0)};function G(N,T){return N.add(z(T))}r.j=function(N){if(k(this)||k(N))return I;if(Q(this))return Q(N)?z(this).j(z(N)):z(z(this).j(N));if(Q(N))return z(this.j(z(N)));if(0>this.l(M)&&0>N.l(M))return p(this.m()*N.m());for(var T=this.g.length+N.g.length,S=[],w=0;w<2*T;w++)S[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<N.g.length;D++){var O=this.i(w)>>>16,C=this.i(w)&65535,ke=N.i(D)>>>16,Ue=N.i(D)&65535;S[2*w+2*D]+=C*Ue,ne(S,2*w+2*D),S[2*w+2*D+1]+=O*Ue,ne(S,2*w+2*D+1),S[2*w+2*D+1]+=C*ke,ne(S,2*w+2*D+1),S[2*w+2*D+2]+=O*ke,ne(S,2*w+2*D+2)}for(w=0;w<T;w++)S[w]=S[2*w+1]<<16|S[2*w];for(w=T;w<2*T;w++)S[w]=0;return new f(S,0)};function ne(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function U(N,T){this.g=N,this.h=T}function oe(N,T){if(k(T))throw Error("division by zero");if(k(N))return new U(I,I);if(Q(N))return T=oe(z(N),T),new U(z(T.g),z(T.h));if(Q(T))return T=oe(N,z(T)),new U(z(T.g),T.h);if(30<N.g.length){if(Q(N)||Q(T))throw Error("slowDivide_ only works with positive integers.");for(var S=b,w=T;0>=w.l(N);)S=le(S),w=le(w);var D=fe(S,1),O=fe(w,1);for(w=fe(w,2),S=fe(S,2);!k(w);){var C=O.add(w);0>=C.l(N)&&(D=D.add(S),O=C),w=fe(w,1),S=fe(S,1)}return T=G(N,D.j(T)),new U(D,T)}for(D=I;0<=N.l(T);){for(S=Math.max(1,Math.floor(N.m()/T.m())),w=Math.ceil(Math.log(S)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),O=p(S),C=O.j(T);Q(C)||0<C.l(N);)S-=w,O=p(S),C=O.j(T);k(O)&&(O=b),D=D.add(O),N=G(N,C)}return new U(D,N)}r.A=function(N){return oe(this,N).h},r.and=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],w=0;w<T;w++)S[w]=this.i(w)&N.i(w);return new f(S,this.h&N.h)},r.or=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],w=0;w<T;w++)S[w]=this.i(w)|N.i(w);return new f(S,this.h|N.h)},r.xor=function(N){for(var T=Math.max(this.g.length,N.g.length),S=[],w=0;w<T;w++)S[w]=this.i(w)^N.i(w);return new f(S,this.h^N.h)};function le(N){for(var T=N.g.length+1,S=[],w=0;w<T;w++)S[w]=N.i(w)<<1|N.i(w-1)>>>31;return new f(S,N.h)}function fe(N,T){var S=T>>5;T%=32;for(var w=N.g.length-S,D=[],O=0;O<w;O++)D[O]=0<T?N.i(O+S)>>>T|N.i(O+S+1)<<32-T:N.i(O+S);return new f(D,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,os=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mT,jl,pT,ih,Nm,gT,yT,_T;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var j=c[R];if(!(j in _))break e;_=_[j]}c=c[c.length-1],R=_[c],y=y(R),y!=R&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,R=!1,j={next:function(){if(!R&&_<c.length){var Z=_++;return{value:y(Z,c[Z]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function I(c,y,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function b(c,y,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:I,b.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function k(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,j,Z){for(var ce=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ce[Ke-2]=arguments[Ke];return y.prototype[j].apply(R,ce)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=c[R];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(g(R)){const j=c.length||0,Z=R.length||0;c.length=j+Z;for(let ce=0;ce<Z;ce++)c[j+ce]=R[ce]}else c.push(R)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var le=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function fe(c,y,_){for(const R in c)y.call(_,c[R],R,c)}function N(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function T(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,y){let _,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(_ in R)c[_]=R[_];for(let Z=0;Z<S.length;Z++)_=S[Z],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function D(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function O(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ue;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,_){const R=Ue.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var Ue=new G(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let te,he=!1,ue=new ke,V=()=>{const c=m.Promise.resolve(void 0);te=()=>{c.then(Y)}};var Y=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){O(_)}var y=Ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function ve(c,y){if(X.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{oe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ve.aa.h.call(this)}}k(ve,X);var ge={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),_e=0;function Ne(c,y,_,R,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=j,this.key=++_e,this.da=this.fa=!1}function et(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ie(c){this.src=c,this.g={},this.h=0}Ie.prototype.add=function(c,y,_,R,j){var Z=c.toString();c=this.g[Z],c||(c=this.g[Z]=[],this.h++);var ce=dt(c,y,R,j);return-1<ce?(y=c[ce],_||(y.fa=!1)):(y=new Ne(y,this.src,Z,!!R,j),y.fa=_,c.push(y)),y};function Xe(c,y){var _=y.type;if(_ in c.g){var R=c.g[_],j=Array.prototype.indexOf.call(R,y,void 0),Z;(Z=0<=j)&&Array.prototype.splice.call(R,j,1),Z&&(et(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function dt(c,y,_,R){for(var j=0;j<c.length;++j){var Z=c[j];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==R)return j}return-1}var We="closure_lm_"+(1e6*Math.random()|0),Fe={};function xe(c,y,_,R,j){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)xe(c,y[Z],_,R,j);return null}return _=mn(_),c&&c[Je]?c.K(y,_,p(R)?!!R.capture:!1,j):st(c,y,_,!1,R,j)}function st(c,y,_,R,j,Z){if(!y)throw Error("Invalid event type");var ce=p(j)?!!j.capture:!!j,Ke=jn(c);if(Ke||(c[We]=Ke=new Ie(c)),_=Ke.add(y,_,R,ce,Z),_.proxy)return _;if(R=Ge(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)de||(j=ce),j===void 0&&(j=!1),c.addEventListener(y.toString(),R,j);else if(c.attachEvent)c.attachEvent(En(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ge(){function c(_){return y.call(c.src,c.listener,_)}const y=Tn;return c}function nt(c,y,_,R,j){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)nt(c,y[Z],_,R,j);else R=p(R)?!!R.capture:!!R,_=mn(_),c&&c[Je]?(c=c.i,y=String(y).toString(),y in c.g&&(Z=c.g[y],_=dt(Z,_,R,j),-1<_&&(et(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete c.g[y],c.h--)))):c&&(c=jn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=dt(y,_,R,j)),(_=-1<c?y[c]:null)&&mt(_))}function mt(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Je])Xe(y.i,c);else{var _=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(_,R,c.capture):y.detachEvent?y.detachEvent(En(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=jn(y))?(Xe(_,c),_.h==0&&(_.src=null,y[We]=null)):et(c)}}}function En(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function Tn(c,y){if(c.da)c=!0;else{y=new ve(y,this);var _=c.listener,R=c.ha||c.src;c.fa&&mt(c),c=_.call(R,y)}return c}function jn(c){return c=c[We],c instanceof Ie?c:null}var bt="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(c){return typeof c=="function"?c:(c[bt]||(c[bt]=function(y){return c.handleEvent(y)}),c[bt])}function Me(){ie.call(this),this.i=new Ie(this),this.M=this,this.F=null}k(Me,ie),Me.prototype[Je]=!0,Me.prototype.removeEventListener=function(c,y,_,R){nt(this,c,y,_,R)};function De(c,y){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new X(y,c);else if(y instanceof X)y.target=y.target||c;else{var j=y;y=new X(R,c),w(y,j)}if(j=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ce=y.g=_[Z];j=Tt(ce,R,!0,y)&&j}if(ce=y.g=c,j=Tt(ce,R,!0,y)&&j,j=Tt(ce,R,!1,y)&&j,_)for(Z=0;Z<_.length;Z++)ce=y.g=_[Z],j=Tt(ce,R,!1,y)&&j}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],R=0;R<_.length;R++)et(_[R]);delete c.g[y],c.h--}}this.F=null},Me.prototype.K=function(c,y,_,R){return this.i.add(String(c),y,!1,_,R)},Me.prototype.L=function(c,y,_,R){return this.i.add(String(c),y,!0,_,R)};function Tt(c,y,_,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Z=0;Z<y.length;++Z){var ce=y[Z];if(ce&&!ce.da&&ce.capture==_){var Ke=ce.listener,zt=ce.ha||ce.src;ce.fa&&Xe(c.i,ce),j=Ke.call(zt,R)!==!1&&j}}return j&&!R.defaultPrevented}function Nt(c,y,_){if(typeof c=="function")_&&(c=b(c,_));else if(c&&typeof c.handleEvent=="function")c=b(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ts(c){c.g=Nt(()=>{c.g=null,c.i&&(c.i=!1,Ts(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gi extends ie{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(c){ie.call(this),this.h=c,this.g={}}k(Gt,ie);var Dn=[];function yi(c){fe(c.g,function(y,_){this.g.hasOwnProperty(_)&&mt(y)},c),c.g={}}Gt.prototype.N=function(){Gt.aa.N.call(this),yi(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ri=m.JSON.stringify,ha=m.JSON.parse,Ss=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function Oo(c){return c.h||(c.h=c.i())}function No(){}var Bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){X.call(this,"d")}k(qi,X);function xo(){X.call(this,"c")}k(xo,X);var _i={},Mo=null;function br(){return Mo=Mo||new Me}_i.La="serverreachability";function fa(c){X.call(this,_i.La,c)}k(fa,X);function wr(c){const y=br();De(y,new fa(y))}_i.STAT_EVENT="statevent";function Au(c,y){X.call(this,_i.STAT_EVENT,c),this.stat=y}k(Au,X);function _t(c){const y=br();De(y,new Au(y,c))}_i.Ma="timingevent";function Ut(c,y){X.call(this,_i.Ma,c),this.size=y}k(Ut,X);function xt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function Vo(c,y,_,R,j,Z){c.info(function(){if(c.g)if(Z)for(var ce="",Ke=Z.split("&"),zt=0;zt<Ke.length;zt++){var Qe=Ke[zt].split("=");if(1<Qe.length){var Qt=Qe[0];Qe=Qe[1];var jt=Qt.split("_");ce=2<=jt.length&&jt[1]=="type"?ce+(Qt+"="+Qe+"&"):ce+(Qt+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+y+`
`+_+`
`+ce})}function rf(c,y,_,R,j,Z,ce){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+y+`
`+_+`
`+Z+" "+ce})}function Rr(c,y,_,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+As(c,_)+(R?" "+R:"")})}function bu(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function As(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var Z=j[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<j.length;ce++)j[ce]=""}}}}return ri(_)}catch{return y}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vi;function Ei(){}k(Ei,Do),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},vi=new Ei;function pn(c,y,_,R){this.j=c,this.i=y,this.l=_,this.R=R||1,this.U=new Gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new It}function It(){this.i=null,this.g="",this.h=!1}var ko={},da={};function si(c,y,_){c.L=1,c.v=Cs(On(y)),c.m=_,c.P=!0,Fi(c,null)}function Fi(c,y){c.F=Date.now(),bs(c),c.A=On(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Bo(_.i,"t",R),c.C=0,_=c.j.J,c.h=new It,c.g=ju(c.j,_?y:null,!c.m),0<c.O&&(c.M=new gi(b(c.Y,c,c.g),c.O)),y=c.U,_=c.g,R=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Dn[0]=j.toString()),j=Dn);for(var Z=0;Z<j.length;Z++){var ce=xe(_,j[Z],R||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?T(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wr(),Vo(c.i,c.u,c.A,c.l,c.R,c.m)}pn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Gn(c)==3?y.j():this.Y(c)},pn.prototype.Y=function(c){try{if(c==this.g)e:{const jt=Gn(this.g);var y=this.g.Ba();const Zi=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||jt!=4||y==7||(y==8||0>=Zi?wr(3):wr(2)),Cr(this);var _=this.g.Z();this.X=_;t:if(wu(this)){var R=xu(this.g);c="";var j=R.length,Z=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Ti(this);var ce="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(Z&&y==j-1)});R.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,rf(this.i,this.u,this.A,this.l,this.R,jt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,zt=this.g;if((Ke=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ke)){var Qe=Ke;break t}}Qe=null}if(_=Qe)Rr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,_);else{this.o=!1,this.s=3,_t(12),Jt(this),Ti(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<ce.length;)if(en=Ru(this,ce),en==da){jt==4&&(this.s=4,_t(14),_=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(en==ko){this.s=4,_t(15),Rr(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Rr(this.i,this.l,en,null),ws(this,en);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||ce.length!=0||this.h.h||(this.s=1,_t(16),_=!1),this.o=this.o&&_,!_)Rr(this.i,this.l,ce,"[Invalid Chunked Response]"),Jt(this),Ti(this);else if(0<ce.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),Ps(Qt),Qt.M=!0,_t(11))}}else Rr(this.i,this.l,ce,null),ws(this,ce);jt==4&&Jt(this),this.o&&!this.J&&(jt==4?Lu(this.j,this):(this.o=!1,bs(this)))}else uf(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Jt(this),Ti(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var _=c.C,R=y.indexOf(`
`,_);return R==-1?da:(_=Number(y.substring(_,R)),isNaN(_)?ko:(R+=1,R+_>y.length?da:(y=y.slice(R,R+_),c.C=R+_,y)))}pn.prototype.cancel=function(){this.J=!0,Jt(this)};function bs(c){c.S=Date.now()+c.I,Iu(c,c.I)}function Iu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xt(b(c.ba,c),y)}function Cr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}pn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(wr(),_t(17)),Jt(this),this.s=2,Ti(this)):Iu(this,this.S-c)};function Ti(c){c.j.G==0||c.J||Lu(c.j,c)}function Jt(c){Cr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,yi(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Po(_.h,c))){if(!c.K&&Po(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)wa(_),Aa(_);else break e;Ko(_),_t(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=xt(b(_.Za,_),6e3));if(1>=pa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Wi(_,11)}else if((c.K||_.g==c)&&wa(_),!ne(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Qe=j[y];if(_.T=Qe[0],Qe=Qe[1],_.G==2)if(Qe[0]=="c"){_.K=Qe[1],_.ia=Qe[2];const Qt=Qe[3];Qt!=null&&(_.la=Qt,_.j.info("VER="+_.la));const jt=Qe[4];jt!=null&&(_.Aa=jt,_.j.info("SVER="+_.Aa));const Zi=Qe[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(R=1.5*Zi,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const en=c.g;if(en){const Ci=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var Z=R.h;Z.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ga(Z,Z.h),Z.h=null))}if(R.D){const Yo=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(R.ya=Yo,lt(R.I,R.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ce=c;if(R.qa=zu(R,R.J?R.ia:null,R.W),ce.K){gn(R.h,ce);var Ke=ce,zt=R.L;zt&&(Ke.I=zt),Ke.B&&(Cr(Ke),bs(Ke)),R.g=ce}else ku(R);0<_.i.length&&ba(_)}else Qe[0]!="stop"&&Qe[0]!="close"||Wi(_,7);else _.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Wi(_,7):Fo(_):Qe[0]!="noop"&&_.l&&_.l.ta(Qe),_.v=0)}}wr(4)}catch{}}var Cu=class{constructor(c,y){this.g=c,this.map=y}};function Gi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pa(c){return c.h?1:c.g?c.g.size:0}function Po(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function gn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Gi.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,R=0;R<_;R++)y.push(c[R]);return y}y=[],_=0;for(R in c)y[_++]=c[R];return y}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const R in c)y[_++]=R;return y}}}function Uo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ya(c),R=sf(c),j=R.length,Z=0;Z<j;Z++)y.call(void 0,R[Z],_&&_[Z],c)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),j=null;if(0<=R){var Z=c[_].substring(0,R);j=c[_].substring(R+1)}else Z=c[_];y(Z,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Mt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mt){this.h=c.h,Is(this,c.j),this.o=c.o,this.g=c.g,Dr(this,c.s),this.l=c.l;var y=c.i,_=new Qi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ki(this,_),this.m=c.m}else c&&(y=String(c).match(Rs))?(this.h=!1,Is(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),Dr(this,y[4]),this.l=qn(y[5]||"",!0),Ki(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new Qi(null,this.h))}Mt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ds(y,zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ds(y,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ds(_,_.charAt(0)=="/"?of:jo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ds(_,_a)),c.join("")};function On(c){return new Mt(c)}function Is(c,y,_){c.j=_?qn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Dr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ki(c,y,_){y instanceof Qi?(c.i=y,Ou(c.i,c.h)):(_||(y=Ds(y,lf)),c.i=new Qi(y,c.h))}function lt(c,y,_){c.i.set(y,_)}function Cs(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Du),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,jo=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,_a=/#/g;function Qi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Hn(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Qi.prototype,r.add=function(c,y){Hn(this),this.i=null,c=Si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Yi(c,y){Hn(c),y=Si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $i(c,y){return Hn(c),y=Si(c,y),c.g.has(y)}r.forEach=function(c,y){Hn(this),this.g.forEach(function(_,R){_.forEach(function(j){c.call(y,j,R,this)},this)},this)},r.na=function(){Hn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const j=c[R];for(let Z=0;Z<j.length;Z++)_.push(y[R])}return _},r.V=function(c){Hn(this);let y=[];if(typeof c=="string")$i(this,c)&&(y=y.concat(this.g.get(Si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Hn(this),this.i=null,c=Si(this,c),$i(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Bo(c,y,_){Yi(c,y),0<_.length&&(c.i=null,c.g.set(Si(c,y),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const Z=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var j=Z;ce[R]!==""&&(j+="="+encodeURIComponent(String(ce[R]))),c.push(j)}}return this.i=c.join("&")};function Si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ou(c,y){y&&!c.j&&(Hn(c),c.i=null,c.g.forEach(function(_,R){var j=R.toLowerCase();R!=j&&(Yi(this,R),Bo(this,j,_))},c)),c.j=y}function Os(c,y){const _=new Bn;if(m.Image){const R=new Image;R.onload=M(Fn,_,"TestLoadImage: loaded",!0,y,R),R.onerror=M(Fn,_,"TestLoadImage: error",!1,y,R),R.onabort=M(Fn,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=M(Fn,_,"TestLoadImage: timeout",!1,y,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function ai(c,y){const _=new Bn,R=new AbortController,j=setTimeout(()=>{R.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(Z=>{clearTimeout(j),Z.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(_)}catch{}}function Ns(){this.g=new Ss}function Ai(c,y,_){const R=_||"";try{Uo(c,function(j,Z){let ce=j;p(j)&&(ce=ri(j)),y.push(R+Z+"="+encodeURIComponent(ce))})}catch(j){throw y.push(R+"type="+encodeURIComponent("_badmap")),j}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Or,Do),Or.prototype.g=function(){return new Xi(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function Xi(c,y){Me.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Xi,Me),r=Xi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,wi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?bi(this):wi(this),this.readyState==3&&qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,bi(this))},r.Qa=function(c){this.g&&(this.response=c,bi(this))},r.ga=function(){this.g&&bi(this)};function bi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wi(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ho(c){let y="";return fe(c,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function Kt(c,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=Ho(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):lt(c,y,_))}function it(c){Me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(it,Me);var va=/^https?$/i,xs=["POST","PUT"];r=it.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vi.g(),this.v=this.o?Oo(this.o):Oo(vi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Z){Nu(this,Z);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)_.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())_.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(xs,y,void 0))||R||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of _)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(Z){Nu(this,Z)}};function Nu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ea(c),Ri(c)}function Ea(c){c.A||(c.A=!0,De(c,"complete"),De(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,De(this,"complete"),De(this,"abort"),Ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),it.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)Nt(c.Ea,0,c);else if(De(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=ce===0){var j=String(c.D).match(Rs)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),R=!va.test(j?j.toLowerCase():"")}_=R}if(_)De(c,"complete"),De(c,"success");else{c.m=6;try{var Z=2<Gn(c)?c.g.statusText:""}catch{Z=""}c.l=Z+" ["+c.Z()+"]",Ea(c)}}finally{Ri(c)}}}}function Ri(c,y){if(c.g){Ms(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||De(c,"ready");try{_.onreadystatechange=R}catch{}}}function Ms(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const y={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(ne(c[R]))continue;var _=D(c[R]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[j]||[];y[j]=Z,Z.push(_)}N(y,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Sa(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,c),this.cb=Vs("retryDelaySeedMs",1e4,c),this.Wa=Vs("forwardChannelMaxRetries",2,c),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gi(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,R){_t(0),this.W=c,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=zu(this,null,this.W),ba(this)};function Fo(c){if(Mu(c),c.G==3){var y=c.U++,_=On(c.I);if(lt(_,"SID",c.K),lt(_,"RID",y),lt(_,"TYPE","terminate"),ks(c,_),y=new pn(c,c.j,y),y.L=2,y.v=Cs(On(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=ju(y.j,null),y.g.ea(y.v)),y.F=Date.now(),bs(y)}Uu(c)}function Aa(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function Mu(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ba(c){if(!ma(c.h)&&!c.s){c.s=!0;var y=c.Ga;te||V(),he||(te(),he=!0),ue.add(y,c),c.B=0}}function cf(c,y){return pa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xt(b(c.Ga,c,y),Qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new pn(this,this.j,c);let Z=this.o;if(this.S&&(Z?(Z=T(Z),w(Z,this.S)):Z=this.S),this.m!==null||this.O||(j.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Vu(this,j,y),_=On(this.I),lt(_,"RID",c),lt(_,"CVER",22),this.D&&lt(_,"X-HTTP-Session-Id",this.D),ks(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(Ho(Z)))+"&"+y:this.m&&Kt(_,this.m,Z)),ga(this.h,j),this.Ua&&lt(_,"TYPE","init"),this.P?(lt(_,"$req",y),lt(_,"SID","null"),j.T=!0,si(j,_,null)):si(j,_,y),this.G=2}}else this.G==3&&(c?Go(this,c):this.i.length==0||ma(this.h)||Go(this))};function Go(c,y){var _;y?_=y.l:_=c.U++;const R=On(c.I);lt(R,"SID",c.K),lt(R,"RID",_),lt(R,"AID",c.T),ks(c,R),c.m&&c.o&&Kt(R,c.m,c.o),_=new pn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,_),si(_,R,y)}function ks(c,y){c.H&&fe(c.H,function(_,R){lt(y,R,_)}),c.l&&Uo({},function(_,R){lt(y,R,_)})}function Vu(c,y,_){_=Math.min(c.i.length,_);var R=c.l?b(c.l.Na,c.l,c):null;e:{var j=c.i;let Z=-1;for(;;){const ce=["count="+_];Z==-1?0<_?(Z=j[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let Ke=!0;for(let zt=0;zt<_;zt++){let Qe=j[zt].g;const Qt=j[zt].map;if(Qe-=Z,0>Qe)Z=Math.max(0,j[zt].g-100),Ke=!1;else try{Ai(Qt,ce,"req"+Qe+"_")}catch{R&&R(Qt)}}if(Ke){R=ce.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,R}function ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;te||V(),he||(te(),he=!0),ue.add(y,c),c.v=0}}function Ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xt(b(c.Fa,c),Qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xt(b(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Aa(this),Pu(this))};function Ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Pu(c){c.g=new pn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=On(c.qa);lt(y,"RID","rpc"),lt(y,"SID",c.K),lt(y,"AID",c.T),lt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(y,"TO",c.ja),lt(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Kt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Cs(On(y)),_.m=null,_.P=!0,Fi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Aa(this),Ko(this),_t(19))};function wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){wa(c),Ps(c),c.g=null;var R=2}else if(Po(c.h,y))_=y.D,gn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;R=br(),De(R,new Ut(R,_)),ba(c)}else ku(c);else if(j=y.s,j==3||j==0&&0<y.X||!(R==1&&cf(c,y)||R==2&&Ko(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function Qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Wi(c,y){if(c.j.info("Error code "+y),y==2){var _=b(c.fb,c),R=c.Xa;const j=!R;R=new Mt(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Is(R,"https"),Cs(R),j?Os(R.toString(),_):ai(R.toString(),_)}else _t(2);c.G=0,c.l&&c.l.sa(y),Uu(c),Mu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function zu(c,y,_){var R=_ instanceof Mt?On(_):new Mt(_);if(R.g!="")y&&(R.g=y+"."+R.g),Dr(R,R.s);else{var j=m.location;R=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Z=new Mt(null);R&&Is(Z,R),y&&(Z.g=y),j&&Dr(Z,j),_&&(Z.l=_),R=Z}return _=c.D,y=c.ya,_&&y&&lt(R,_,y),lt(R,"VER",c.la),ks(c,R),R}function ju(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new it(new Or({eb:_})):new it(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ra(){}Ra.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){Me.call(this),this.g=new Sa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ii(this)}k(yn,Me),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Fo(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ri(c),c=_);y.i.push(new Cu(y.Ya++,c)),y.G==3&&ba(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,yn.aa.N.call(this)};function qu(c){qi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(qu,qi);function Hu(){xo.call(this),this.status=1}k(Hu,xo);function Ii(c){this.g=c}k(Ii,Bu),Ii.prototype.ua=function(){De(this.g,"a")},Ii.prototype.ta=function(c){De(this.g,new qu(c))},Ii.prototype.sa=function(c){De(this.g,new Hu)},Ii.prototype.ra=function(){De(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,_T=function(){return new Ra},yT=function(){return br()},gT=_i,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,ih=Ir,Hi.COMPLETE="complete",pT=Hi,No.EventType=Bi,Bi.OPEN="a",Bi.CLOSE="b",Bi.ERROR="c",Bi.MESSAGE="d",Me.prototype.listen=Me.prototype.K,jl=No,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,mT=it}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const nE="@firebase/firestore",iE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new sp("@firebase/firestore");function to(){return ra.logLevel}function me(r,...e){if(ra.logLevel<=qe.DEBUG){const n=e.map(_p);ra.debug(`Firestore (${bo}): ${r}`,...n)}}function Tr(r,...e){if(ra.logLevel<=qe.ERROR){const n=e.map(_p);ra.error(`Firestore (${bo}): ${r}`,...n)}}function fo(r,...e){if(ra.logLevel<=qe.WARN){const n=e.map(_p);ra.warn(`Firestore (${bo}): ${r}`,...n)}}function _p(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vT(r,s,n)}function vT(r,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Tr(s),new Error(s)}function rt(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||vT(e,o,s)}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(hn.UNAUTHENTICATED))}shutdown(){}}class rD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sD{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new yr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new yr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new ET(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class aD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class oD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new aD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=uD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function xm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Le(s,o);{const u=TT(),f=cD(u.encode(sE(r,n)),u.encode(sE(e,n)));return f!==0?f:Le(s,o)}}n+=s>65535?2:1}return Le(r.length,e.length)}function sE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function cD(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Le(r[n],e[n]);return Le(r.length,e.length)}function mo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=-62135596800,oE=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*oE);return new Ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aE)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ht(0,0))}static max(){return new Ce(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class Vi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=Vi.isNumericId(e),o=Vi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class yt extends Vi{construct(e,n,s){return new yt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const hD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Vi{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return hD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new an([lE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(yt.fromString(e))}static fromName(e){return new Te(yt.fromString(e).popFirst(5))}static empty(){return new Te(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function fD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Ht(n+1,0):new Ht(n,s));return new us(o,Te.empty(),e)}function dD(r){return new us(r.readTime,r.key,tu)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Ce.min(),Te.empty(),tu)}static max(){return new us(Ce.max(),Te.empty(),tu)}}function mD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==pD)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,s)=>{n(e)})}static reject(e){return new se((n,s)=>{s(e)})}static waitFor(e){return new se((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next(o=>o?se.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new se((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(e[p]).next(E=>{f[p]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new se((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function yD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Uh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function zh(r){return r==null}function vh(r){return r===0&&1/r==-1/0}function _D(r){return typeof r=="number"&&Number.isInteger(r)&&!vh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="";function vD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=uE(e)),e=ED(r.get(n),e);return uE(e)}function ED(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case AT:n+="";break;default:n+=u}}return n}function uE(r){return r+AT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new At(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new sn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hE(this.data.getIterator())}getIteratorFrom(e){return new hE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class hE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ft(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wT("Invalid base64 string: "+u):u}}(e);return new on(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const TD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const n=TD.exec(r);if(rt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?on.fromBase64String(r):on.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",IT="__type__",CT="__previous_value__",DT="__local_write_time__";function Ep(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[IT])===null||n===void 0?void 0:n.stringValue)===RT}function jh(r){const e=r.mapValue.fields[CT];return Ep(e)?jh(e):e}function nu(r){const e=cs(r.mapValue.fields[DT].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,s,o,u,f,m,g,p,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const Eh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="__type__",AD="__max__",Yc={mapValue:{}},NT="__vector__",Th="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ep(r)?4:wD(r)?9007199254740991:bD(r)?10:11:we(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),m=cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ot(o.doubleValue),m=Ot(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(cE(f)!==cE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ji(f[g],m[g])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function ru(r,e){return(r.values||[]).find(n=>ji(n,e))!==void 0}function po(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=Ot(u.integerValue||u.doubleValue),g=Ot(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return fE(r.timestampValue,e.timestampValue);case 4:return fE(nu(r),nu(e));case 5:return xm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=hs(u),g=hs(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=Le(m[p],g[p]);if(E!==0)return E}return Le(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Le(Ot(u.latitude),Ot(f.latitude));return m!==0?m:Le(Ot(u.longitude),Ot(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return dE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,p,E;const I=u.fields||{},b=f.fields||{},M=(m=I[Th])===null||m===void 0?void 0:m.arrayValue,k=(g=b[Th])===null||g===void 0?void 0:g.arrayValue,Q=Le(((p=M==null?void 0:M.values)===null||p===void 0?void 0:p.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:dE(M,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let I=0;I<g.length&&I<E.length;++I){const b=xm(g[I],E[I]);if(b!==0)return b;const M=po(m[g[I]],p[E[I]]);if(M!==0)return M}return Le(g.length,E.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function fE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=cs(r),s=cs(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function dE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function go(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return hs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Te.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function rh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jh(r);return e?16+rh(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+rh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return vs(s.fields,(u,f)=>{o+=u.length+rh(f)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function mE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vm(r){return!!r&&"integerValue"in r}function Tp(r){return!!r&&"arrayValue"in r}function pE(r){return!!r&&"nullValue"in r}function gE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function sh(r){return!!r&&"mapValue"in r}function bD(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[OT])===null||n===void 0?void 0:n.stringValue)===NT}function Kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function wD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===AD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=an.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new In(Kl(this.value))}}function xT(r){const e=[];return vs(r.fields,(n,s)=>{const o=new an([n]);if(sh(s)){const u=xT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new fn(e,0,Ce.min(),Ce.min(),Ce.min(),In.empty(),0)}static newFoundDocument(e,n,s,o){return new fn(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new fn(e,2,n,Ce.min(),Ce.min(),In.empty(),0)}static newUnknownDocument(e,n){return new fn(e,3,n,Ce.min(),Ce.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function yE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _E(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function RD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class Lt extends MT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CD(e,n,s):n==="array-contains"?new ND(e,s):n==="in"?new xD(e,s):n==="not-in"?new MD(e,s):n==="array-contains-any"?new VD(e,s):new Lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new DD(e,s):new OD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends MT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new di(e,n)}matches(e){return VT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function VT(r){return r.op==="and"}function kT(r){return ID(r)&&VT(r)}function ID(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function km(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(kT(r))return r.filters.map(e=>km(e)).join(",");{const e=r.filters.map(n=>km(n)).join(",");return`${r.op}(${e})`}}function PT(r,e){return r instanceof Lt?function(s,o){return o instanceof Lt&&s.op===o.op&&s.field.isEqual(o.field)&&ji(s.value,o.value)}(r,e):r instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&PT(f,o.filters[m]),!0):!1}(r,e):void we(19439)}function LT(r){return r instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(r):r instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map(LT).join(" ,")+"}"}(r):"Filter"}class CD extends Lt{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class DD extends Lt{constructor(e,n){super(e,"in",n),this.keys=UT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OD extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=UT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Te.fromName(s.referenceValue))}class ND extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&ru(n.arrayValue,this.value)}}class xD extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class MD extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class VD extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function vE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new kD(r,e,n,s,o,u,f)}function Sp(r){const e=Oe(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.Ie=n}return e.Ie}function Ap(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!RD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!PT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_E(r.startAt,e.startAt)&&_E(r.endAt,e.endAt)}function Pm(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function PD(r,e,n,s,o,u,f,m){return new gu(r,e,n,s,o,u,f,m)}function bp(r){return new gu(r)}function EE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zT(r){return r.collectionGroup!==null}function Ql(r){const e=Oe(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ft(an.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Ah(u,s))}),n.has(an.keyField().canonicalString())||e.Ee.push(new Ah(an.keyField(),s))}return e.Ee}function Ui(r){const e=Oe(r);return e.de||(e.de=LD(e,Ql(r))),e.de}function LD(r,e){if(r.limitType==="F")return vE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)});const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return vE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Lm(r,e){const n=r.filters.concat([e]);return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Um(r,e,n){return new gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Bh(r,e){return Ap(Ui(r),Ui(e))&&r.limitType===e.limitType}function jT(r){return`${Sp(Ui(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>LT(o)).join(", ")}]`),zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(Ui(r))}; limitType=${r.limitType})`}function qh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const p=yE(f,m,g);return f.inclusive?p<=0:p<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,g){const p=yE(f,m,g);return f.inclusive?p>=0:p>0}(s.endAt,Ql(s),o))}(r,e)}function UD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function BT(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=zD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function zD(r,e,n){const s=r.field.isKeyField()?Te.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?po(g,p):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new At(Te.comparator);function Sr(){return jD}const qT=new At(Te.comparator);function Bl(...r){let e=qT;for(const n of r)e=e.insert(n.key,n);return e}function HT(r){let e=qT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Js(){return Yl()}function FT(){return Yl()}function Yl(){return new la(r=>r.toString(),(r,e)=>r.isEqual(e))}const BD=new At(Te.comparator),qD=new Ft(Te.comparator);function He(...r){let e=qD;for(const n of r)e=e.add(n);return e}const HD=new Ft(Le);function FD(){return HD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function GT(r){return{integerValue:""+r}}function GD(r,e){return _D(e)?GT(e):wp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function KD(r,e,n){return r instanceof bh?function(o,u){const f={fields:{[IT]:{stringValue:RT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ep(u)&&(u=jh(u)),u&&(f.fields[CT]=u),{mapValue:f}}(n,e):r instanceof su?QT(r,e):r instanceof au?YT(r,e):function(o,u){const f=KT(o,u),m=TE(f)+TE(o.Re);return Vm(f)&&Vm(o.Re)?GT(m):wp(o.serializer,m)}(r,e)}function QD(r,e,n){return r instanceof su?QT(r,e):r instanceof au?YT(r,e):n}function KT(r,e){return r instanceof wh?function(s){return Vm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class bh extends Hh{}class su extends Hh{constructor(e){super(),this.elements=e}}function QT(r,e){const n=$T(e);for(const s of r.elements)n.some(o=>ji(o,s))||n.push(s);return{arrayValue:{values:n}}}class au extends Hh{constructor(e){super(),this.elements=e}}function YT(r,e){let n=$T(e);for(const s of r.elements)n=n.filter(o=>!ji(o,s));return{arrayValue:{values:n}}}class wh extends Hh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function TE(r){return Ot(r.integerValue||r.doubleValue)}function $T(r){return Tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function YD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?mo(s.elements,o.elements,ji):s instanceof wh&&o instanceof wh?ji(s.Re,o.Re):s instanceof bh&&o instanceof bh}(r.transform,e.transform)}class $D{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fh{}function XT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rp(r.key,ti.none()):new yu(r.key,r.data,ti.none());{const n=r.data,s=In.empty();let o=new Ft(an.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Es(r.key,s,new zn(o.toArray()),ti.none())}}function XD(r,e,n){r instanceof yu?function(o,u,f){const m=o.value.clone(),g=AE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Es?function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=AE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(WT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(r,e,n,s){return r instanceof yu?function(u,f,m,g){if(!ah(u.precondition,f))return m;const p=u.value.clone(),E=bE(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(r,e,n,s):r instanceof Es?function(u,f,m,g){if(!ah(u.precondition,f))return m;const p=bE(u.fieldTransforms,g,f),E=f.data;return E.setAll(WT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(I=>I.field))}(r,e,n,s):function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function WD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=KT(s.transform,o||null);u!=null&&(n===null&&(n=In.empty()),n.set(s.field,u))}return n||null}function SE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>YD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function WT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function AE(r,e,n){const s=new Map;rt(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,QD(f,m,n[o]))}return s}function bE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,KD(u,f,e))}return s}class Rp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZD extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&XD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=FT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=XT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),He())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,s)=>SE(n,s))&&mo(this.baseMutations,e.baseMutations,(n,s)=>SE(n,s))}}class Ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){rt(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return BD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,$e;function n2(r){switch(r){case ae.OK:return we(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function ZT(r){if(r===void 0)return Tr("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Pt.OK:return ae.OK;case Pt.CANCELLED:return ae.CANCELLED;case Pt.UNKNOWN:return ae.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ae.INTERNAL;case Pt.UNAVAILABLE:return ae.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ae.NOT_FOUND;case Pt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Pt.ABORTED:return ae.ABORTED;case Pt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Pt.DATA_LOSS:return ae.DATA_LOSS;default:return we(39323,{code:r})}}($e=Pt||(Pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=new os([4294967295,4294967295],0);function wE(r){const e=TT().encode(r),n=new dT;return n.update(e),new Uint8Array(n.digest())}function RE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Cp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=os.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(i2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=wE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Cp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.pe===0)return;const n=wE(e),[s,o]=RE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(Ce.min(),o,new At(Le),Sr(),He())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class JT{constructor(e,n){this.targetId=e,this.Ce=n}}class eS{constructor(e,n,s=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class IE{constructor(){this.Fe=0,this.Me=CE(),this.xe=on.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=He(),n=He(),s=He();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new _u(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=CE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class r2{constructor(e){this.ze=e,this.je=new Map,this.He=Sr(),this.Je=$c(),this.Ye=$c(),this.Ze=new At(Le)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new Te(u.path);this.tt(n,f,fn.newNoDocument(f,Ce.min()))}else rt(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(e),g=m?this.lt(m,e,f):1;if(g!==0){this.st(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=hs(s).toUint8Array()}catch(g){if(g instanceof wT)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Cp(f,o,u)}catch(g){return fo(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&Pm(m.target)){const g=new Te(m.target.path);this.Et(g).has(f)||this.dt(f,g)||this.tt(f,g,fn.newNoDocument(g,e))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=He();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this._t(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(e));const o=new Gh(e,n,this.Ze,this.He,s);return this.He=Sr(),this.Je=$c(),this.Ye=$c(),this.Ze=new At(Le),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new IE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ft(Le),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ft(Le),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new IE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function $c(){return new At(Te.comparator)}function CE(){return new At(Te.comparator)}const s2={asc:"ASCENDING",desc:"DESCENDING"},a2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o2={and:"AND",or:"OR"};class l2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zm(r,e){return r.useProto3Json||zh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function u2(r,e){return Rh(r,e.toTimestamp())}function zi(r){return rt(!!r,49232),Ce.fromTimestamp(function(n){const s=cs(n);return new Ht(s.seconds,s.nanos)}(r))}function Dp(r,e){return jm(r,e).canonicalString()}function jm(r,e){const n=function(o){return new yt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function nS(r){const e=yt.fromString(r);return rt(oS(e),10190,{key:e.toString()}),e}function Bm(r,e){return Dp(r.databaseId,e.path)}function gm(r,e){const n=nS(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(rS(n))}function iS(r,e){return Dp(r.databaseId,e)}function c2(r){const e=nS(r);return e.length===4?yt.emptyPath():rS(e)}function qm(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function rS(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function DE(r,e,n){return{name:Bm(r,e),fields:n.value.mapValue.fields}}function h2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:we(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?(rt(E===void 0||typeof E=="string",58123),on.fromBase64String(E||"")):(rt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),on.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const E=p.code===void 0?ae.UNKNOWN:ZT(p.code);return new pe(E,p.message||"")}(f);n=new eS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(r,s.document.name),u=zi(s.document.updateTime),f=s.document.createTime?zi(s.document.createTime):Ce.min(),m=new In({mapValue:{fields:s.document.fields}}),g=fn.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(p,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(r,s.document),u=s.readTime?zi(s.readTime):Ce.min(),f=fn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(r,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new t2(o,u),m=s.targetId;n=new JT(m,f)}}return n}function f2(r,e){let n;if(e instanceof yu)n={update:DE(r,e.key,e.value)};else if(e instanceof Rp)n={delete:Bm(r,e.key)};else if(e instanceof Es)n={update:DE(r,e.key,e.data),updateMask:T2(e.fieldMask)};else{if(!(e instanceof ZD))return we(16599,{ft:e.type});n={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof bh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw we(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:u2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),n}function d2(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?zi(o.updateTime):zi(u);return f.isEqual(Ce.min())&&(f=zi(u)),new $D(f,o.transformResults||[])}(n,e))):[]}function m2(r,e){return{documents:[iS(r,e.path)]}}function p2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=iS(r,o);const u=function(p){if(p.length!==0)return aS(di.create(p,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(b){return{field:io(b.field),direction:_2(b.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:o}}function g2(r){let e=c2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){rt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(I){const b=sS(I);return b instanceof di&&kT(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(b=>function(k){return new Ah(ro(k.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(I){let b;return b=typeof I=="object"?I.value:I,zh(b)?null:b}(n.limit));let g=null;n.startAt&&(g=function(I){const b=!!I.before,M=I.values||[];return new Sh(M,b)}(n.startAt));let p=null;return n.endAt&&(p=function(I){const b=!I.before,M=I.values||[];return new Sh(M,b)}(n.endAt)),PD(e,o,f,u,m,"F",g,p)}function y2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return Lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Lt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return Lt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(n){return Lt.create(ro(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(s=>sS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(r):we(30097,{filter:r})}function _2(r){return s2[r]}function v2(r){return a2[r]}function E2(r){return o2[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return an.fromServerFormat(r.fieldPath)}function aS(r){return r instanceof Lt?function(n){if(n.op==="=="){if(gE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(pE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(pE(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:v2(n.op),value:n.value}}}(r):r instanceof di?function(n){const s=n.getFilters().map(o=>aS(o));return s.length===1?s[0]:{compositeFilter:{op:E2(n.op),filters:s}}}(r):we(54877,{filter:r})}function T2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,u=Ce.min(),f=Ce.min(),m=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.wt=e}}function A2(r){const e=g2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.yn=new w2}addToCollectionParentIndex(e,n){return this.yn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(us.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class w2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(yt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lS=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(lS,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new yo(0)}static ir(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="LruGarbageCollector",R2=1048576;function xE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class I2{constructor(e){this.cr=e,this.buffer=new Ft(xE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();xE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(NE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?me(NE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Ir(3e5)})}}class D2{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Uh.le);const s=new I2(n);return this.Er.forEachTarget(e,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(e,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Er.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(OE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,f=Date.now(),this.nthSequenceNumber(e,o))).next(I=>(s=I,m=Date.now(),this.removeTargets(e,s,n))).next(I=>(u=I,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(I=>(p=Date.now(),to()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${I} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:I})))}}function O2(r,e){return new D2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&$l(s.mutation,o,zn.empty(),Ht.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,He()).next(()=>s))}getLocalViewOfDocuments(e,n,s=He()){const o=Js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Bl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,He()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Sr();const f=Yl(),m=function(){return Yl()}();return n.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),$l(E.mutation,p,E.mutation.getFieldMask(),Ht.now())):f.set(p.key,zn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>{var I;return m.set(p,new x2(E,(I=f.get(p))!==null&&I!==void 0?I:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new At((f,m)=>f-m),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||zn.empty();E=m.applyToLocalView(p,E),s.set(g,E);const I=(o.get(m.batchId)||He()).add(g);o=o.insert(m.batchId,I)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,I=FT();E.forEach(b=>{if(!u.has(b)){const M=XT(n.get(b),s.get(b));M!==null&&I.set(b,M),u=u.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,I))}return se.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Te.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):se.resolve(Js());let m=tu,g=u;return f.next(p=>se.forEach(p,(E,I)=>(m<I.largestBatchId&&(m=I.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{g=g.insert(E,b)}))).next(()=>this.populateOverlays(e,p,u)).next(()=>this.computeViews(e,g,p,He())).next(E=>({batchId:m,changes:HT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>se.forEach(m,g=>{const p=function(I,b){return new gu(b,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((I,b)=>{f=f.insert(I,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,fn.newInvalidDocument(E)))});let m=Bl();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&$l(E.mutation,p,zn.empty(),Ht.now()),qh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return se.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:A2(o.bundledQuery),readTime:zi(o.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.overlays=new At(Te.comparator),this.Or=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return se.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),se.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new Te(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new At((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Js(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return se.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new e2(n,s));let u=this.Or.get(n);u===void 0&&(u=He(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(){this.Nr=new Ft(Wt.Br),this.Lr=new Ft(Wt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const s=new Wt(e,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Qr(new Wt(e,n))}$r(e,n){e.forEach(s=>this.removeReference(s,n))}Ur(e){const n=new Te(new yt([])),s=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Te(new yt([])),s=new Wt(n,e),o=new Wt(n,e+1);let u=He();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Wt(e,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Te.comparator(e.key,n.key)||Le(e.Gr,n.Gr)}static kr(e,n){return Le(e.Gr,n.Gr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ft(Wt.Br)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new JD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(f)}lookupMutationBatch(e,n){return se.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?vp:this.Jn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Le);return n.forEach(o=>{const u=new Wt(o,0),f=new Wt(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),se.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const f=new Wt(new Te(u),0);let m=new Ft(Le);return this.zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Gr)),!0)},f),se.resolve(this.Jr(m))}Jr(e){const n=[];return e.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){rt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return se.forEach(n.mutations,o=>{const u=new Wt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.zr=s})}Xn(e){}containsKey(e,n){const s=new Wt(n,0),o=this.zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.Zr=e,this.docs=function(){return new At(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let s=Sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))}),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Sr();const f=n.path,m=new Te(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||mD(dD(E),s)<=0||(o.has(E.key)||qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}Xr(e,n){return se.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new z2(this)}getSize(e){return se.resolve(this.size)}}class z2 extends N2{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(e,o)):this.vr.removeEntry(s)}),se.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.persistence=e,this.ei=new la(n=>Sp(n),Ap),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ti=0,this.ni=new Op,this.targetCount=0,this.ri=yo.rr()}forEachTarget(e,n){return this.ei.forEach((s,o)=>n(o)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),se.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.ar(n),se.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),se.waitFor(u).next(()=>o)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.ei.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this.ni.qr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ni.Wr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.ii={},this.overlays={},this.si=new Uh(0),this.oi=!1,this.oi=!0,this._i=new P2,this.referenceDelegate=e(this),this.ai=new j2(this),this.indexManager=new b2,this.remoteDocumentCache=function(o){return new U2(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new S2(n),this.ci=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new k2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ii[e.toKey()];return s||(s=new L2(n,this.referenceDelegate),this.ii[e.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new B2(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(e,n){return se.or(Object.values(this.ii).map(s=>()=>s.containsKey(e,n)))}}class B2 extends gD{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.Ti=new Op,this.Ii=null}static Ei(e){return new Np(e)}get di(){if(this.Ii)return this.Ii;throw we(60996)}addReference(e,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,s=>{const o=Te.fromPath(s);return this.Ai(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return se.or([()=>se.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.Ri=new la(s=>vD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=O2(this,n)}static Ei(e,n){return new Ih(e,n)}li(){}hi(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Vr(e){let n=0;return this.Ar(e,s=>{n++}).next(()=>n)}Ar(e,n){return se.forEach(this.Ri,(s,o)=>this.gr(e,s,o).next(u=>u?se.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(e,f=>this.gr(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.Ri.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),se.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rh(e.data.value)),n}gr(e,n,s){return se.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.Ri.get(n);return se.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ls=s,this.hs=o}static Ps(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return I1()?8:yD(dn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new q2;return this.fs(e,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(e,n,f,m.size)})}).next(()=>u.result)}gs(e,n,s,o){return s.documentReadCount<this.Es?(to()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),se.resolve()):(to()<=qe.DEBUG&&me("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(to()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):se.resolve())}Rs(e,n){if(EE(n))return se.resolve(null);let s=Ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Um(n,null,"F"),s=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=He(...u);return this.As.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const p=this.ps(n,m);return this.ys(n,p,f,g.readTime)?this.Rs(e,Um(n,null,"F")):this.ws(e,p,n,g)}))})))}Vs(e,n,s,o){return EE(n)||o.isEqual(Ce.min())?se.resolve(null):this.As.getDocuments(e,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?se.resolve(null):(to()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.ws(e,f,n,fD(o,tu)).next(m=>m))})}ps(e,n){let s=new Ft(BT(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}ys(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(e,n,s){return to()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",no(n)),this.As.getDocumentsMatchingQuery(e,n,us.min(),s)}ws(e,n,s,o){return this.As.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",F2=3e8;class G2{constructor(e,n,s,o){this.persistence=e,this.bs=n,this.serializer=o,this.Ss=new At(Le),this.Ds=new la(u=>Sp(u),Ap),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(s)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function K2(r,e,n,s){return new G2(r,e,n,s)}async function cS(r,e){const n=Oe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=He();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(p=>({Ms:p,removedBatchIds:f,addedBatchIds:m}))})})}function Q2(r,e){const n=Oe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const I=p.batch,b=I.keys();let M=se.resolve();return b.forEach(k=>{M=M.next(()=>E.getEntry(g,k)).next(Q=>{const z=p.docVersions.get(k);rt(z!==null,48541),Q.version.compareTo(z)<0&&(I.applyToRemoteDocument(Q,p),Q.isValidDocument()&&(Q.setReadTime(p.commitVersion),E.addEntry(Q)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(g,I))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=He();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function hS(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Y2(r,e){const n=Oe(r),s=e.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];e.targetChanges.forEach((E,I)=>{const b=o.get(I);if(!b)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,I).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,I)));let M=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(I)!==null?M=M.withResumeToken(on.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(I,M),function(Q,z,G){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=F2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(b,M,E)&&m.push(n.ai.updateTargetData(u,M))});let g=Sr(),p=He();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push($2(u,f,e.documentUpdates).next(E=>{g=E.xs,p=E.Os})),!s.isEqual(Ce.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(I=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return se.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ss=o,u))}function $2(r,e,n){let s=He(),o=He();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Sr();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ce.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):me(Mp,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{xs:f,Os:o}})}function X2(r,e){const n=Oe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function W2(r,e){const n=Oe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,e).next(u=>u?(o=u,se.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new is(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(e,s.targetId)),s})}async function Hm(r,e,n){const s=Oe(r),o=s.Ss.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ro(f))throw f;me(Mp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ss=s.Ss.remove(e),s.Ds.delete(o.target)}function ME(r,e,n){const s=Oe(r);let o=Ce.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const I=Oe(g),b=I.Ds.get(E);return b!==void 0?se.resolve(I.Ss.get(b)):I.ai.getTargetData(p,E)}(s,f,Ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.bs.getDocumentsMatchingQuery(f,e,n?o:Ce.min(),n?u:He())).next(m=>(Z2(s,UD(e),m),{documents:m,Ns:u})))}function Z2(r,e,n){let s=r.vs.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(e,s)}class VE{constructor(){this.activeTargetIds=FD()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class J2{constructor(){this.So=new VE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,s){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new VE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="ConnectivityMonitor";class PE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(kE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Fm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nO{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(e,n,s,o,u){const f=Fm(),m=this.$o(e,n.toUriEncodedString());me(ym,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(g,o,u);const{host:p}=new URL(m),E=uu(p);return this.Ko(e,m,g,s,E).then(I=>(me(ym,`Received RPC '${e}' ${f}: `,I),I),I=>{throw fo(ym,`RPC '${e}' ${f} failed with error: `,I,"url: ",m,"request:",s),I})}Wo(e,n,s,o,u,f){return this.Qo(e,n,s,o,u)}Uo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}$o(e,n){const s=tO[e];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class rO extends nO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,s,o,u){const f=Fm();return new Promise((m,g)=>{const p=new mT;p.setWithCredentials(!0),p.listenOnce(pT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ih.NO_ERROR:const I=p.getResponseJson();me(cn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(I)),m(I);break;case ih.TIMEOUT:me(cn,`RPC '${e}' ${f} timed out`),g(new pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case ih.HTTP_ERROR:const b=p.getStatus();if(me(cn,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let M=p.getResponseJson();Array.isArray(M)&&(M=M[0]);const k=M==null?void 0:M.error;if(k&&k.status&&k.message){const Q=function(G){const ne=G.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(ne)>=0?ne:ae.UNKNOWN}(k.status);g(new pe(Q,k.message))}else g(new pe(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new pe(ae.UNAVAILABLE,"Connection failed."));break;default:we(9055,{s_:e,streamId:f,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{me(cn,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);me(cn,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)})}a_(e,n,s){const o=Fm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=_T(),m=yT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Uo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");me(cn,`Creating RPC '${e}' stream ${o}: ${E}`,g);const I=f.createWebChannel(E,g);let b=!1,M=!1;const k=new iO({Go:z=>{M?me(cn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(b||(me(cn,`Opening RPC '${e}' stream ${o} transport.`),I.open(),b=!0),me(cn,`RPC '${e}' stream ${o} sending:`,z),I.send(z))},zo:()=>I.close()}),Q=(z,G,ne)=>{z.listen(G,U=>{try{ne(U)}catch(oe){setTimeout(()=>{throw oe},0)}})};return Q(I,jl.EventType.OPEN,()=>{M||(me(cn,`RPC '${e}' stream ${o} transport opened.`),k.t_())}),Q(I,jl.EventType.CLOSE,()=>{M||(M=!0,me(cn,`RPC '${e}' stream ${o} transport closed`),k.r_())}),Q(I,jl.EventType.ERROR,z=>{M||(M=!0,fo(cn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),k.r_(new pe(ae.UNAVAILABLE,"The operation could not be completed")))}),Q(I,jl.EventType.MESSAGE,z=>{var G;if(!M){const ne=z.data[0];rt(!!ne,16349);const U=ne,oe=(U==null?void 0:U.error)||((G=U[0])===null||G===void 0?void 0:G.error);if(oe){me(cn,`RPC '${e}' stream ${o} received error:`,oe);const le=oe.status;let fe=function(S){const w=Pt[S];if(w!==void 0)return ZT(w)}(le),N=oe.message;fe===void 0&&(fe=ae.INTERNAL,N="Unknown error status: "+le+" with message "+oe.message),M=!0,k.r_(new pe(fe,N)),I.close()}else me(cn,`RPC '${e}' stream ${o} received:`,ne),k.i_(ne)}}),Q(m,gT.STAT_EVENT,z=>{z.stat===Nm.PROXY?me(cn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Nm.NOPROXY&&me(cn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.n_()},0),k}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){return new l2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.bi=e,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="PersistentStream";class dS{constructor(e,n,s,o,u,f,m,g){this.bi=e,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new fS(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{e(()=>{const o=new pe(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(e,n){const s=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(me(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sO extends dS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=h2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ce.min():f.readTime?zi(f.readTime):Ce.min()}(e);return this.listener.Q_(n,s)}U_(e){const n={};n.database=qm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Pm(g)?{documents:m2(u,g)}:{query:p2(u,g).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=tS(u,f.resumeToken);const p=zm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const p=zm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const s=y2(this.serializer,e);s&&(n.labels=s),this.F_(n)}K_(e){const n={};n.database=qm(this.serializer),n.removeTarget=e,this.F_(n)}}class aO extends dS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=d2(e.writeResults,e.commitTime),s=zi(e.commitTime);return this.listener.j_(s,n)}H_(){const e={};e.database=qm(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>f2(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{}class lO extends oO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(e,jm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ae.UNKNOWN,u.toString())})}Wo(e,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(e,jm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ae.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class uO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Tr(n),this.ea=!1):me("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class cO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{ua(this)&&(me(sa,"Restarting streams for network reachability change."),await async function(g){const p=Oe(g);p.aa.add(4),await vu(p),p.la.set("Unknown"),p.aa.delete(4),await Qh(p)}(this))})}),this.la=new uO(s,o)}}async function Qh(r){if(ua(r))for(const e of r.ua)await e(!0)}async function vu(r){for(const e of r.ua)await e(!1)}function mS(r,e){const n=Oe(r);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Lp(n)?Pp(n):Io(n).b_()&&kp(n,e))}function Vp(r,e){const n=Oe(r),s=Io(n);n._a.delete(e),s.b_()&&pS(n,e),n._a.size===0&&(s.b_()?s.v_():ua(n)&&n.la.set("Unknown"))}function kp(r,e){if(r.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).U_(e)}function pS(r,e){r.ha.Ke(e),Io(r).K_(e)}function Pp(r){r.ha=new r2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r._a.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.la.ta()}function Lp(r){return ua(r)&&!Io(r).w_()&&r._a.size>0}function ua(r){return Oe(r).aa.size===0}function gS(r){r.ha=void 0}async function hO(r){r.la.set("Online")}async function fO(r){r._a.forEach((e,n)=>{kp(r,e)})}async function dO(r,e){gS(r),Lp(r)?(r.la.ia(e),Pp(r)):r.la.set("Unknown")}async function mO(r,e,n){if(r.la.set("Online"),e instanceof eS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,e)}catch(s){me(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(r,s)}else if(e instanceof oh?r.ha.Xe(e):e instanceof JT?r.ha.ot(e):r.ha.nt(e),!n.isEqual(Ce.min()))try{const s=await hS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u._a.get(p);E&&u._a.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u._a.get(g);if(!E)return;u._a.set(g,E.withResumeToken(on.EMPTY_BYTE_STRING,E.snapshotVersion)),pS(u,g);const I=new is(E.target,g,p,E.sequenceNumber);kp(u,I)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){me(sa,"Failed to raise snapshot:",s),await Ch(r,s)}}async function Ch(r,e,n){if(!Ro(e))throw e;r.aa.add(1),await vu(r),r.la.set("Offline"),n||(n=()=>hS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{me(sa,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await Qh(r)})}function yS(r,e){return e().catch(n=>Ch(r,n,e))}async function Yh(r){const e=Oe(r),n=ds(e);let s=e.oa.length>0?e.oa[e.oa.length-1].batchId:vp;for(;pO(e);)try{const o=await X2(e.localStore,s);if(o===null){e.oa.length===0&&n.v_();break}s=o.batchId,gO(e,o)}catch(o){await Ch(e,o)}_S(e)&&vS(e)}function pO(r){return ua(r)&&r.oa.length<10}function gO(r,e){r.oa.push(e);const n=ds(r);n.b_()&&n.W_&&n.G_(e.mutations)}function _S(r){return ua(r)&&!ds(r).w_()&&r.oa.length>0}function vS(r){ds(r).start()}async function yO(r){ds(r).H_()}async function _O(r){const e=ds(r);for(const n of r.oa)e.G_(n.mutations)}async function vO(r,e,n){const s=r.oa.shift(),o=Ip.from(s,e,n);await yS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yh(r)}async function EO(r,e){e&&ds(r).W_&&await async function(s,o){if(function(f){return n2(f)&&f!==ae.ABORTED}(o.code)){const u=s.oa.shift();ds(s).D_(),await yS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yh(s)}}(r,e),_S(r)&&vS(r)}async function UE(r,e){const n=Oe(r);n.asyncQueue.verifyOperationInProgress(),me(sa,"RemoteStore received new credentials");const s=ua(n);n.aa.add(3),await vu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Qh(n)}async function TO(r,e){const n=Oe(r);e?(n.aa.delete(2),await Qh(n)):e||(n.aa.add(2),await vu(n),n.la.set("Unknown"))}function Io(r){return r.Pa||(r.Pa=function(n,s,o){const u=Oe(n);return u.Y_(),new sO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:hO.bind(null,r),Jo:fO.bind(null,r),Zo:dO.bind(null,r),Q_:mO.bind(null,r)}),r.ua.push(async e=>{e?(r.Pa.D_(),Lp(r)?Pp(r):r.la.set("Unknown")):(await r.Pa.stop(),gS(r))})),r.Pa}function ds(r){return r.Ta||(r.Ta=function(n,s,o){const u=Oe(n);return u.Y_(),new aO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:yO.bind(null,r),Zo:EO.bind(null,r),z_:_O.bind(null,r),j_:vO.bind(null,r)}),r.ua.push(async e=>{e?(r.Ta.D_(),await Yh(r)):(await r.Ta.stop(),r.oa.length>0&&(me(sa,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Up(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(r,e){if(Tr("AsyncQueue",`${e}: ${r}`),Ro(r))return new pe(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Ia=new At(Te.comparator)}track(e){const n=e.doc.key,s=this.Ia.get(n);s?e.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Ia=this.Ia.remove(n):e.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,Ea:s}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,f,m,g,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class AO{constructor(){this.queries=jE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=Oe(n),u=o.queries;o.queries=jE(),u.forEach((f,m)=>{for(const g of m.Ra)g.onError(s)})})(this,new pe(ae.ABORTED,"Firestore shutting down"))}}function jE(){return new la(r=>jT(r),Bh)}async function ES(r,e){const n=Oe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Va()&&e.ma()&&(s=2):(u=new SO,s=e.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Ra.push(e),e.ga(n.onlineState),u.Aa&&e.pa(u.Aa)&&jp(n)}async function TS(r,e){const n=Oe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(e);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=e.ma()?0:1:!u.Va()&&e.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function bO(r,e){const n=Oe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&jp(n)}function wO(r,e,n){const s=Oe(r),o=s.queries.get(e);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(e)}function jp(r){r.fa.forEach(e=>{e.next()})}var Gm,BE;(BE=Gm||(Gm={})).ya="default",BE.Cache="cache";class SS{constructor(e,n,s){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class bS{constructor(e){this.key=e}}class RO{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=He(),this.mutatedKeys=He(),this.Ua=BT(e),this.Ka=new co(this.Ua)}get Wa(){return this.qa}Ga(e,n){const s=n?n.za:new zE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,I)=>{const b=o.get(E),M=qh(this.query,I)?I:null,k=!!b&&this.mutatedKeys.has(b.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let z=!1;b&&M?b.data.isEqual(M.data)?k!==Q&&(s.track({type:3,doc:M}),z=!0):this.ja(b,M)||(s.track({type:2,doc:M}),z=!0,(g&&this.Ua(M,g)>0||p&&this.Ua(M,p)<0)&&(m=!0)):!b&&M?(s.track({type:0,doc:M}),z=!0):b&&!M&&(s.track({type:1,doc:b}),z=!0,(g||p)&&(m=!0)),z&&(M?(f=f.add(M),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const f=e.za.da();f.sort((E,I)=>function(M,k){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:z})}};return Q(M)-Q(k)}(E.type,I.type)||this.Ua(E.doc,I.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],g=this.$a.size===0&&this.current&&!o?1:0,p=g!==this.Qa;return this.Qa=g,f.length!==0||p?{snapshot:new _o(this.query,e.Ka,u,f,e.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new zE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=He(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return e.forEach(s=>{this.$a.has(s)||n.push(new bS(s))}),this.$a.forEach(s=>{e.has(s)||n.push(new AS(s))}),n}Xa(e){this.qa=e.Ns,this.$a=He();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return _o.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Bp="SyncEngine";class IO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CO{constructor(e){this.key=e,this.tu=!1}}class DO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new la(m=>jT(m),Bh),this.iu=new Map,this.su=new Set,this.ou=new At(Te.comparator),this._u=new Map,this.au=new Op,this.uu={},this.cu=new Map,this.lu=yo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function OO(r,e,n=!0){const s=OS(r);let o;const u=s.ru.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await wS(s,e,n,!0),o}async function NO(r,e){const n=OS(r);await wS(n,e,!0,!1)}async function wS(r,e,n,s){const o=await W2(r.localStore,Ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&mS(r.remoteStore,o),m}async function xO(r,e,n,s,o){r.Pu=(I,b,M)=>async function(Q,z,G,ne){let U=z.view.Ga(G);U.ys&&(U=await ME(Q.localStore,z.query,!1).then(({documents:N})=>z.view.Ga(N,U)));const oe=ne&&ne.targetChanges.get(z.targetId),le=ne&&ne.targetMismatches.get(z.targetId)!=null,fe=z.view.applyChanges(U,Q.isPrimaryClient,oe,le);return HE(Q,z.targetId,fe.Ya),fe.snapshot}(r,I,b,M);const u=await ME(r.localStore,e,!0),f=new RO(e,u.Ns),m=f.Ga(u.documents),g=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);HE(r,n,p.Ya);const E=new IO(e,n,f);return r.ru.set(e,E),r.iu.has(n)?r.iu.get(n).push(e):r.iu.set(n,[e]),p.snapshot}async function MO(r,e,n){const s=Oe(r),o=s.ru.get(e),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Bh(f,e))),void s.ru.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Vp(s.remoteStore,o.targetId),Km(s,o.targetId)}).catch(wo)):(Km(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function VO(r,e){const n=Oe(r),s=n.ru.get(e),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Vp(n.remoteStore,s.targetId))}async function kO(r,e,n){const s=qO(r);try{const o=await function(f,m){const g=Oe(f),p=Ht.now(),E=m.reduce((M,k)=>M.add(k.key),He());let I,b;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let k=Sr(),Q=He();return g.Cs.getEntries(M,E).next(z=>{k=z,k.forEach((G,ne)=>{ne.isValidDocument()||(Q=Q.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,k)).next(z=>{I=z;const G=[];for(const ne of m){const U=WD(ne,I.get(ne.key).overlayedDocument);U!=null&&G.push(new Es(ne.key,U,xT(U.value.mapValue),ti.exists(!0)))}return g.mutationQueue.addMutationBatch(M,p,G,m)}).next(z=>{b=z;const G=z.applyToLocalDocumentSet(I,Q);return g.documentOverlayCache.saveOverlays(M,z.batchId,G)})}).then(()=>({batchId:b.batchId,changes:HT(I)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.uu[f.currentUser.toKey()];p||(p=new At(Le)),p=p.insert(m,g),f.uu[f.currentUser.toKey()]=p}(s,o.batchId,n),await Eu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function RS(r,e){const n=Oe(r);try{const s=await Y2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?rt(f.tu,14607):o.removedDocuments.size>0&&(rt(f.tu,42227),f.tu=!1))}),await Eu(n,s,e)}catch(s){await wo(s)}}function qE(r,e,n){const s=Oe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Oe(f);g.onlineState=m;let p=!1;g.queries.forEach((E,I)=>{for(const b of I.Ra)b.ga(m)&&(p=!0)}),p&&jp(g)}(s.eventManager,e),o.length&&s.nu.Q_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function PO(r,e,n){const s=Oe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s._u.get(e),u=o&&o.key;if(u){let f=new At(Te.comparator);f=f.insert(u,fn.newNoDocument(u,Ce.min()));const m=He().add(u),g=new Gh(Ce.min(),new Map,new At(Le),f,m);await RS(s,g),s.ou=s.ou.remove(u),s._u.delete(e),qp(s)}else await Hm(s.localStore,e,!1).then(()=>Km(s,e,n)).catch(wo)}async function LO(r,e){const n=Oe(r),s=e.batch.batchId;try{const o=await Q2(n.localStore,e);CS(n,s,null),IS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await wo(o)}}async function UO(r,e,n){const s=Oe(r);try{const o=await function(f,m){const g=Oe(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(I=>(rt(I!==null,37113),E=I.keys(),g.mutationQueue.removeMutationBatch(p,I))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,e);CS(s,e,n),IS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await wo(o)}}function IS(r,e){(r.cu.get(e)||[]).forEach(n=>{n.resolve()}),r.cu.delete(e)}function CS(r,e,n){const s=Oe(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.uu[s.currentUser.toKey()]=o}}function Km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.iu.get(e))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(e),r.isPrimaryClient&&r.au.Ur(e).forEach(s=>{r.au.containsKey(s)||DS(r,s)})}function DS(r,e){r.su.delete(e.path.canonicalString());const n=r.ou.get(e);n!==null&&(Vp(r.remoteStore,n),r.ou=r.ou.remove(e),r._u.delete(n),qp(r))}function HE(r,e,n){for(const s of n)s instanceof AS?(r.au.addReference(s.key,e),zO(r,s)):s instanceof bS?(me(Bp,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,e),r.au.containsKey(s.key)||DS(r,s.key)):we(19791,{Iu:s})}function zO(r,e){const n=e.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(me(Bp,"New document in limbo: "+n),r.su.add(s),qp(r))}function qp(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const e=r.su.values().next().value;r.su.delete(e);const n=new Te(yt.fromString(e)),s=r.lu.next();r._u.set(s,new CO(n)),r.ou=r.ou.insert(n,s),mS(r.remoteStore,new is(Ui(bp(n.path)),s,"TargetPurposeLimboResolution",Uh.le))}}async function Eu(r,e,n){const s=Oe(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,g)=>{f.push(s.Pu(g,e,n).then(p=>{var E;if((p||n)&&s.isPrimaryClient){const I=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,I?"current":"not-current")}if(p){o.push(p);const I=xp.Ps(g.targetId,p);u.push(I)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(g,p){const E=Oe(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>se.forEach(p,b=>se.forEach(b.ls,M=>E.persistence.referenceDelegate.addReference(I,b.targetId,M)).next(()=>se.forEach(b.hs,M=>E.persistence.referenceDelegate.removeReference(I,b.targetId,M)))))}catch(I){if(!Ro(I))throw I;me(Mp,"Failed to update sequence numbers: "+I)}for(const I of p){const b=I.targetId;if(!I.fromCache){const M=E.Ss.get(b),k=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(k);E.Ss=E.Ss.insert(b,Q)}}}(s.localStore,u))}async function jO(r,e){const n=Oe(r);if(!n.currentUser.isEqual(e)){me(Bp,"User change. New user:",e.toKey());const s=await cS(n.localStore,e);n.currentUser=e,function(u,f){u.cu.forEach(m=>{m.forEach(g=>{g.reject(new pe(ae.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ms)}}function BO(r,e){const n=Oe(r),s=n._u.get(e);if(s&&s.tu)return He().add(s.key);{let o=He();const u=n.iu.get(e);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function OS(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PO.bind(null,e),e.nu.Q_=bO.bind(null,e.eventManager),e.nu.Tu=wO.bind(null,e.eventManager),e}function qO(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return K2(this.persistence,new H2,e.initialUser,this.serializer)}Ru(e){return new uS(Np.Ei,this.serializer)}Au(e){return new J2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class HO extends Dh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){rt(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new C2(s,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new uS(s=>Ih.Ei(s,n),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AO}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=function(u){return new rO(u)}(e.databaseInfo);return function(u,f,m,g){return new lO(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new cO(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return PE.C()?new PE:new eO}())}createSyncEngine(e,n){return function(o,u,f,m,g,p,E){const I=new DO(o,u,f,m,g,p);return E&&(I.hu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Oe(o);me(sa,"RemoteStore shutting down."),u.aa.add(5),await vu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class FO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=ST.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{me(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(me(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vm(r,e){r.asyncQueue.verifyOperationInProgress(),me(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await cS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function FE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await GO(r);me(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>UE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>UE(e.remoteStore,o)),r._onlineComponents=e}async function GO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(ms,"Using user provided OfflineComponentProvider");try{await vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await vm(r,new Dh)}}else me(ms,"Using default OfflineComponentProvider"),await vm(r,new HO(void 0));return r._offlineComponents}async function xS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(ms,"Using user provided OnlineComponentProvider"),await FE(r,r._uninitializedComponentsProvider._online)):(me(ms,"Using default OnlineComponentProvider"),await FE(r,new Qm))),r._onlineComponents}function KO(r){return xS(r).then(e=>e.syncEngine)}async function MS(r){const e=await xS(r),n=e.eventManager;return n.onListen=OO.bind(null,e.syncEngine),n.onUnlisten=MO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),n}function QO(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new NS({next:b=>{E.yu(),f.enqueueAndForget(()=>TS(u,I));const M=b.docs.has(m);!M&&b.fromCache?p.reject(new pe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&b.fromCache&&g&&g.source==="server"?p.reject(new pe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),I=new SS(bp(m.path),E,{includeMetadataChanges:!0,Fa:!0});return ES(u,I)}(await MS(r),r.asyncQueue,e,n,s)),s.promise}function YO(r,e,n={}){const s=new yr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new NS({next:b=>{E.yu(),f.enqueueAndForget(()=>TS(u,I)),b.fromCache&&g.source==="server"?p.reject(new pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),I=new SS(m,E,{includeMetadataChanges:!0,Fa:!0});return ES(u,I)}(await MS(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r,e,n){if(!n)throw new pe(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $O(r,e,n,s){if(e===!0&&s===!0)throw new pe(ae.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function KE(r){if(!Te.isDocumentKey(r))throw new pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function QE(r){if(Te.isDocumentKey(r))throw new pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function mi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firestore.googleapis.com",YE=!0;class $E{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PS,this.ssl=YE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:YE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R2)throw new pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$O("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new iD;switch(s.type){case"firstParty":return new oD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Vh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=GE.get(n);s&&(me("ComponentProvider","Removing Datastore"),GE.delete(n),s.terminate())}(this),Promise.resolve()}}function XO(r,e,n,s={}){var o;r=mi(r,Xh);const u=uu(e),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;f.host!==PS&&f.host!==g&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},f),{host:g,ssl:u,emulatorOptions:s});if(!ea(p,m)&&(r._setSettings(p),u&&(b0(`https://${g}`),Vh("Firestore",!0)),s.mockUserToken)){let E,I;if(typeof s.mockUserToken=="string")E=s.mockUserToken,I=hn.MOCK_USER;else{E=_1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new hn(b)}r._authCredentials=new rD(new ET(E,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class vn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ls extends Co{constructor(e,n,s){super(e,n,bp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Te(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Un(r,e,...n){if(r=Zt(r),kS("collection","path",e),r instanceof Xh){const s=yt.fromString(e,...n);return QE(s),new ls(r,null,s)}{if(!(r instanceof vn||r instanceof ls))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...n));return QE(s),new ls(r.firestore,null,s)}}function Cn(r,e,...n){if(r=Zt(r),arguments.length===1&&(e=ST.newId()),kS("doc","path",e),r instanceof Xh){const s=yt.fromString(e,...n);return KE(s),new vn(r,null,new Te(s))}{if(!(r instanceof vn||r instanceof ls))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(yt.fromString(e,...n));return KE(s),new vn(r.firestore,r instanceof ls?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="AsyncQueue";class WE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new fS(this,"async_queue_retry"),this.ju=()=>{const s=_m();s&&me(XE,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new yr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ro(e))throw e;me(XE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(s=>{throw this.Ku=s,this.Wu=!1,Tr("INTERNAL UNHANDLED ERROR: ",ZE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(e,n,s){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const o=Up.createAndSchedule(this,e,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&we(47125,{ec:ZE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function ZE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ca extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new WE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WE(e),this._firestoreClient=void 0,await e}}}function WO(r,e){const n=typeof r=="object"?r:C0(),s=typeof r=="string"?r:Eh,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=g1("firestore");u&&XO(o,...u)}return o}function Hp(r){if(r._terminated)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ZO(r),r._firestoreClient}function ZO(r){var e,n,s;const o=r._freezeSettings(),u=function(m,g,p,E){return new SD(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,VS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(on.fromBase64String(e))}catch(n){throw new pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^__.*__$/;class eN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class LS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function US(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{oc:r})}}class Qp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o.lc(e),o}hc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Oh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(US(this.oc)&&JO.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class tN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}dc(e,n,s,o=!1){return new Qp({oc:e,methodName:n,Ec:s,path:an.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new tN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function zS(r,e,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,e,n,o);Yp("Data must be an object, but it was:",f,s);const m=jS(s,f);let g,p;if(u.merge)g=new zn(f.fieldMask),p=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const I of u.mergeFields){const b=Ym(e,I,n);if(!f.contains(b))throw new pe(ae.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);qS(E,b)||E.push(b)}g=new zn(E),p=f.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,p=f.fieldTransforms;return new eN(new In(m),g,p)}class Jh extends Fp{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function nN(r,e,n,s){const o=r.dc(1,e,n);Yp("Data must be an object, but it was:",o,s);const u=[],f=In.empty();vs(s,(g,p)=>{const E=$p(e,g,n);p=Zt(p);const I=o.hc(E);if(p instanceof Jh)u.push(E);else{const b=Tu(p,I);b!=null&&(u.push(E),f.set(E,b))}});const m=new zn(u);return new LS(f,m,o.fieldTransforms)}function iN(r,e,n,s,o,u){const f=r.dc(1,e,n),m=[Ym(e,s,n)],g=[o];if(u.length%2!=0)throw new pe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)m.push(Ym(e,u[b])),g.push(u[b+1]);const p=[],E=In.empty();for(let b=m.length-1;b>=0;--b)if(!qS(p,m[b])){const M=m[b];let k=g[b];k=Zt(k);const Q=f.hc(M);if(k instanceof Jh)p.push(M);else{const z=Tu(k,Q);z!=null&&(p.push(M),E.set(M,z))}}const I=new zn(p);return new LS(E,I,f.fieldTransforms)}function rN(r,e,n,s=!1){return Tu(n,r.dc(s?4:3,e))}function Tu(r,e){if(BS(r=Zt(r)))return Yp("Unsupported field value:",e,r),jS(r,e);if(r instanceof Fp)return function(s,o){if(!US(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Tu(m,o.Pc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ht.fromDate(s);return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Ht){const u=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(s instanceof Gp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:tS(o.serializer,s._byteString)};if(s instanceof vn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Dp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kp)return function(f,m){return{mapValue:{fields:{[OT]:{stringValue:NT},[Th]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Tc("VectorValues must only contain numeric values.");return wp(m.serializer,p)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${$h(s)}`)}(r,e)}function jS(r,e){const n={};return bT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,(s,o)=>{const u=Tu(o,e.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function BS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ht||r instanceof Gp||r instanceof vo||r instanceof vn||r instanceof Fp||r instanceof Kp)}function Yp(r,e,n){if(!BS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=$h(n);throw s==="an object"?e.Tc(r+" a custom object"):e.Tc(r+" "+s)}}function Ym(r,e,n){if((e=Zt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return $p(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const sN=new RegExp("[~\\*/\\[\\]]");function $p(r,e,n){if(e.search(sN)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new pe(ae.INVALID_ARGUMENT,m+r+g)}function qS(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aN extends HS{data(){return super.data()}}function Xp(r,e){return typeof e=="string"?$p(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}class lN extends Wp{}function mr(r,e,...n){let s=[];e instanceof Wp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Zp).length,m=u.filter(g=>g instanceof ef).length;if(f>1||f>0&&m>0)throw new pe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ef extends lN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ef(e,n,s)}_apply(e){const n=this._parse(e);return FS(e._query,n),new Co(e.firestore,e.converter,Lm(e._query,n))}_parse(e){const n=Zh(e.firestore);return function(u,f,m,g,p,E,I){let b;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){e0(I,E);const k=[];for(const Q of I)k.push(JE(g,u,Q));b={arrayValue:{values:k}}}else b=JE(g,u,I)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||e0(I,E),b=rN(m,f,I,E==="in"||E==="not-in");return Lt.create(p,E,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rn(r,e,n){const s=e,o=Xp("where",r);return ef._create(o,s,n)}class Zp extends Wp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)FS(f,g),f=Lm(f,g)}(e._query,n),new Co(e.firestore,e.converter,Lm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(r,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new pe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(e)&&n.indexOf("/")!==-1)throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(yt.fromString(n));if(!Te.isDocumentKey(s))throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return mE(r,new Te(s))}if(n instanceof vn)return mE(r,n._key);throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function e0(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uN{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Th].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Ot(f.doubleValue));return new Kp(u)}convertGeoPoint(e){return new Gp(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=yt.fromString(e);rt(oS(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||Tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KS extends HS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Xp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class lh extends KS{data(e={}){return super.data(e)}}class cN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:hN(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r){r=mi(r,vn);const e=mi(r.firestore,ca);return QO(Hp(e),r._key).then(n=>fN(e,r,n))}class QS extends uN{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function ci(r){r=mi(r,Co);const e=mi(r.firestore,ca),n=Hp(e),s=new QS(e);return oN(r._query),YO(n,r._query).then(o=>new cN(e,s,r,o))}function Xl(r,e,n){r=mi(r,vn);const s=mi(r.firestore,ca),o=GS(r.converter,e,n);return nf(s,[zS(Zh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ti.none())])}function YS(r,e,n,...s){r=mi(r,vn);const o=mi(r.firestore,ca),u=Zh(o);let f;return f=typeof(e=Zt(e))=="string"||e instanceof Wh?iN(u,"updateDoc",r._key,e,n,s):nN(u,"updateDoc",r._key,e),nf(o,[f.toMutation(r._key,ti.exists(!0))])}function $S(r){return nf(mi(r.firestore,ca),[new Rp(r._key,ti.none())])}function XS(r,e){const n=mi(r.firestore,ca),s=Cn(r),o=GS(r.converter,e);return nf(n,[zS(Zh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ti.exists(!1))]).then(()=>s)}function nf(r,e){return function(s,o){const u=new yr;return s.asyncQueue.enqueueAndForget(async()=>kO(await KO(s),o,u)),u.promise}(Hp(r),e)}function fN(r,e,n){const s=n.docs.get(e._key),o=new QS(r);return new KS(r,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bo=o})(So),ho(new ta("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ca(new sD(s.getProvider("auth-internal")),new lD(f,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(p.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),as(nE,iE,e),as(nE,iE,"esm2017")})();var dN="firebase",mN="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(dN,mN,"app");const pN={apiKey:"AIzaSyDmLqsJTI9o5PDeRPeziwfLC5LgoLlhdds",authDomain:"variyar-1b71e.firebaseapp.com",projectId:"variyar-1b71e",storageBucket:"variyar-1b71e.firebasestorage.app",messagingSenderId:"784254383187",appId:"1:784254383187:web:27c55cd75b8ff07a1b02a6",measurementId:"G-YEGK38KL8L"},WS=I0(pN),ki=tD(WS),gt=WO(WS);async function gN(r,e="student"){const n=Cn(gt,"users",r.uid);await Xl(n,{uid:r.uid,email:r.email,role:e,createdAt:new Date})}const ZS=H.createContext(),Su=()=>H.useContext(ZS),yN=({children:r})=>{const[e,n]=H.useState(null),[s,o]=H.useState(null),[u,f]=H.useState(!0),m=async b=>{try{const M=Cn(gt,"users",b),k=await tf(M);return k.exists()?k.data():(console.warn("User document not found in Firestore."),{role:null})}catch(M){return console.error("Error fetching user data:",M),{role:null}}},g=async(b,M,k="student")=>{try{const Q=await pp(ki,b,M);return await Xl(Cn(gt,"users",Q.user.uid),{email:b,role:k}),Q}catch(Q){throw console.error("Signup error:",Q),Q}},p=async(b,M)=>{try{return await tT(ki,b,M)}catch(k){throw console.error("Login error:",k),k}},E=async()=>{try{await nT(ki)}catch(b){console.error("Logout error:",b)}};H.useEffect(()=>{const b=FI(ki,async M=>{if(n(M),M){const k=await m(M.uid);o(k)}else o(null);f(!1)});return()=>b()},[]);const I={currentUser:e,userData:s,login:p,signup:g,logout:E,loading:u};return $.jsx(ZS.Provider,{value:I,children:!u&&r})};function _N(){const[r,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(""),[f,m]=H.useState(""),{login:g,userData:p,currentUser:E}=Su(),I=gs(),b=r.includes("@"),M=async k=>{k.preventDefault(),m("");try{let Q,z;b?(Q=r.trim(),z=o):(Q=`${r.trim()}@yourdomain.local`,z=n.replace(/-/g,"")),await g(Q,z)}catch(Q){console.error(Q),m("Login failed. Check your credentials.")}};return H.useEffect(()=>{if(!(!p||!E))switch(p.role){case"student":I("/student");break;case"staff":I("/staff");break;case"admin":I("/admin");break}},[p,E]),$.jsxs("div",{className:"container py-4",style:{maxWidth:400},children:[$.jsx("h3",{className:"mb-3",children:"Login"}),$.jsxs("form",{onSubmit:M,children:[f&&$.jsx("div",{className:"alert alert-danger",children:f}),$.jsxs("div",{className:"mb-3",children:[$.jsx("label",{className:"form-label",children:"Email or Application Number"}),$.jsx("input",{type:"text",className:"form-control",placeholder:b?"email@example.com":"e.g. 12345678",value:r,onChange:k=>e(k.target.value.trim()),required:!0})]}),b?$.jsxs("div",{className:"mb-3",children:[$.jsx("label",{className:"form-label",children:"Password"}),$.jsx("input",{type:"password",className:"form-control",placeholder:"Enter password",value:o,onChange:k=>u(k.target.value),required:!0})]}):$.jsxs("div",{className:"mb-3",children:[$.jsx("label",{className:"form-label",children:"Date of Birth"}),$.jsx("input",{type:"date",className:"form-control",value:n,onChange:k=>s(k.target.value),required:!0}),$.jsx("div",{className:"form-text",children:"Students login with App No + DOB"})]}),$.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Log In"})]})]})}function vN(){const[r,e]=H.useState(""),[n,s]=H.useState(""),[o,u]=H.useState(""),f=gs(),m=async g=>{g.preventDefault();try{const p=await pp(ki,r,n);await gN(p.user,"student"),f("/student")}catch(p){u(p.message)}};return $.jsxs("form",{onSubmit:m,children:[o&&$.jsx("p",{children:o}),$.jsx("input",{value:r,onChange:g=>e(g.target.value),placeholder:"Email"}),$.jsx("input",{type:"password",value:n,onChange:g=>s(g.target.value),placeholder:"Password"}),$.jsx("button",{type:"submit",children:"Sign Up"})]})}function EN(){const{currentUser:r,logout:e}=Su(),[n,s]=H.useState([]),[o,u]=H.useState(!0),f=gs(),m=p=>{if(!p)return"";typeof p.toDate=="function"&&(p=p.toDate());const E=new Date(p),I=String(E.getDate()).padStart(2,"0"),b=String(E.getMonth()+1).padStart(2,"0"),M=E.getFullYear();let k=E.getHours();const Q=String(E.getMinutes()).padStart(2,"0"),z=k>=12?"PM":"AM";k=k%12,k=k||12;const G=`${k}:${Q} ${z}`;return`${I}/${b}/${M} - ${G}`};H.useEffect(()=>{if(!r)return;(async()=>{u(!0);const E=r.email.split("@")[0];try{const I=await ci(mr(Un(gt,"registrations"),Rn("studentAppNo","==",E),Rn("allowed","==",!0)));if(I.empty){s([]),u(!1);return}const b=[];for(const M of I.docs){const k=M.data(),Q=k.examId,z=await tf(Cn(gt,"exams",Q));if(!z.exists())continue;const G=z.data(),ne=new Date,U=G.startTime.toDate?G.startTime.toDate():new Date(G.startTime),oe=G.endTime.toDate?G.endTime.toDate():new Date(G.endTime);let le="active";ne<U?le="not_started":ne>oe&&!k.submittedAt&&(le="expired"),k.submittedAt&&(le="submitted"),b.push({id:z.id,title:G.title,startTime:U,endTime:oe,duration:G.duration,status:le,registrationId:M.id,submitted:!!k.submittedAt,submissionTime:k.submittedAt})}s(b)}catch(I){console.error("Error loading exams:",I),alert("Failed to load exams. Please contact support.")}finally{u(!1)}})()},[r]);const g=async()=>{await e(),f("/login")};return $.jsxs("div",{className:"dashboard-container",children:[$.jsxs("div",{className:"dashboard-header",children:[$.jsx("h2",{children:"Available Exams"}),$.jsx("button",{className:"logout-btn",onClick:g,children:"Logout"})]}),o&&$.jsx("p",{className:"status",children:"Loading exams…"}),!o&&n.length===0&&$.jsx("p",{className:"empty",children:"No active exams available at this time."}),$.jsx("ul",{className:"exam-list",children:!o&&n.map(p=>$.jsxs("li",{className:"exam-item",children:[$.jsxs("div",{children:[$.jsx("div",{className:"course-title",children:p.title}),$.jsxs("div",{children:["Starts: ",m(p.startTime),$.jsx("br",{}),"Ends: ",m(p.endTime)]}),p.status==="not_started"&&$.jsx("p",{style:{color:"blue",marginTop:"0.5rem"},children:"Exam not started yet"}),p.status==="expired"&&$.jsx("p",{style:{color:"red",marginTop:"0.5rem"},children:"Time for this exam has expired"}),p.status==="submitted"&&$.jsxs("p",{style:{color:"green",marginTop:"0.5rem"},children:["Exam submitted on"," ",p.submissionTime?m(p.submissionTime):"N/A"]})]}),$.jsx("button",{className:"start-btn",disabled:p.status!=="active",onClick:()=>f(`/exam/${p.id}`),children:p.status==="active"?"Start Exam":"Unavailable"})]},p.id))})]})}var uh={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var TN=uh.exports,t0;function SN(){return t0||(t0=1,function(r,e){((n,s)=>{r.exports=s()})(TN,function n(){var s=typeof self<"u"?self:typeof window<"u"?window:s!==void 0?s:{},o,u=!s.document&&!!s.postMessage,f=s.IS_PAPA_WORKER||!1,m={},g=0,p={};function E(T){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(S){var w=le(S);w.chunkSize=parseInt(w.chunkSize),S.step||S.chunk||(w.chunkSize=null),this._handle=new Q(w),(this._handle.streamer=this)._config=w}).call(this,T),this.parseChunk=function(S,w){var D=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<D){let C=this._config.newline;C||(O=this._config.quoteChar||'"',C=this._handle.guessLineEndings(S,O)),S=[...S.split(C).slice(D)].join(C)}this.isFirstChunk&&N(this._config.beforeFirstChunk)&&(O=this._config.beforeFirstChunk(S))!==void 0&&(S=O),this.isFirstChunk=!1,this._halted=!1;var D=this._partialLine+S,O=(this._partialLine="",this._handle.parse(D,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(S=O.meta.cursor,D=(this._finished||(this._partialLine=D.substring(S-this._baseIndex),this._baseIndex=S),O&&O.data&&(this._rowCount+=O.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),f)s.postMessage({results:O,workerId:p.WORKER_ID,finished:D});else if(N(this._config.chunk)&&!w){if(this._config.chunk(O,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=O=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(O.data),this._completeResults.errors=this._completeResults.errors.concat(O.errors),this._completeResults.meta=O.meta),this._completed||!D||!N(this._config.complete)||O&&O.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),D||O&&O.meta.paused||this._nextChunk(),O}this._halted=!0},this._sendError=function(S){N(this._config.error)?this._config.error(S):f&&this._config.error&&s.postMessage({workerId:p.WORKER_ID,error:S,finished:!1})}}function I(T){var S;(T=T||{}).chunkSize||(T.chunkSize=p.RemoteChunkSize),E.call(this,T),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),u||(S.onload=fe(this._chunkLoaded,this),S.onerror=fe(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var w,D=this._config.downloadRequestHeaders;for(w in D)S.setRequestHeader(w,D[w])}var O;this._config.chunkSize&&(O=this._start+this._config.chunkSize-1,S.setRequestHeader("Range","bytes="+this._start+"-"+O));try{S.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}u&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize||S.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(S),this.parseChunk(S.responseText)))},this._chunkError=function(w){w=S.statusText||w,this._sendError(new Error(w))}}function b(T){(T=T||{}).chunkSize||(T.chunkSize=p.LocalChunkSize),E.call(this,T);var S,w,D=typeof FileReader<"u";this.stream=function(O){this._input=O,w=O.slice||O.webkitSlice||O.mozSlice,D?((S=new FileReader).onload=fe(this._chunkLoaded,this),S.onerror=fe(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),O=w.call(O,this._start,C)),S.readAsText(O,this._config.encoding));D||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(S.error)}}function M(T){var S;E.call(this,T=T||{}),this.stream=function(w){return S=w,this._nextChunk()},this._nextChunk=function(){var w,D;if(!this._finished)return w=this._config.chunkSize,S=w?(D=S.substring(0,w),S.substring(w)):(D=S,""),this._finished=!S,this.parseChunk(D)}}function k(T){E.call(this,T=T||{});var S=[],w=!0,D=!1;this.pause=function(){E.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){E.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){D&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):w=!0},this._streamData=fe(function(O){try{S.push(typeof O=="string"?O:O.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(C){this._streamError(C)}},this),this._streamError=fe(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=fe(function(){this._streamCleanUp(),D=!0,this._streamData("")},this),this._streamCleanUp=fe(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Q(T){var S,w,D,O,C=Math.pow(2,53),ke=-C,Ue=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,W=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,te=this,he=0,ue=0,V=!1,Y=!1,ie=[],X={data:[],errors:[],meta:{}};function de(_e){return T.skipEmptyLines==="greedy"?_e.join("").trim()==="":_e.length===1&&_e[0].length===0}function ve(){if(X&&D&&(Je("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),D=!1),T.skipEmptyLines&&(X.data=X.data.filter(function(Xe){return!de(Xe)})),ge()){let Xe=function(dt,We){N(T.transformHeader)&&(dt=T.transformHeader(dt,We)),ie.push(dt)};var Ie=Xe;if(X)if(Array.isArray(X.data[0])){for(var _e=0;ge()&&_e<X.data.length;_e++)X.data[_e].forEach(Xe);X.data.splice(0,1)}else X.data.forEach(Xe)}function Ne(Xe,dt){for(var We=T.header?{}:[],Fe=0;Fe<Xe.length;Fe++){var xe=Fe,st=Xe[Fe],st=((Ge,nt)=>(mt=>(T.dynamicTypingFunction&&T.dynamicTyping[mt]===void 0&&(T.dynamicTyping[mt]=T.dynamicTypingFunction(mt)),(T.dynamicTyping[mt]||T.dynamicTyping)===!0))(Ge)?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&((mt=>{if(Ue.test(mt)&&(mt=parseFloat(mt),ke<mt&&mt<C))return 1})(nt)?parseFloat(nt):W.test(nt)?new Date(nt):nt===""?null:nt):nt)(xe=T.header?Fe>=ie.length?"__parsed_extra":ie[Fe]:xe,st=T.transform?T.transform(st,xe):st);xe==="__parsed_extra"?(We[xe]=We[xe]||[],We[xe].push(st)):We[xe]=st}return T.header&&(Fe>ie.length?Je("FieldMismatch","TooManyFields","Too many fields: expected "+ie.length+" fields but parsed "+Fe,ue+dt):Fe<ie.length&&Je("FieldMismatch","TooFewFields","Too few fields: expected "+ie.length+" fields but parsed "+Fe,ue+dt)),We}var et;X&&(T.header||T.dynamicTyping||T.transform)&&(et=1,!X.data.length||Array.isArray(X.data[0])?(X.data=X.data.map(Ne),et=X.data.length):X.data=Ne(X.data,0),T.header&&X.meta&&(X.meta.fields=ie),ue+=et)}function ge(){return T.header&&ie.length===0}function Je(_e,Ne,et,Ie){_e={type:_e,code:Ne,message:et},Ie!==void 0&&(_e.row=Ie),X.errors.push(_e)}N(T.step)&&(O=T.step,T.step=function(_e){X=_e,ge()?ve():(ve(),X.data.length!==0&&(he+=_e.data.length,T.preview&&he>T.preview?w.abort():(X.data=X.data[0],O(X,te))))}),this.parse=function(_e,Ne,et){var Ie=T.quoteChar||'"',Ie=(T.newline||(T.newline=this.guessLineEndings(_e,Ie)),D=!1,T.delimiter?N(T.delimiter)&&(T.delimiter=T.delimiter(_e),X.meta.delimiter=T.delimiter):((Ie=((Xe,dt,We,Fe,xe)=>{var st,Ge,nt,mt;xe=xe||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var En=0;En<xe.length;En++){for(var Tn,jn=xe[En],bt=0,mn=0,Me=0,De=(nt=void 0,new G({comments:Fe,delimiter:jn,newline:dt,preview:10}).parse(Xe)),Tt=0;Tt<De.data.length;Tt++)We&&de(De.data[Tt])?Me++:(Tn=De.data[Tt].length,mn+=Tn,nt===void 0?nt=Tn:0<Tn&&(bt+=Math.abs(Tn-nt),nt=Tn));0<De.data.length&&(mn/=De.data.length-Me),(Ge===void 0||bt<=Ge)&&(mt===void 0||mt<mn)&&1.99<mn&&(Ge=bt,st=jn,mt=mn)}return{successful:!!(T.delimiter=st),bestDelimiter:st}})(_e,T.newline,T.skipEmptyLines,T.comments,T.delimitersToGuess)).successful?T.delimiter=Ie.bestDelimiter:(D=!0,T.delimiter=p.DefaultDelimiter),X.meta.delimiter=T.delimiter),le(T));return T.preview&&T.header&&Ie.preview++,S=_e,w=new G(Ie),X=w.parse(S,Ne,et),ve(),V?{meta:{paused:!0}}:X||{meta:{paused:!1}}},this.paused=function(){return V},this.pause=function(){V=!0,w.abort(),S=N(T.chunk)?"":S.substring(w.getCharIndex())},this.resume=function(){te.streamer._halted?(V=!1,te.streamer.parseChunk(S,!0)):setTimeout(te.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,w.abort(),X.meta.aborted=!0,N(T.complete)&&T.complete(X),S=""},this.guessLineEndings=function(Xe,Ie){Xe=Xe.substring(0,1048576);var Ie=new RegExp(z(Ie)+"([^]*?)"+z(Ie),"gm"),et=(Xe=Xe.replace(Ie,"")).split("\r"),Ie=Xe.split(`
`),Xe=1<Ie.length&&Ie[0].length<et[0].length;if(et.length===1||Xe)return`
`;for(var dt=0,We=0;We<et.length;We++)et[We][0]===`
`&&dt++;return dt>=et.length/2?`\r
`:"\r"}}function z(T){return T.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G(T){var S=(T=T||{}).delimiter,w=T.newline,D=T.comments,O=T.step,C=T.preview,ke=T.fastMode,Ue=null,W=!1,te=T.quoteChar==null?'"':T.quoteChar,he=te;if(T.escapeChar!==void 0&&(he=T.escapeChar),(typeof S!="string"||-1<p.BAD_DELIMITERS.indexOf(S))&&(S=","),D===S)throw new Error("Comment character same as delimiter");D===!0?D="#":(typeof D!="string"||-1<p.BAD_DELIMITERS.indexOf(D))&&(D=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var ue=0,V=!1;this.parse=function(Y,ie,X){if(typeof Y!="string")throw new Error("Input must be a string");var de=Y.length,ve=S.length,ge=w.length,Je=D.length,_e=N(O),Ne=[],et=[],Ie=[],Xe=ue=0;if(!Y)return bt();if(ke||ke!==!1&&Y.indexOf(te)===-1){for(var dt=Y.split(w),We=0;We<dt.length;We++){if(Ie=dt[We],ue+=Ie.length,We!==dt.length-1)ue+=w.length;else if(X)return bt();if(!D||Ie.substring(0,Je)!==D){if(_e){if(Ne=[],mt(Ie.split(S)),mn(),V)return bt()}else mt(Ie.split(S));if(C&&C<=We)return Ne=Ne.slice(0,C),bt(!0)}}return bt()}for(var Fe=Y.indexOf(S,ue),xe=Y.indexOf(w,ue),st=new RegExp(z(he)+z(te),"g"),Ge=Y.indexOf(te,ue);;)if(Y[ue]===te)for(Ge=ue,ue++;;){if((Ge=Y.indexOf(te,Ge+1))===-1)return X||et.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:ue}),Tn();if(Ge===de-1)return Tn(Y.substring(ue,Ge).replace(st,te));if(te===he&&Y[Ge+1]===he)Ge++;else if(te===he||Ge===0||Y[Ge-1]!==he){Fe!==-1&&Fe<Ge+1&&(Fe=Y.indexOf(S,Ge+1));var nt=En((xe=xe!==-1&&xe<Ge+1?Y.indexOf(w,Ge+1):xe)===-1?Fe:Math.min(Fe,xe));if(Y.substr(Ge+1+nt,ve)===S){Ie.push(Y.substring(ue,Ge).replace(st,te)),Y[ue=Ge+1+nt+ve]!==te&&(Ge=Y.indexOf(te,ue)),Fe=Y.indexOf(S,ue),xe=Y.indexOf(w,ue);break}if(nt=En(xe),Y.substring(Ge+1+nt,Ge+1+nt+ge)===w){if(Ie.push(Y.substring(ue,Ge).replace(st,te)),jn(Ge+1+nt+ge),Fe=Y.indexOf(S,ue),Ge=Y.indexOf(te,ue),_e&&(mn(),V))return bt();if(C&&Ne.length>=C)return bt(!0);break}et.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:ue}),Ge++}}else if(D&&Ie.length===0&&Y.substring(ue,ue+Je)===D){if(xe===-1)return bt();ue=xe+ge,xe=Y.indexOf(w,ue),Fe=Y.indexOf(S,ue)}else if(Fe!==-1&&(Fe<xe||xe===-1))Ie.push(Y.substring(ue,Fe)),ue=Fe+ve,Fe=Y.indexOf(S,ue);else{if(xe===-1)break;if(Ie.push(Y.substring(ue,xe)),jn(xe+ge),_e&&(mn(),V))return bt();if(C&&Ne.length>=C)return bt(!0)}return Tn();function mt(Me){Ne.push(Me),Xe=ue}function En(Me){var De=0;return De=Me!==-1&&(Me=Y.substring(Ge+1,Me))&&Me.trim()===""?Me.length:De}function Tn(Me){return X||(Me===void 0&&(Me=Y.substring(ue)),Ie.push(Me),ue=de,mt(Ie),_e&&mn()),bt()}function jn(Me){ue=Me,mt(Ie),Ie=[],xe=Y.indexOf(w,ue)}function bt(Me){if(T.header&&!ie&&Ne.length&&!W){var De=Ne[0],Tt=Object.create(null),Nt=new Set(De);let Ts=!1;for(let gi=0;gi<De.length;gi++){let Gt=De[gi];if(Tt[Gt=N(T.transformHeader)?T.transformHeader(Gt,gi):Gt]){let Dn,yi=Tt[Gt];for(;Dn=Gt+"_"+yi,yi++,Nt.has(Dn););Nt.add(Dn),De[gi]=Dn,Tt[Gt]++,Ts=!0,(Ue=Ue===null?{}:Ue)[Dn]=Gt}else Tt[Gt]=1,De[gi]=Gt;Nt.add(Gt)}Ts&&console.warn("Duplicate headers found and renamed."),W=!0}return{data:Ne,errors:et,meta:{delimiter:S,linebreak:w,aborted:V,truncated:!!Me,cursor:Xe+(ie||0),renamedHeaders:Ue}}}function mn(){O(bt()),Ne=[],et=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return ue}}function ne(T){var S=T.data,w=m[S.workerId],D=!1;if(S.error)w.userError(S.error,S.file);else if(S.results&&S.results.data){var O={abort:function(){D=!0,U(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:oe,resume:oe};if(N(w.userStep)){for(var C=0;C<S.results.data.length&&(w.userStep({data:S.results.data[C],errors:S.results.errors,meta:S.results.meta},O),!D);C++);delete S.results}else N(w.userChunk)&&(w.userChunk(S.results,O,S.file),delete S.results)}S.finished&&!D&&U(S.workerId,S.results)}function U(T,S){var w=m[T];N(w.userComplete)&&w.userComplete(S),w.terminate(),delete m[T]}function oe(){throw new Error("Not implemented.")}function le(T){if(typeof T!="object"||T===null)return T;var S,w=Array.isArray(T)?[]:{};for(S in T)w[S]=le(T[S]);return w}function fe(T,S){return function(){T.apply(S,arguments)}}function N(T){return typeof T=="function"}return p.parse=function(T,S){var w=(S=S||{}).dynamicTyping||!1;if(N(w)&&(S.dynamicTypingFunction=w,w={}),S.dynamicTyping=w,S.transform=!!N(S.transform)&&S.transform,!S.worker||!p.WORKERS_SUPPORTED)return w=null,p.NODE_STREAM_INPUT,typeof T=="string"?(T=(D=>D.charCodeAt(0)!==65279?D:D.slice(1))(T),w=new(S.download?I:M)(S)):T.readable===!0&&N(T.read)&&N(T.on)?w=new k(S):(s.File&&T instanceof File||T instanceof Object)&&(w=new b(S)),w.stream(T);(w=(()=>{var D;return!!p.WORKERS_SUPPORTED&&(D=(()=>{var O=s.URL||s.webkitURL||null,C=n.toString();return p.BLOB_URL||(p.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(D=new s.Worker(D)).onmessage=ne,D.id=g++,m[D.id]=D)})()).userStep=S.step,w.userChunk=S.chunk,w.userComplete=S.complete,w.userError=S.error,S.step=N(S.step),S.chunk=N(S.chunk),S.complete=N(S.complete),S.error=N(S.error),delete S.worker,w.postMessage({input:T,config:S,workerId:w.id})},p.unparse=function(T,S){var w=!1,D=!0,O=",",C=`\r
`,ke='"',Ue=ke+ke,W=!1,te=null,he=!1,ue=((()=>{if(typeof S=="object"){if(typeof S.delimiter!="string"||p.BAD_DELIMITERS.filter(function(ie){return S.delimiter.indexOf(ie)!==-1}).length||(O=S.delimiter),typeof S.quotes!="boolean"&&typeof S.quotes!="function"&&!Array.isArray(S.quotes)||(w=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(W=S.skipEmptyLines),typeof S.newline=="string"&&(C=S.newline),typeof S.quoteChar=="string"&&(ke=S.quoteChar),typeof S.header=="boolean"&&(D=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");te=S.columns}S.escapeChar!==void 0&&(Ue=S.escapeChar+ke),S.escapeFormulae instanceof RegExp?he=S.escapeFormulae:typeof S.escapeFormulae=="boolean"&&S.escapeFormulae&&(he=/^[=+\-@\t\r].*$/)}})(),new RegExp(z(ke),"g"));if(typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(T)){if(!T.length||Array.isArray(T[0]))return V(null,T,W);if(typeof T[0]=="object")return V(te||Object.keys(T[0]),T,W)}else if(typeof T=="object")return typeof T.data=="string"&&(T.data=JSON.parse(T.data)),Array.isArray(T.data)&&(T.fields||(T.fields=T.meta&&T.meta.fields||te),T.fields||(T.fields=Array.isArray(T.data[0])?T.fields:typeof T.data[0]=="object"?Object.keys(T.data[0]):[]),Array.isArray(T.data[0])||typeof T.data[0]=="object"||(T.data=[T.data])),V(T.fields||[],T.data||[],W);throw new Error("Unable to serialize unrecognized input");function V(ie,X,de){var ve="",ge=(typeof ie=="string"&&(ie=JSON.parse(ie)),typeof X=="string"&&(X=JSON.parse(X)),Array.isArray(ie)&&0<ie.length),Je=!Array.isArray(X[0]);if(ge&&D){for(var _e=0;_e<ie.length;_e++)0<_e&&(ve+=O),ve+=Y(ie[_e],_e);0<X.length&&(ve+=C)}for(var Ne=0;Ne<X.length;Ne++){var et=(ge?ie:X[Ne]).length,Ie=!1,Xe=ge?Object.keys(X[Ne]).length===0:X[Ne].length===0;if(de&&!ge&&(Ie=de==="greedy"?X[Ne].join("").trim()==="":X[Ne].length===1&&X[Ne][0].length===0),de==="greedy"&&ge){for(var dt=[],We=0;We<et;We++){var Fe=Je?ie[We]:We;dt.push(X[Ne][Fe])}Ie=dt.join("").trim()===""}if(!Ie){for(var xe=0;xe<et;xe++){0<xe&&!Xe&&(ve+=O);var st=ge&&Je?ie[xe]:xe;ve+=Y(X[Ne][st],xe)}Ne<X.length-1&&(!de||0<et&&!Xe)&&(ve+=C)}}return ve}function Y(ie,X){var de,ve;return ie==null?"":ie.constructor===Date?JSON.stringify(ie).slice(1,25):(ve=!1,he&&typeof ie=="string"&&he.test(ie)&&(ie="'"+ie,ve=!0),de=ie.toString().replace(ue,Ue),(ve=ve||w===!0||typeof w=="function"&&w(ie,X)||Array.isArray(w)&&w[X]||((ge,Je)=>{for(var _e=0;_e<Je.length;_e++)if(-1<ge.indexOf(Je[_e]))return!0;return!1})(de,p.BAD_DELIMITERS)||-1<de.indexOf(O)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?ke+de+ke:de)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!u&&!!s.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=G,p.ParserHandle=Q,p.NetworkStreamer=I,p.FileStreamer=b,p.StringStreamer=M,p.ReadableStreamStreamer=k,s.jQuery&&((o=s.jQuery).fn.parse=function(T){var S=T.config||{},w=[];return this.each(function(C){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&s.FileReader)||!this.files||this.files.length===0)return!0;for(var ke=0;ke<this.files.length;ke++)w.push({file:this.files[ke],inputElem:this,instanceConfig:o.extend({},S)})}),D(),this;function D(){if(w.length===0)N(T.complete)&&T.complete();else{var C,ke,Ue,W,te=w[0];if(N(T.before)){var he=T.before(te.file,te.inputElem);if(typeof he=="object"){if(he.action==="abort")return C="AbortError",ke=te.file,Ue=te.inputElem,W=he.reason,void(N(T.error)&&T.error({name:C},ke,Ue,W));if(he.action==="skip")return void O();typeof he.config=="object"&&(te.instanceConfig=o.extend(te.instanceConfig,he.config))}else if(he==="skip")return void O()}var ue=te.instanceConfig.complete;te.instanceConfig.complete=function(V){N(ue)&&ue(V,te.file,te.inputElem),O()},p.parse(te.file,te.instanceConfig)}}function O(){w.splice(0,1),D()}}),f&&(s.onmessage=function(T){T=T.data,p.WORKER_ID===void 0&&T&&(p.WORKER_ID=T.workerId),typeof T.input=="string"?s.postMessage({workerId:p.WORKER_ID,results:p.parse(T.input,T.config),finished:!0}):(s.File&&T.input instanceof File||T.input instanceof Object)&&(T=p.parse(T.input,T.config))&&s.postMessage({workerId:p.WORKER_ID,results:T,finished:!0})}),(I.prototype=Object.create(E.prototype)).constructor=I,(b.prototype=Object.create(E.prototype)).constructor=b,(M.prototype=Object.create(M.prototype)).constructor=M,(k.prototype=Object.create(E.prototype)).constructor=k,p})}(uh)),uh.exports}var AN=SN();const bN=$m(AN);function wN(){const{currentUser:r,logout:e,userData:n}=Su(),[s,o]=H.useState([]),[u,f]=H.useState(!0),[m,g]=H.useState(null),[p,E]=H.useState({}),[I,b]=H.useState(!1),M=gs(),k=U=>{if(!U)return"";typeof U.toDate=="function"&&(U=U.toDate());const oe=new Date(U),le=String(oe.getDate()).padStart(2,"0"),fe=String(oe.getMonth()+1).padStart(2,"0"),N=oe.getFullYear();let T=oe.getHours();const S=String(oe.getMinutes()).padStart(2,"0"),w=T>=12?"PM":"AM";T=T%12,T=T||12;const D=`${T}:${S} ${w}`;return`${le}/${fe}/${N} - ${D}`};H.useEffect(()=>{if(!r||(n==null?void 0:n.role)!=="admin"){M("/login");return}(async()=>{f(!0);const oe=mr(Un(gt,"exams"),Rn("createdBy","==",r.uid)),le=await ci(oe);o(le.docs.map(fe=>({id:fe.id,...fe.data()}))),f(!1)})()},[r,n,M]);const Q=async U=>{U.preventDefault();const{title:oe,startTime:le,endTime:fe,duration:N}=U.target.elements,T={title:oe.value,startTime:new Date(le.value),endTime:new Date(fe.value),duration:Number(N.value),createdBy:r.uid},S=U.target;S.dataset.editId?(await YS(Cn(gt,"exams",S.dataset.editId),T),delete S.dataset.editId):await XS(Un(gt,"exams"),T),S.reset();const w=mr(Un(gt,"exams"),Rn("createdBy","==",r.uid)),D=await ci(w);o(D.docs.map(O=>({id:O.id,...O.data()})))},z=async U=>{window.confirm("Are you sure you want to delete this exam?")&&(await $S(Cn(gt,"exams",U)),o(le=>le.filter(fe=>fe.id!==U)))},G=(U,oe)=>{if(!U)return;b(!0),E(N=>({...N,[oe]:[]}));const le=r.email,fe=prompt("Enter your admin password to continue import:");if(!fe){alert("Import cancelled - admin password required"),b(!1);return}bN.parse(U,{header:!0,skipEmptyLines:!0,complete:async({data:N})=>{const T=[];for(const S of N){const w=String(S.applicationNumber).trim(),D=String(S.DOB).trim();if(!w||!D){T.push(`❌ [${w}] Missing applicationNumber or DOB`);continue}const O=D.split(/[-/]/);if(O.length!==3){T.push(`❌ [${w}] Invalid DOB "${D}"`);continue}let[C,ke,Ue]=O.map(ue=>ue.padStart(2,"0"));const W=`${Ue}-${ke}-${C}`,te=`${Ue}${ke}${C}`,he=`${w}@yourdomain.local`;try{const ue=await ci(mr(Un(gt,"users"),Rn("applicationNumber","==",w)));let V=null;ue.empty?(V=(await pp(ki,he,te)).user.uid,await nT(ki),await tT(ki,le,fe),await Xl(Cn(gt,"users",V),{uid:V,email:he,role:"student",applicationNumber:w,dob:W,createdAt:new Date}),T.push(`✅ [${w}] Student created`)):(V=ue.docs[0].id,T.push(`ℹ️ [${w}] Student exists in Firestore`),await Xl(Cn(gt,"users",V),{uid:V,email:he,role:"student",applicationNumber:w,dob:W},{merge:!0})),await Xl(Cn(gt,"registrations",`${oe}_${w}`),{examId:oe,studentId:V,studentAppNo:w,DOB:D,allowed:!0}),T.push(`✅ [${w}] Registered for exam`)}catch(ue){T.push(`❌ [${w}] Error: ${ue.message||ue.code}`)}}E(S=>({...S,[oe]:T})),b(!1),g(null),alert("CSV import completed. Check logs for details.")}})},ne=async()=>{await e(),M("/login")};return u?$.jsx("div",{children:"Loading…"}):$.jsxs("div",{className:"dashboard-container",children:[$.jsxs("div",{className:"dashboard-header",children:[$.jsx("h2",{children:"Your Exams"}),$.jsx("button",{className:"logout-btn",onClick:ne,children:"Logout"})]}),$.jsxs("form",{className:"exam-form",onSubmit:Q,children:[$.jsx("input",{name:"title",placeholder:"Title",required:!0}),$.jsx("input",{name:"startTime",type:"datetime-local",required:!0}),$.jsx("input",{name:"endTime",type:"datetime-local",required:!0}),$.jsx("input",{name:"duration",type:"number",placeholder:"Duration (mins)",required:!0}),$.jsx("button",{type:"submit",children:"Save Exam"})]}),s.length===0&&$.jsx("p",{children:"No exams created yet."}),s.map(U=>$.jsxs("div",{className:"exam-card",children:[$.jsx("h4",{children:U.title}),$.jsxs("p",{children:[k((U.startTime.seconds,U.startTime))," ","to ",k((U.endTime.seconds,U.endTime))]}),$.jsxs("p",{children:["Duration: ",U.duration," mins"]}),$.jsxs("div",{className:"exam-buttons",children:[$.jsx("button",{onClick:()=>{const oe=document.querySelector("form");oe.title.value=U.title;let le=U.startTime.seconds?new Date(U.startTime.seconds*1e3):new Date(U.startTime),fe=U.endTime.seconds?new Date(U.endTime.seconds*1e3):new Date(U.endTime);oe.startTime.value=le.toISOString().slice(0,16),oe.endTime.value=fe.toISOString().slice(0,16),oe.duration.value=U.duration,oe.dataset.editId=U.id},children:"Edit"}),$.jsx("button",{onClick:()=>z(U.id),children:"Delete"}),$.jsx("button",{onClick:()=>g(m===U.id?null:U.id),disabled:I,children:m===U.id?"Cancel CSV":"Import Students"}),$.jsx("button",{onClick:()=>M(`/admin/results/${U.id}`),children:"View Submissions"}),$.jsx("button",{onClick:()=>M(`/admin/exam/${U.id}/questions`),children:"Manage Questions"})]}),m===U.id&&$.jsxs("div",{children:[$.jsx("input",{type:"file",accept:".csv",onChange:oe=>G(oe.target.files[0],U.id)}),I&&$.jsx("span",{children:"Importing…"})]}),p[U.id]&&p[U.id].length>0&&$.jsx("ul",{className:"logs",children:p[U.id].map((oe,le)=>$.jsx("li",{children:oe},le))})]},U.id))]})}function RN(){const{examId:r}=ep(),[e,n]=H.useState([]),[s,o]=H.useState({}),[u,f]=H.useState(!0),[m,g]=H.useState(0),[p,E]=H.useState(!1),[I,b]=H.useState(!1),M=gs();H.useEffect(()=>{(async()=>{try{const ne=await tf(Cn(gt,"exams",r));if(!ne.exists()){alert("Exam not found!"),M("/student");return}const U=ne.data();g(U.duration*60);const le=(await ci(Un(gt,`exams/${r}/questions`))).docs.map(D=>({id:D.id,...D.data()}));n(le);const fe=ki.currentUser;if(!fe)throw new Error("No logged in user");const N=await ci(mr(Un(gt,"registrations"),Rn("examId","==",r),Rn("studentId","==",fe.uid)));let T=null;if(!N.empty)T=N.docs[0];else{const D=fe.email.split("@")[0],O=await ci(mr(Un(gt,"registrations"),Rn("examId","==",r),Rn("studentAppNo","==",D)));O.empty||(T=O.docs[0])}if(!T){alert("You are not registered for this exam."),M("/student");return}T.data().submittedAt&&(E(!0),b(!0));const S=new Date,w=U.endTime.toDate?U.endTime.toDate():new Date(U.endTime);S>w&&!T.data().submittedAt&&(b(!0),alert("Time for this exam has expired. You cannot submit."))}catch(ne){console.error("Error fetching exam data or registration:",ne),alert("Error loading exam data."),M("/student")}finally{f(!1)}})()},[r,M]),H.useEffect(()=>{if(m<=0){!u&&!p&&!I&&Q();return}const G=setInterval(()=>g(ne=>ne-1),1e3);return()=>clearInterval(G)},[m,u,p,I]);const k=(G,ne)=>{o(U=>({...U,[G]:ne}))},Q=async()=>{if(p||I){alert("You have already submitted this exam or submission is blocked.");return}const G=ki.currentUser;if(!G){alert("No logged in user");return}try{console.log("Submitting exam for user:",G.uid),console.log("Answers:",s);let ne=0;e.forEach(le=>{const fe=s[le.id];Number(fe)===Number(le.correctIndex)&&ne++});let U=null;const oe=await ci(mr(Un(gt,"registrations"),Rn("examId","==",r),Rn("studentId","==",G.uid)));if(!oe.empty)U=oe.docs[0];else{const le=G.email.split("@")[0],fe=await ci(mr(Un(gt,"registrations"),Rn("examId","==",r),Rn("studentAppNo","==",le)));fe.empty||(U=fe.docs[0])}if(!U){alert("Registration not found.");return}if(U.data().submittedAt){E(!0),alert("You have already submitted this exam.");return}await YS(Cn(gt,"registrations",U.id),{answers:s,score:ne,submittedAt:new Date}),E(!0),alert("Exam submitted successfully!"),M("/student")}catch(ne){console.error("Submission failed:",ne),alert("Error submitting exam: "+ne.message)}};if(u)return $.jsx("p",{children:"Loading questions..."});const z=G=>{const ne=Math.floor(G/60),U=G%60;return`${String(ne).padStart(2,"0")}:${String(U).padStart(2,"0")}`};return $.jsxs("div",{className:"container py-4",children:[$.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[$.jsx("h2",{children:"Exam"}),$.jsxs("h4",{className:"text-danger",children:["Time Left: ",z(m)]})]}),p&&$.jsx("div",{style:{backgroundColor:"#d4edda",padding:"10px",marginBottom:"15px",borderRadius:"5px",color:"#155724"},children:"You have already submitted this exam. Thank you!"}),e.map((G,ne)=>$.jsxs("div",{className:"mb-4",children:[$.jsxs("h5",{children:[ne+1,". ",G.question]}),G.options.map((U,oe)=>$.jsx("div",{children:$.jsxs("label",{children:[$.jsx("input",{type:"radio",name:G.id,value:oe,checked:s[G.id]===oe,onChange:()=>k(G.id,oe),disabled:p||I})," ",U]})},oe))]},G.id)),$.jsx("button",{className:"btn btn-primary mt-3",onClick:Q,disabled:p||I,children:"Submit Exam"})]})}function IN({examId:r,onQuestionAdded:e}){const[n,s]=H.useState(""),[o,u]=H.useState(["","","",""]),[f,m]=H.useState(0),g=async p=>{p.preventDefault(),await XS(Un(gt,`exams/${r}/questions`),{question:n,options:o,correctIndex:f,createdAt:new Date}),s(""),u(["","","",""]),m(0),e()};return $.jsxs("form",{onSubmit:g,style:{marginTop:12},children:[$.jsx("div",{children:$.jsx("input",{className:"form-control mb-2",placeholder:"Question text",value:n,onChange:p=>s(p.target.value),required:!0})}),o.map((p,E)=>$.jsxs("div",{className:"input-group mb-2",children:[$.jsx("span",{className:"input-group-text",children:$.jsx("input",{type:"radio",name:"correct",checked:f===E,onChange:()=>m(E)})}),$.jsx("input",{className:"form-control",placeholder:`Option ${E+1}`,value:p,onChange:I=>u(b=>{const M=[...b];return M[E]=I.target.value,M}),required:!0})]},E)),$.jsx("button",{className:"btn btn-sm btn-primary",children:"Add Question"})]})}function CN({examId:r}){const[e,n]=H.useState([]),s=async()=>{const u=await ci(Un(gt,`exams/${r}/questions`));n(u.docs.map(f=>({id:f.id,...f.data()})))};H.useEffect(()=>{s()},[r]);const o=async u=>{await $S(Cn(gt,`exams/${r}/questions/${u}`)),s()};return $.jsx("div",{style:{marginTop:12},children:e.map(u=>$.jsxs("div",{className:"border p-2 mb-2",children:[$.jsx("strong",{children:u.question}),$.jsx("ul",{children:u.options.map((f,m)=>$.jsx("li",{style:{fontWeight:m===u.correctIndex?"bold":"normal"},children:f},m))}),$.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>o(u.id),children:"Delete"})]},u.id))})}function DN(){const{examId:r}=ep(),e=gs(),[n,s]=H.useState(!1),o=()=>s(!n);return $.jsxs("div",{className:"container py-3",children:[$.jsx("button",{className:"btn btn-link mb-3",onClick:()=>e("/staff/dashboard"),children:"← Back to Dashboard"}),$.jsx("h3",{children:"Manage Questions for Exam"}),$.jsx(IN,{examId:r,onQuestionAdded:o}),$.jsx(CN,{examId:r},n)]})}function ON(){const{examId:r}=ep(),[e,n]=H.useState([]),[s,o]=H.useState(!0),[u,f]=H.useState(""),m=g=>{if(!g)return"N/A";const p=g.toDate?g.toDate():new Date(g),E=String(p.getDate()).padStart(2,"0"),I=String(p.getMonth()+1).padStart(2,"0"),b=p.getFullYear();let M=p.getHours();const k=String(p.getMinutes()).padStart(2,"0"),Q=M>=12?"PM":"AM";return M=M%12||12,`${E}/${I}/${b} ${M}:${k} ${Q}`};return H.useEffect(()=>{const g=async()=>{try{const E=await tf(Cn(gt,"exams",r));E.exists()&&f(E.data().title||"")}catch(E){console.error("Failed to fetch exam name:",E)}},p=async()=>{try{const E=mr(Un(gt,"registrations"),Rn("examId","==",r)),b=(await ci(E)).docs.map(M=>({id:M.id,...M.data()}));n(b)}catch(E){console.error("Failed to fetch submissions:",E)}finally{o(!1)}};g(),p()},[r]),s?$.jsx("p",{children:"Loading submissions..."}):e.length?$.jsxs("div",{className:"container",children:[$.jsxs("h2",{children:["Submissions for Exam: ",u||r]}),$.jsxs("table",{className:"table",children:[$.jsx("thead",{children:$.jsxs("tr",{children:[$.jsx("th",{children:"Student Application Number"}),$.jsx("th",{children:"Score"}),$.jsx("th",{children:"Submitted At"})]})}),$.jsx("tbody",{children:e.map(({id:g,studentAppNo:p,score:E,submittedAt:I})=>$.jsxs("tr",{children:[$.jsx("td",{children:p}),$.jsx("td",{children:E??"Not graded"}),$.jsx("td",{children:I?m(I):"Not submitted"})]},g))})]})]}):$.jsx("p",{children:"No submissions found for this exam."})}function NN(){const{userData:r,loading:e}=Su();if(e)return $.jsx("div",{children:"Loading..."});if(!r||!r.role)return $.jsx(so,{to:"/login",replace:!0});switch(r.role){case"student":return $.jsx(so,{to:"/student",replace:!0});case"admin":return $.jsx(so,{to:"/admin",replace:!0});default:return $.jsx(so,{to:"/login",replace:!0})}}const n0=({allowedRoles:r})=>{const{currentUser:e,userData:n,loading:s}=Su();return s?$.jsx("div",{children:"Loading..."}):!e||!r.includes(n==null?void 0:n.role)?$.jsx(so,{to:"/login"}):$.jsx(Rw,{})};function xN(){return $.jsx(Zw,{children:$.jsxs(Cw,{children:[$.jsx(Jn,{path:"/",element:$.jsx(NN,{})}),$.jsx(Jn,{path:"/login",element:$.jsx(_N,{})}),$.jsx(Jn,{path:"/signup",element:$.jsx(vN,{})}),$.jsxs(Jn,{element:$.jsx(n0,{allowedRoles:["student"]}),children:[$.jsx(Jn,{path:"/student",element:$.jsx(EN,{})}),$.jsx(Jn,{path:"/exam/:examId",element:$.jsx(RN,{})})]}),$.jsxs(Jn,{element:$.jsx(n0,{allowedRoles:["admin"]}),children:[$.jsx(Jn,{path:"/admin",element:$.jsx(wN,{})}),$.jsx(Jn,{path:"/admin/exam/:examId/questions",element:$.jsx(DN,{})}),$.jsx(Jn,{path:"/admin/results/:examId",element:$.jsx(ON,{})})]}),$.jsx(Jn,{path:"*",element:$.jsx(so,{to:"/",replace:!0})})]})})}Vb.createRoot(document.getElementById("root")).render($.jsx(Rb.StrictMode,{children:$.jsx(yN,{children:$.jsx(xN,{})})}));
