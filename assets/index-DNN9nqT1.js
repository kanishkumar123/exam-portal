(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function eT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function _w(){if(lv)return Il;lv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var uv;function vw(){return uv||(uv=1,Xd.exports=_w()),Xd.exports}var K=vw(),Wd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function Ew(){if(cv)return Rt;cv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,G={};function B(M,nt,ot){this.props=M,this.context=nt,this.refs=G,this.updater=ot||N}B.prototype.isReactComponent={},B.prototype.setState=function(M,nt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,nt,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function it(M,nt,ot){this.props=M,this.context=nt,this.refs=G,this.updater=ot||N}var et=it.prototype=new Y;et.constructor=it,D(et,B.prototype),et.isPureReactComponent=!0;var ft=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function I(M,nt,ot,rt,gt,Dt){return ot=Dt.ref,{$$typeof:r,type:M,key:nt,ref:ot!==void 0?ot:null,props:Dt}}function b(M,nt){return I(M.type,nt,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var nt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ot){return nt[ot]})}var P=/\/+/g;function L(M,nt){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):nt.toString(36)}function O(){}function ke(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(O,O):(M.status="pending",M.then(function(nt){M.status==="pending"&&(M.status="fulfilled",M.value=nt)},function(nt){M.status==="pending"&&(M.status="rejected",M.reason=nt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ae(M,nt,ot,rt,gt){var Dt=typeof M;(Dt==="undefined"||Dt==="boolean")&&(M=null);var St=!1;if(M===null)St=!0;else switch(Dt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(M.$$typeof){case r:case t:St=!0;break;case E:return St=M._init,ae(St(M._payload),nt,ot,rt,gt)}}if(St)return gt=gt(M),St=rt===""?"."+L(M,0):rt,ft(gt)?(ot="",St!=null&&(ot=St.replace(P,"$&/")+"/"),ae(gt,nt,ot,"",function(Xn){return Xn})):gt!=null&&(R(gt)&&(gt=b(gt,ot+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+St)),nt.push(gt)),1;St=0;var De=rt===""?".":rt+":";if(ft(M))for(var Zt=0;Zt<M.length;Zt++)rt=M[Zt],Dt=De+L(rt,Zt),St+=ae(rt,nt,ot,Dt,gt);else if(Zt=A(M),typeof Zt=="function")for(M=Zt.call(M),Zt=0;!(rt=M.next()).done;)rt=rt.value,Dt=De+L(rt,Zt++),St+=ae(rt,nt,ot,Dt,gt);else if(Dt==="object"){if(typeof M.then=="function")return ae(ke(M),nt,ot,rt,gt);throw nt=String(M),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function $(M,nt,ot){if(M==null)return M;var rt=[],gt=0;return ae(M,rt,"","",function(Dt){return nt.call(ot,Dt,gt++)}),rt}function at(M){if(M._status===-1){var nt=M._result;nt=nt(),nt.then(function(ot){(M._status===0||M._status===-1)&&(M._status=1,M._result=ot)},function(ot){(M._status===0||M._status===-1)&&(M._status=2,M._result=ot)}),M._status===-1&&(M._status=0,M._result=nt)}if(M._status===1)return M._result.default;throw M._result}var mt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function jt(){}return Rt.Children={map:$,forEach:function(M,nt,ot){$(M,function(){nt.apply(this,arguments)},ot)},count:function(M){var nt=0;return $(M,function(){nt++}),nt},toArray:function(M){return $(M,function(nt){return nt})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Rt.Component=B,Rt.Fragment=n,Rt.Profiler=o,Rt.PureComponent=it,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ht.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cloneElement=function(M,nt,ot){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var rt=D({},M.props),gt=M.key,Dt=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!wt.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(rt[St]=nt[St]);var St=arguments.length-2;if(St===1)rt.children=ot;else if(1<St){for(var De=Array(St),Zt=0;Zt<St;Zt++)De[Zt]=arguments[Zt+2];rt.children=De}return I(M.type,gt,void 0,void 0,Dt,rt)},Rt.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Rt.createElement=function(M,nt,ot){var rt,gt={},Dt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Dt=""+nt.key),nt)wt.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=nt[rt]);var St=arguments.length-2;if(St===1)gt.children=ot;else if(1<St){for(var De=Array(St),Zt=0;Zt<St;Zt++)De[Zt]=arguments[Zt+2];gt.children=De}if(M&&M.defaultProps)for(rt in St=M.defaultProps,St)gt[rt]===void 0&&(gt[rt]=St[rt]);return I(M,Dt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:m,render:M}},Rt.isValidElement=R,Rt.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:at}},Rt.memo=function(M,nt){return{$$typeof:g,type:M,compare:nt===void 0?null:nt}},Rt.startTransition=function(M){var nt=ht.T,ot={};ht.T=ot;try{var rt=M(),gt=ht.S;gt!==null&&gt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(jt,mt)}catch(Dt){mt(Dt)}finally{ht.T=nt}},Rt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Rt.use=function(M){return ht.H.use(M)},Rt.useActionState=function(M,nt,ot){return ht.H.useActionState(M,nt,ot)},Rt.useCallback=function(M,nt){return ht.H.useCallback(M,nt)},Rt.useContext=function(M){return ht.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,nt){return ht.H.useDeferredValue(M,nt)},Rt.useEffect=function(M,nt,ot){var rt=ht.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(M,nt)},Rt.useId=function(){return ht.H.useId()},Rt.useImperativeHandle=function(M,nt,ot){return ht.H.useImperativeHandle(M,nt,ot)},Rt.useInsertionEffect=function(M,nt){return ht.H.useInsertionEffect(M,nt)},Rt.useLayoutEffect=function(M,nt){return ht.H.useLayoutEffect(M,nt)},Rt.useMemo=function(M,nt){return ht.H.useMemo(M,nt)},Rt.useOptimistic=function(M,nt){return ht.H.useOptimistic(M,nt)},Rt.useReducer=function(M,nt,ot){return ht.H.useReducer(M,nt,ot)},Rt.useRef=function(M){return ht.H.useRef(M)},Rt.useState=function(M){return ht.H.useState(M)},Rt.useSyncExternalStore=function(M,nt,ot){return ht.H.useSyncExternalStore(M,nt,ot)},Rt.useTransition=function(){return ht.H.useTransition()},Rt.version="19.1.0",Rt}var hv;function Gm(){return hv||(hv=1,Wd.exports=Ew()),Wd.exports}var q=Gm();const Tw=eT(q);var Zd={exports:{}},Cl={},Jd={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function Sw(){return fv||(fv=1,function(r){function t($,at){var mt=$.length;$.push(at);t:for(;0<mt;){var jt=mt-1>>>1,M=$[jt];if(0<o(M,at))$[jt]=at,$[mt]=M,mt=jt;else break t}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var at=$[0],mt=$.pop();if(mt!==at){$[0]=mt;t:for(var jt=0,M=$.length,nt=M>>>1;jt<nt;){var ot=2*(jt+1)-1,rt=$[ot],gt=ot+1,Dt=$[gt];if(0>o(rt,mt))gt<M&&0>o(Dt,rt)?($[jt]=Dt,$[gt]=mt,jt=gt):($[jt]=rt,$[ot]=mt,jt=ot);else if(gt<M&&0>o(Dt,mt))$[jt]=Dt,$[gt]=mt,jt=gt;else break t}}return at}function o($,at){var mt=$.sortIndex-at.sortIndex;return mt!==0?mt:$.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,N=!1,D=!1,G=!1,B=!1,Y=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ft($){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=$)s(g),at.sortIndex=at.expirationTime,t(p,at);else break;at=n(g)}}function ht($){if(G=!1,ft($),!D)if(n(p)!==null)D=!0,wt||(wt=!0,L());else{var at=n(g);at!==null&&ae(ht,at.startTime-$)}}var wt=!1,I=-1,b=5,R=-1;function x(){return B?!0:!(r.unstable_now()-R<b)}function P(){if(B=!1,wt){var $=r.unstable_now();R=$;var at=!0;try{t:{D=!1,G&&(G=!1,it(I),I=-1),N=!0;var mt=A;try{e:{for(ft($),w=n(p);w!==null&&!(w.expirationTime>$&&x());){var jt=w.callback;if(typeof jt=="function"){w.callback=null,A=w.priorityLevel;var M=jt(w.expirationTime<=$);if($=r.unstable_now(),typeof M=="function"){w.callback=M,ft($),at=!0;break e}w===n(p)&&s(p),ft($)}else s(p);w=n(p)}if(w!==null)at=!0;else{var nt=n(g);nt!==null&&ae(ht,nt.startTime-$),at=!1}}break t}finally{w=null,A=mt,N=!1}at=void 0}}finally{at?L():wt=!1}}}var L;if(typeof et=="function")L=function(){et(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ke=O.port2;O.port1.onmessage=P,L=function(){ke.postMessage(null)}}else L=function(){Y(P,0)};function ae($,at){I=Y(function(){$(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function($){switch(A){case 1:case 2:case 3:var at=3;break;default:at=A}var mt=A;A=at;try{return $()}finally{A=mt}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function($,at){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var mt=A;A=$;try{return at()}finally{A=mt}},r.unstable_scheduleCallback=function($,at,mt){var jt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,$){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=mt+M,$={id:E++,callback:at,priorityLevel:$,startTime:mt,expirationTime:M,sortIndex:-1},mt>jt?($.sortIndex=mt,t(g,$),n(p)===null&&$===n(g)&&(G?(it(I),I=-1):G=!0,ae(ht,mt-jt))):($.sortIndex=M,t(p,$),D||N||(D=!0,wt||(wt=!0,L()))),$},r.unstable_shouldYield=x,r.unstable_wrapCallback=function($){var at=A;return function(){var mt=A;A=at;try{return $.apply(this,arguments)}finally{A=mt}}}}(tm)),tm}var dv;function Aw(){return dv||(dv=1,Jd.exports=Sw()),Jd.exports}var em={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function ww(){if(mv)return Ke;mv=1;var r=Gm();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ke.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Ke.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Ke.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Ke.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ke.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ke.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Ke.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ke.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Ke.requestFormReset=function(p){s.d.r(p)},Ke.unstable_batchedUpdates=function(p,g){return p(g)},Ke.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Ke.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ke.version="19.1.0",Ke}var pv;function bw(){if(pv)return em.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),em.exports=ww(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function Rw(){if(gv)return Cl;gv=1;var r=Aw(),t=Gm(),n=bw();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case B:return"Profiler";case G:return"StrictMode";case ht:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case et:return(e.displayName||"Context")+".Provider";case it:return(e._context.displayName||"Context")+".Consumer";case ft:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:ke(e.type)||"Memo";case b:i=e._payload,e=e._init;try{return ke(e(i))}catch{}}return null}var ae=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},jt=[],M=-1;function nt(e){return{current:e}}function ot(e){0>M||(e.current=jt[M],jt[M]=null,M--)}function rt(e,i){M++,jt[M]=e.current,e.current=i}var gt=nt(null),Dt=nt(null),St=nt(null),De=nt(null);function Zt(e,i){switch(rt(St,i),rt(Dt,e),rt(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?k_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=k_(i),e=L_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ot(gt),rt(gt,e)}function Xn(){ot(gt),ot(Dt),ot(St)}function rr(e){e.memoizedState!==null&&rt(De,e);var i=gt.current,a=L_(i,e.type);i!==a&&(rt(Dt,e),rt(gt,a))}function vi(e){Dt.current===e&&(ot(gt),ot(Dt)),De.current===e&&(ot(De),Sl._currentValue=mt)}var ts=Object.prototype.hasOwnProperty,es=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,vo=r.unstable_shouldYield,du=r.unstable_requestPaint,vn=r.unstable_now,$h=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,is=r.unstable_NormalPriority,Xh=r.unstable_LowPriority,Js=r.unstable_IdlePriority,To=r.log,mu=r.unstable_setDisableYieldValue,oe=null,Ft=null;function un(e){if(typeof To=="function"&&mu(e),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(oe,e)}catch{}}var Ge=Math.clz32?Math.clz32:rs,pu=Math.log,Wh=Math.LN2;function rs(e){return e>>>=0,e===0?32:31-(pu(e)/Wh|0)|0}var ss=256,as=4194304;function Ln(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ta(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):a||(a=T&~e,a!==0&&(h=Ln(a))))):(T=l&~d,T!==0?h=Ln(T):v!==0?h=Ln(v):a||(a=l&~e,a!==0&&(h=Ln(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function os(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function So(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ao(){var e=ss;return ss<<=1,(ss&4194048)===0&&(ss=256),e}function wo(){var e=as;return as<<=1,(as&62914560)===0&&(as=4194304),e}function Ei(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ti(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Ge(a),Z=1<<X;T[X]=0,C[X]=-1;var H=j[X];if(H!==null)for(j[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Wn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Wn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ro(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ea(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ar(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:nv(e.type))}function gu(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,En="__reactContainer$"+ee,Io="__reactEvents$"+ee,Zh="__reactListeners$"+ee,or="__reactHandles$"+ee,yu="__reactResources$"+ee,ls="__reactMarker$"+ee;function lr(e){delete e[Ee],delete e[me],delete e[Io],delete e[Zh],delete e[or]}function Si(e){var i=e[Ee];if(i)return i;for(var a=e.parentNode;a;){if(i=a[En]||a[Ee]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=B_(e);e!==null;){if(a=e[Ee])return a;e=B_(e)}return i}e=a,a=e.parentNode}return null}function Zn(e){if(e=e[Ee]||e[En]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Jn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Ze(e){var i=e[yu];return i||(i=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ce(e){e[ls]=!0}var Co=new Set,na={};function Un(e,i){Ai(e,i),Ai(e+"Capture",i)}function Ai(e,i){for(na[e]=i,e=0;e<i.length;e++)Co.add(i[e])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},us={};function Eu(e){return ts.call(us,e)?!0:ts.call(vu,e)?!1:_u.test(e)?us[e]=!0:(vu[e]=!0,!1)}function ur(e,i,a){if(Eu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ti(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Le(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var cs,Tu;function wi(e){if(cs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);cs=i&&i[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cs+e+Tu}var ia=!1;function ra(e,i){if(!e||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){H=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var C=v.split(`
`),j=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var X=`
`+C[l].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=l&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wi(a):""}function Do(e){switch(e.tag){case 26:case 27:case 5:return wi(e.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return ra(e.type,!1);case 11:return ra(e.type.render,!1);case 1:return ra(e.type,!0);case 31:return wi("Activity");default:return""}}function sa(e){try{var i="";do i+=Do(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Jh(e){var i=Oo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function aa(e){e._valueTracker||(e._valueTracker=Jh(e))}function No(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Oo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tf=/[\n"\\]/g;function pe(e){return e.replace(tf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(e,i,a,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Je(i)):e.value!==""+Je(i)&&(e.value=""+Je(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?cr(e,v,Je(i)):a!=null?cr(e,v,Je(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function fs(e,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Je(a):"",i=i!=null?""+Je(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function cr(e,i,a){i==="number"&&hs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function bi(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+Je(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Je(a):""}function ds(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Je(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Tn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||ms.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function xo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Su(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Su(e,d,i[d])}function Mo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return nf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ri=null;function Sn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ii=null,Ci=null;function Vo(e){var i=Zn(e);if(i&&(e=i.stateNode)){var a=e[me]||null;t:switch(e=i.stateNode,i.type){case"input":if(cn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[me]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&No(l)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&bi(e,!!a.multiple,i,!1)}}}var ei=!1;function Au(e,i,a){if(ei)return e(i,a);ei=!0;try{var l=e(i);return l}finally{if(ei=!1,(Ii!==null||Ci!==null)&&(gc(),Ii&&(i=Ii,e=Ci,Ci=Ii=null,Vo(i),e)))for(i=0;i<e.length;i++)Vo(e[i])}}function ps(e,i){var a=e.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(zn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){An=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{An=!1}var ni=null,hr=null,Di=null;function Po(){if(Di)return Di;var e,i=hr,a=i.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Di=h.slice(e,1<l?1-l:void 0)}function ii(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function ko(){return!1}function Oe(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:ko,this.isPropagationStopped=ko,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),i}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Oe(qt),ys=E({},qt,{view:0,detail:0}),wu=Oe(ys),ua,ca,si,_s=E({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(ua=e.screenX-si.screenX,ca=e.screenY-si.screenY):ca=ua=0,si=e),ua)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),wn=Oe(_s),bu=E({},_s,{dataTransfer:0}),rf=Oe(bu),vs=E({},ys,{relatedTarget:0}),ha=Oe(vs),Lo=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=Oe(Lo),Ru=E({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),da=Oe(Ru),sf=E({},qt,{data:0}),Uo=Oe(sf),Es={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Cu[e])?!!i[e]:!1}function Ts(){return zo}var Du=E({},ys,{key:function(e){if(e.key){var i=Es[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ma=Oe(Du),Ou=E({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=Oe(Ou),Oi=E({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Nu=Oe(Oi),xu=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Oe(xu),Vu=E({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=Oe(Vu),tn=E({},qt,{newState:0,oldState:0}),Pu=Oe(tn),ku=[9,13,27,32],ai=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,_=zn&&(!ai||c&&8<c&&11>=c),S=" ",U=!1;function Q(e,i){switch(e){case"keyup":return ku.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Te(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return e=i.data,e===S&&U?null:e;default:return null}}function kt(e,i){if(Pt)return e==="compositionend"||!ai&&Q(e,i)?(e=Po(),Di=hr=ni=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ne[e.type]:i==="textarea"}function Ni(e,i,a,l){Ii?Ci?Ci.push(l):Ci=[l]:Ii=l,i=Sc(i,"onChange"),0<i.length&&(a=new la("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ue=null,oi=null;function Bo(e){N_(e,0)}function Lu(e){var i=Jn(e);if(No(i))return e}function Zp(e,i){if(e==="change")return i}var Jp=!1;if(zn){var af;if(zn){var of="oninput"in document;if(!of){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),of=typeof tg.oninput=="function"}af=of}else af=!1;Jp=af&&(!document.documentMode||9<document.documentMode)}function eg(){Ue&&(Ue.detachEvent("onpropertychange",ng),oi=Ue=null)}function ng(e){if(e.propertyName==="value"&&Lu(oi)){var i=[];Ni(i,oi,e,Sn(e)),Au(Bo,i)}}function YS(e,i,a){e==="focusin"?(eg(),Ue=i,oi=a,Ue.attachEvent("onpropertychange",ng)):e==="focusout"&&eg()}function $S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(oi)}function XS(e,i){if(e==="click")return Lu(i)}function WS(e,i){if(e==="input"||e==="change")return Lu(i)}function ZS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:ZS;function qo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ts.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rg(e,i){var a=ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ig(a)}}function sg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?sg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=hs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=hs(e.document)}return i}function lf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var JS=zn&&"documentMode"in document&&11>=document.documentMode,ga=null,uf=null,Ho=null,cf=!1;function og(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cf||ga==null||ga!==hs(l)||(l=ga,"selectionStart"in l&&lf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=Sc(uf,"onSelect"),0<l.length&&(i=new la("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ga)))}function Ss(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ya={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},hf={},lg={};zn&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function As(e){if(hf[e])return hf[e];if(!ya[e])return e;var i=ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return hf[e]=i[a];return e}var ug=As("animationend"),cg=As("animationiteration"),hg=As("animationstart"),tA=As("transitionrun"),eA=As("transitionstart"),nA=As("transitioncancel"),fg=As("transitionend"),dg=new Map,ff="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ff.push("scrollEnd");function jn(e,i){dg.set(e,i),Un(i,[e])}var mg=new WeakMap;function bn(e,i){if(typeof e=="object"&&e!==null){var a=mg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:sa(i)},mg.set(e,i),i)}return{value:e,source:i,stack:sa(i)}}var Rn=[],_a=0,df=0;function Uu(){for(var e=_a,i=df=_a=0;i<e;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function zu(e,i,a,l){Rn[_a++]=e,Rn[_a++]=i,Rn[_a++]=a,Rn[_a++]=l,df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function mf(e,i,a,l){return zu(e,i,a,l),ju(e)}function va(e,i){return zu(e,null,null,i),ju(e)}function pg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ju(e){if(50<ml)throw ml=0,Ed=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Ea={};function iA(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,l){return new iA(e,i,a,l)}function pf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function gg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Bu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")pf(e)&&(v=1);else if(typeof e=="string")v=sw(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,a,i,h),e.elementType=R,e.lanes=d,e;case D:return ws(a.children,h,d,i);case G:v=8,h|=24;break;case B:return e=fn(12,a,i,h|2),e.elementType=B,e.lanes=d,e;case ht:return e=fn(13,a,i,h),e.elementType=ht,e.lanes=d,e;case wt:return e=fn(19,a,i,h),e.elementType=wt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:case et:v=10;break t;case it:v=9;break t;case ft:v=11;break t;case I:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=fn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function ws(e,i,a,l){return e=fn(7,e,l,i),e.lanes=a,e}function gf(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function yf(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ta=[],Sa=0,qu=null,Hu=0,In=[],Cn=0,bs=null,Mi=1,Vi="";function Rs(e,i){Ta[Sa++]=Hu,Ta[Sa++]=qu,qu=e,Hu=i}function yg(e,i,a){In[Cn++]=Mi,In[Cn++]=Vi,In[Cn++]=bs,bs=e;var l=Mi;e=Vi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var d=32-Ge(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-Ge(i)+h|a<<h|l,Vi=d+e}else Mi=1<<d|a<<h|l,Vi=e}function _f(e){e.return!==null&&(Rs(e,1),yg(e,1,0))}function vf(e){for(;e===qu;)qu=Ta[--Sa],Ta[Sa]=null,Hu=Ta[--Sa],Ta[Sa]=null;for(;e===bs;)bs=In[--Cn],In[Cn]=null,Vi=In[--Cn],In[Cn]=null,Mi=In[--Cn],In[Cn]=null}var en=null,le=null,Bt=!1,Is=null,li=!1,Ef=Error(s(519));function Cs(e){var i=Error(s(418,""));throw Qo(bn(i,e)),Ef}function _g(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Ee]=e,i[me]=l,a){case"dialog":xt("cancel",i),xt("close",i);break;case"iframe":case"object":case"embed":xt("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)xt(gl[a],i);break;case"source":xt("error",i);break;case"img":case"image":case"link":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"input":xt("invalid",i),fs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),aa(i);break;case"select":xt("invalid",i);break;case"textarea":xt("invalid",i),ds(i,l.value,l.defaultValue,l.children),aa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||P_(i.textContent,a)?(l.popover!=null&&(xt("beforetoggle",i),xt("toggle",i)),l.onScroll!=null&&xt("scroll",i),l.onScrollEnd!=null&&xt("scrollend",i),l.onClick!=null&&(i.onclick=Ac),i=!0):i=!1,i||Cs(e)}function vg(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:en=en.return}}function Fo(e){if(e!==en)return!1;if(!Bt)return vg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||kd(e.type,e.memoizedProps)),a=!a),a&&le&&Cs(e),vg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,Ir(e.type)?(e=jd,jd=null,le=e):le=i):le=en?qn(e.stateNode.nextSibling):null;return!0}function Go(){le=en=null,Bt=!1}function Eg(){var e=Is;return e!==null&&(an===null?an=e:an.push.apply(an,e),Is=null),e}function Qo(e){Is===null?Is=[e]:Is.push(e)}var Tf=nt(null),Ds=null,Pi=null;function fr(e,i,a){rt(Tf,i._currentValue),i._currentValue=a}function ki(e){e._currentValue=Tf.current,ot(Tf)}function Sf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Af(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Sf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Sf(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ko(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Sl):e=[Sl])}h=h.return}e!==null&&Af(i,e,a,l),i.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Os(e){Ds=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Tg(Ds,e)}function Gu(e,i){return Ds===null&&Os(e),Tg(e,i)}function Tg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(e===null)throw Error(s(308));Pi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Pi=Pi.next=i;return a}var rA=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},sA=r.unstable_scheduleCallback,aA=r.unstable_NormalPriority,Ae={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wf(){return{controller:new rA,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&sA(aA,function(){e.controller.abort()})}var $o=null,bf=0,Aa=0,wa=null;function oA(e,i){if($o===null){var a=$o=[];bf=0,Aa=Id(),wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bf++,i.then(Sg,Sg),i}function Sg(){if(--bf===0&&$o!==null){wa!==null&&(wa.status="fulfilled");var e=$o;$o=null,Aa=0,wa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function lA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ag=$.S;$.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&oA(e,i),Ag!==null&&Ag(e,i)};var Ns=nt(null);function Rf(){var e=Ns.current;return e!==null?e:Jt.pooledCache}function Qu(e,i){i===null?rt(Ns,Ns.current):rt(Ns,i.pool)}function wg(){var e=Rf();return e===null?null:{parent:Ae._currentValue,pool:e}}var Xo=Error(s(460)),bg=Error(s(474)),Ku=Error(s(542)),If={then:function(){}};function Rg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Yu(){}function Ig(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Yu,Yu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Dg(e),e;default:if(typeof i.status=="string")i.then(Yu,Yu);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Dg(e),e}throw Wo=i,Xo}}var Wo=null;function Cg(){if(Wo===null)throw Error(s(459));var e=Wo;return Wo=null,e}function Dg(e){if(e===Xo||e===Ku)throw Error(s(483))}var dr=!1;function Cf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Df(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ju(e),pg(e,null,a),i}return zu(e,l,i,a),ju(e)}function Zo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ro(e,a)}}function Of(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Nf=!1;function Jo(){if(Nf){var e=wa;if(e!==null)throw e}}function tl(e,i,a,l){Nf=!1;var h=e.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,v===null?d=j:v.next=j,v=C;var X=e.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=j:T.next=j,X.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,X=j=C=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Lt&H)===H:(l&H)===H){H!==0&&H===Aa&&(Nf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=e,yt=T;H=i;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){Z=Tt.call(Xt,Z,H);break t}Z=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,H=typeof Tt=="function"?Tt.call(Xt,Z,H):Tt,H==null)break t;Z=E({},Z,H);break t;case 2:dr=!0}}H=T.callback,H!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(j=X=F,C=Z):X=X.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=Z}}function Og(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ng(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Og(a[e],i)}var ba=nt(null),$u=nt(0);function xg(e,i){e=Hi,rt($u,e),rt(ba,i),Hi=e|i.baseLanes}function xf(){rt($u,Hi),rt(ba,ba.current)}function Mf(){Hi=$u.current,ot(ba),ot($u)}var gr=0,It=null,Yt=null,ge=null,Xu=!1,Ra=!1,xs=!1,Wu=0,el=0,Ia=null,uA=0;function he(){throw Error(s(321))}function Vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function Pf(e,i,a,l,h,d){return gr=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=e===null||e.memoizedState===null?py:gy,xs=!1,d=a(l,h),xs=!1,Ra&&(d=Vg(i,a,l,h)),Mg(e),d}function Mg(e){$.H=ic;var i=Yt!==null&&Yt.next!==null;if(gr=0,ge=Yt=It=null,Xu=!1,el=0,Ia=null,i)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&Fu(e)&&(xe=!0))}function Vg(e,i,a,l){It=e;var h=0;do{if(Ra&&(Ia=null),el=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=gA,d=i(a,l)}while(Ra);return d}function cA(){var e=$.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(It.flags|=1024),i}function kf(){var e=Wu!==0;return Wu=0,e}function Lf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Uf(e){if(Xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xu=!1}gr=0,ge=Yt=It=null,Ra=!1,el=Wu=0,Ia=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?It.memoizedState=ge=e:ge=ge.next=e,ge}function ye(){if(Yt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var i=ge===null?It.memoizedState:ge.next;if(i!==null)ge=i,Yt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?It.memoizedState=ge=e:ge=ge.next=e}return ge}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,Ia===null&&(Ia=[]),e=Ig(Ia,e,i),i=It,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?py:gy),e}function Zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===et)return Qe(e)}throw Error(s(438,String(e)))}function jf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=x;return i.index++,a}function Li(e,i){return typeof i=="function"?i(e):i}function Ju(e){var i=ye();return Bf(i,Yt,e)}function Bf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,C=null,j=i,X=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Lt&Z)===Z:(gr&Z)===Z){var H=j.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Aa&&(X=!0);else if((gr&H)===H){j=j.next,H===Aa&&(X=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=Z,v=d):C=C.next=Z,It.lanes|=H,Ar|=H;Z=j.action,xs&&a(d,Z),d=j.hasEagerState?j.eagerState:a(d,Z)}else H={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=H,v=d):C=C.next=H,It.lanes|=Z,Ar|=Z;j=j.next}while(j!==null&&j!==i);if(C===null?v=d:C.next=T,!hn(d,e.memoizedState)&&(xe=!0,X&&(a=wa,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qf(e){var i=ye(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(xe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Pg(e,i,a){var l=It,h=ye(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Yt||h).memoizedState,a);v&&(h.memoizedState=a,xe=!0),h=h.queue;var T=Ug.bind(null,l,h,e);if(il(2048,8,T,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ca(9,tc(),Lg.bind(null,l,h,a,i),null),Jt===null)throw Error(s(349));d||(gr&124)!==0||kg(l,i,a)}return a}function kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=zf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Lg(e,i,a,l){i.value=a,i.getSnapshot=l,zg(i)&&jg(e)}function Ug(e,i,a){return a(function(){zg(i)&&jg(e)})}function zg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function jg(e){var i=va(e,2);i!==null&&yn(i,e,2)}function Hf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),xs){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},i}function Bg(e,i,a,l){return e.baseState=a,Bf(e,Yt,typeof l=="function"?l:Li)}function hA(e,i,a,l,h){if(nc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,qg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function qg(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=$.T,v={};$.T=v;try{var T=a(h,l),C=$.S;C!==null&&C(v,T),Hg(e,i,T)}catch(j){Ff(e,i,j)}finally{$.T=d}}else try{d=a(h,l),Hg(e,i,d)}catch(j){Ff(e,i,j)}}function Hg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fg(e,i,l)},function(l){return Ff(e,i,l)}):Fg(e,i,a)}function Fg(e,i,a){i.status="fulfilled",i.value=a,Gg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,qg(e,a)))}function Ff(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==l)}e.action=null}function Gg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qg(e,i){return i}function Kg(e,i){if(Bt){var a=Jt.formState;if(a!==null){t:{var l=It;if(Bt){if(le){e:{for(var h=le,d=li;h.nodeType!==8;){if(!d){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=qn(h.nextSibling),l=h.data==="F!";break t}}Cs(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:i},a.queue=l,a=fy.bind(null,It,l),l.dispatch=a,l=Hf(!1),d=$f.bind(null,It,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=hA.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Yg(e){var i=ye();return $g(i,Yt,e)}function $g(e,i,a){if(i=Bf(e,i,Qg)[0],e=Ju(Li)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(v){throw v===Xo?Ku:v}else l=i;i=ye();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Ca(9,tc(),fA.bind(null,h,a),null)),[l,d,e]}function fA(e,i){e.action=i}function Xg(e){var i=ye(),a=Yt;if(a!==null)return $g(i,a,e);ye(),i=i.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ca(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=zf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function tc(){return{destroy:void 0,resource:void 0}}function Wg(){return ye().memoizedState}function ec(e,i,a,l){var h=rn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Ca(1|i,tc(),a,l)}function il(e,i,a,l){var h=ye();l=l===void 0?null:l;var d=h.memoizedState.inst;Yt!==null&&l!==null&&Vf(l,Yt.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(It.flags|=e,h.memoizedState=Ca(1|i,d,a,l))}function Zg(e,i){ec(8390656,8,e,i)}function Jg(e,i){il(2048,8,e,i)}function ty(e,i){return il(4,2,e,i)}function ey(e,i){return il(4,4,e,i)}function ny(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function iy(e,i,a){a=a!=null?a.concat([e]):null,il(4,4,ny.bind(null,i,e),a)}function Gf(){}function ry(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Vf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function sy(e,i){var a=ye();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Vf(i,l[1]))return l[0];if(l=e(),xs){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,i],l}function Qf(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=l_(),It.lanes|=e,Ar|=e,a)}function ay(e,i,a,l){return hn(a,i)?a:ba.current!==null?(e=Qf(e,a,l),hn(e,i)||(xe=!0),e):(gr&42)===0?(xe=!0,e.memoizedState=a):(e=l_(),It.lanes|=e,Ar|=e,i)}function oy(e,i,a,l,h){var d=at.p;at.p=d!==0&&8>d?d:8;var v=$.T,T={};$.T=T,$f(e,!1,i,a);try{var C=h(),j=$.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=lA(C,l);rl(e,i,X,gn(e))}else rl(e,i,l,gn(e))}catch(Z){rl(e,i,{then:function(){},status:"rejected",reason:Z},gn())}finally{at.p=d,$.T=v}}function dA(){}function Kf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ly(e).queue;oy(e,h,i,mt,a===null?dA:function(){return uy(e),a(l)})}function ly(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function uy(e){var i=ly(e).next.queue;rl(e,i,{},gn())}function Yf(){return Qe(Sl)}function cy(){return ye().memoizedState}function hy(){return ye().memoizedState}function mA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=mr(a);var l=pr(i,e,a);l!==null&&(yn(l,i,a),Zo(l,i,a)),i={cache:wf()},e.payload=i;return}i=i.return}}function pA(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(e)?dy(i,a):(a=mf(e,i,a,l),a!==null&&(yn(a,e,l),my(a,i,l)))}function fy(e,i,a){var l=gn();rl(e,i,a,l)}function rl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(e))dy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return zu(e,i,h,0),Jt===null&&Uu(),!1}catch{}finally{}if(a=mf(e,i,h,l),a!==null)return yn(a,e,l),my(a,i,l),!0}return!1}function $f(e,i,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(e)){if(i)throw Error(s(479))}else i=mf(e,a,l,2),i!==null&&yn(i,e,2)}function nc(e){var i=e.alternate;return e===It||i!==null&&i===It}function dy(e,i){Ra=Xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function my(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ro(e,a)}}var ic={readContext:Qe,use:Zu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},py={readContext:Qe,use:Zu,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Qe,useEffect:Zg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,ec(4194308,4,ny.bind(null,i,e),a)},useLayoutEffect:function(e,i){return ec(4194308,4,e,i)},useInsertionEffect:function(e,i){ec(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(xs){un(!0);try{e()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(xs){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=pA.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Hf(e);var i=e.queue,a=fy.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Gf,useDeferredValue:function(e,i){var a=rn();return Qf(a,e,i)},useTransition:function(){var e=Hf(!1);return e=oy.bind(null,It,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=rn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Jt===null)throw Error(s(349));(Lt&124)!==0||kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(Ug.bind(null,l,d,e),[e]),l.flags|=2048,Ca(9,tc(),Lg.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=Jt.identifierPrefix;if(Bt){var a=Vi,l=Mi;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=uA++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Yf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:jf,useCacheRefresh:function(){return rn().memoizedState=mA.bind(null,It)}},gy={readContext:Qe,use:Zu,useCallback:ry,useContext:Qe,useEffect:Jg,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:sy,useReducer:Ju,useRef:Wg,useState:function(){return Ju(Li)},useDebugValue:Gf,useDeferredValue:function(e,i){var a=ye();return ay(a,Yt.memoizedState,e,i)},useTransition:function(){var e=Ju(Li)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Pg,useId:cy,useHostTransitionStatus:Yf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e,i){var a=ye();return Bg(a,Yt,e,i)},useMemoCache:jf,useCacheRefresh:hy},gA={readContext:Qe,use:Zu,useCallback:ry,useContext:Qe,useEffect:Jg,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ey,useMemo:sy,useReducer:qf,useRef:Wg,useState:function(){return qf(Li)},useDebugValue:Gf,useDeferredValue:function(e,i){var a=ye();return Yt===null?Qf(a,e,i):ay(a,Yt.memoizedState,e,i)},useTransition:function(){var e=qf(Li)[0],i=ye().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Pg,useId:cy,useHostTransitionStatus:Yf,useFormState:Xg,useActionState:Xg,useOptimistic:function(e,i){var a=ye();return Yt!==null?Bg(a,Yt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:hy},Da=null,sl=0;function rc(e){var i=sl;return sl+=1,Da===null&&(Da=[]),Ig(Da,e,i)}function al(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function sc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function yy(e){var i=e._init;return i(e._payload)}function _y(e){function i(k,V){if(e){var z=k.deletions;z===null?(k.deletions=[V],k.flags|=16):z.push(V)}}function a(k,V){if(!e)return null;for(;V!==null;)i(k,V),V=V.sibling;return null}function l(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function h(k,V){return k=xi(k,V),k.index=0,k.sibling=null,k}function d(k,V,z){return k.index=z,e?(z=k.alternate,z!==null?(z=z.index,z<V?(k.flags|=67108866,V):z):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,V,z,W){return V===null||V.tag!==6?(V=gf(z,k.mode,W),V.return=k,V):(V=h(V,z),V.return=k,V)}function C(k,V,z,W){var ct=z.type;return ct===D?X(k,V,z.props.children,W,z.key):V!==null&&(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&yy(ct)===V.type)?(V=h(V,z.props),al(V,z),V.return=k,V):(V=Bu(z.type,z.key,z.props,null,k.mode,W),al(V,z),V.return=k,V)}function j(k,V,z,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=yf(z,k.mode,W),V.return=k,V):(V=h(V,z.children||[]),V.return=k,V)}function X(k,V,z,W,ct){return V===null||V.tag!==7?(V=ws(z,k.mode,W,ct),V.return=k,V):(V=h(V,z),V.return=k,V)}function Z(k,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=gf(""+V,k.mode,z),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return z=Bu(V.type,V.key,V.props,null,k.mode,z),al(z,V),z.return=k,z;case N:return V=yf(V,k.mode,z),V.return=k,V;case b:var W=V._init;return V=W(V._payload),Z(k,V,z)}if(ae(V)||L(V))return V=ws(V,k.mode,z,null),V.return=k,V;if(typeof V.then=="function")return Z(k,rc(V),z);if(V.$$typeof===et)return Z(k,Gu(k,V),z);sc(k,V)}return null}function H(k,V,z,W){var ct=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ct!==null?null:T(k,V,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ct?C(k,V,z,W):null;case N:return z.key===ct?j(k,V,z,W):null;case b:return ct=z._init,z=ct(z._payload),H(k,V,z,W)}if(ae(z)||L(z))return ct!==null?null:X(k,V,z,W,null);if(typeof z.then=="function")return H(k,V,rc(z),W);if(z.$$typeof===et)return H(k,V,Gu(k,z),W);sc(k,z)}return null}function F(k,V,z,W,ct){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return k=k.get(z)||null,T(V,k,""+W,ct);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return k=k.get(W.key===null?z:W.key)||null,C(V,k,W,ct);case N:return k=k.get(W.key===null?z:W.key)||null,j(V,k,W,ct);case b:var Ot=W._init;return W=Ot(W._payload),F(k,V,z,W,ct)}if(ae(W)||L(W))return k=k.get(z)||null,X(V,k,W,ct,null);if(typeof W.then=="function")return F(k,V,z,rc(W),ct);if(W.$$typeof===et)return F(k,V,z,Gu(V,W),ct);sc(V,W)}return null}function Tt(k,V,z,W){for(var ct=null,Ot=null,dt=V,_t=V=0,Ve=null;dt!==null&&_t<z.length;_t++){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var zt=H(k,dt,z[_t],W);if(zt===null){dt===null&&(dt=Ve);break}e&&dt&&zt.alternate===null&&i(k,dt),V=d(zt,V,_t),Ot===null?ct=zt:Ot.sibling=zt,Ot=zt,dt=Ve}if(_t===z.length)return a(k,dt),Bt&&Rs(k,_t),ct;if(dt===null){for(;_t<z.length;_t++)dt=Z(k,z[_t],W),dt!==null&&(V=d(dt,V,_t),Ot===null?ct=dt:Ot.sibling=dt,Ot=dt);return Bt&&Rs(k,_t),ct}for(dt=l(dt);_t<z.length;_t++)Ve=F(dt,k,_t,z[_t],W),Ve!==null&&(e&&Ve.alternate!==null&&dt.delete(Ve.key===null?_t:Ve.key),V=d(Ve,V,_t),Ot===null?ct=Ve:Ot.sibling=Ve,Ot=Ve);return e&&dt.forEach(function(xr){return i(k,xr)}),Bt&&Rs(k,_t),ct}function yt(k,V,z,W){if(z==null)throw Error(s(151));for(var ct=null,Ot=null,dt=V,_t=V=0,Ve=null,zt=z.next();dt!==null&&!zt.done;_t++,zt=z.next()){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var xr=H(k,dt,zt.value,W);if(xr===null){dt===null&&(dt=Ve);break}e&&dt&&xr.alternate===null&&i(k,dt),V=d(xr,V,_t),Ot===null?ct=xr:Ot.sibling=xr,Ot=xr,dt=Ve}if(zt.done)return a(k,dt),Bt&&Rs(k,_t),ct;if(dt===null){for(;!zt.done;_t++,zt=z.next())zt=Z(k,zt.value,W),zt!==null&&(V=d(zt,V,_t),Ot===null?ct=zt:Ot.sibling=zt,Ot=zt);return Bt&&Rs(k,_t),ct}for(dt=l(dt);!zt.done;_t++,zt=z.next())zt=F(dt,k,_t,zt.value,W),zt!==null&&(e&&zt.alternate!==null&&dt.delete(zt.key===null?_t:zt.key),V=d(zt,V,_t),Ot===null?ct=zt:Ot.sibling=zt,Ot=zt);return e&&dt.forEach(function(yw){return i(k,yw)}),Bt&&Rs(k,_t),ct}function Xt(k,V,z,W){if(typeof z=="object"&&z!==null&&z.type===D&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var ct=z.key;V!==null;){if(V.key===ct){if(ct=z.type,ct===D){if(V.tag===7){a(k,V.sibling),W=h(V,z.props.children),W.return=k,k=W;break t}}else if(V.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&yy(ct)===V.type){a(k,V.sibling),W=h(V,z.props),al(W,z),W.return=k,k=W;break t}a(k,V);break}else i(k,V);V=V.sibling}z.type===D?(W=ws(z.props.children,k.mode,W,z.key),W.return=k,k=W):(W=Bu(z.type,z.key,z.props,null,k.mode,W),al(W,z),W.return=k,k=W)}return v(k);case N:t:{for(ct=z.key;V!==null;){if(V.key===ct)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(k,V.sibling),W=h(V,z.children||[]),W.return=k,k=W;break t}else{a(k,V);break}else i(k,V);V=V.sibling}W=yf(z,k.mode,W),W.return=k,k=W}return v(k);case b:return ct=z._init,z=ct(z._payload),Xt(k,V,z,W)}if(ae(z))return Tt(k,V,z,W);if(L(z)){if(ct=L(z),typeof ct!="function")throw Error(s(150));return z=ct.call(z),yt(k,V,z,W)}if(typeof z.then=="function")return Xt(k,V,rc(z),W);if(z.$$typeof===et)return Xt(k,V,Gu(k,z),W);sc(k,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(k,V.sibling),W=h(V,z),W.return=k,k=W):(a(k,V),W=gf(z,k.mode,W),W.return=k,k=W),v(k)):a(k,V)}return function(k,V,z,W){try{sl=0;var ct=Xt(k,V,z,W);return Da=null,ct}catch(dt){if(dt===Xo||dt===Ku)throw dt;var Ot=fn(29,dt,null,k.mode);return Ot.lanes=W,Ot.return=k,Ot}finally{}}}var Oa=_y(!0),vy=_y(!1),Dn=nt(null),ui=null;function yr(e){var i=e.alternate;rt(we,we.current&1),rt(Dn,e),ui===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(ui=e)}function Ey(e){if(e.tag===22){if(rt(we,we.current),rt(Dn,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else _r()}function _r(){rt(we,we.current),rt(Dn,Dn.current)}function Ui(e){ot(Dn),ui===e&&(ui=null),ot(we)}var we=nt(0);function ac(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Wf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,l),i!==null&&(yn(i,e,l),Zo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(e,h,l),i!==null&&(yn(i,e,l),Zo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(e,l,a),i!==null&&(yn(i,e,a),Zo(i,e,a))}};function Ty(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function Sy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Wf.enqueueReplaceState(i,i.state,null)}function Ms(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var oc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ay(e){oc(e)}function wy(e){console.error(e)}function by(e){oc(e)}function lc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ry(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(e,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(e,i)},a}function Iy(e){return e=mr(e),e.tag=3,e}function Cy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ry(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ry(i,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function yA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ko(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ui===null?Sd():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===If?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),wd(e,l,h)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),wd(e,l,h)),!1}throw Error(s(435,a.tag))}return wd(e,l,h),Sd(),!1}if(Bt)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Ef&&(e=Error(s(422),{cause:l}),Qo(bn(e,a)))):(l!==Ef&&(i=Error(s(423),{cause:l}),Qo(bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=bn(l,a),h=Zf(e.stateNode,l,h),Of(e,h),ue!==4&&(ue=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),dl===null?dl=[d]:dl.push(d),ue!==4&&(ue=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Zf(a.stateNode,l,e),Of(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Iy(h),Cy(h,e,a,l),Of(a,h),!1}a=a.return}while(a!==null);return!1}var Dy=Error(s(461)),xe=!1;function ze(e,i,a,l){i.child=e===null?vy(i,null,a,l):Oa(i,e.child,a,l)}function Oy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(i),l=Pf(e,i,a,v,d,h),T=kf(),e!==null&&!xe?(Lf(e,i,h),zi(e,i,h)):(Bt&&T&&_f(i),i.flags|=1,ze(e,i,l,h),i.child)}function Ny(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,xy(e,i,d,l,h)):(e=Bu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!ad(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(v,l)&&e.ref===i.ref)return zi(e,i,h)}return i.flags|=1,e=xi(d,l),e.ref=i.ref,e.return=i,i.child=e}function xy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(qo(d,l)&&e.ref===i.ref)if(xe=!1,i.pendingProps=l=d,ad(e,h))(e.flags&131072)!==0&&(xe=!0);else return i.lanes=e.lanes,zi(e,i,h)}return Jf(e,i,a,l,h)}function My(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Vy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?xg(i,d):xf(),Ey(i);else return i.lanes=i.childLanes=536870912,Vy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Qu(i,d.cachePool),xg(i,d),_r(),i.memoizedState=null):(e!==null&&Qu(i,null),xf(),_r());return ze(e,i,h,a),i.child}function Vy(e,i,a,l){var h=Rf();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Qu(i,null),xf(),Ey(i),e!==null&&Ko(e,i,l,!0),null}function uc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Jf(e,i,a,l,h){return Os(i),a=Pf(e,i,a,l,void 0,h),l=kf(),e!==null&&!xe?(Lf(e,i,h),zi(e,i,h)):(Bt&&l&&_f(i),i.flags|=1,ze(e,i,a,h),i.child)}function Py(e,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Vg(i,l,a,h),Mg(e),l=kf(),e!==null&&!xe?(Lf(e,i,d),zi(e,i,d)):(Bt&&l&&_f(i),i.flags|=1,ze(e,i,a,d),i.child)}function ky(e,i,a,l,h){if(Os(i),i.stateNode===null){var d=Ea,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Wf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Cf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):Ea,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Xf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Wf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),Jo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,C=Ms(a,T);d.props=C;var j=d.context,X=a.contextType;v=Ea,typeof X=="object"&&X!==null&&(v=Qe(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&Sy(i,d,l,v),dr=!1;var H=i.memoizedState;d.state=H,tl(i,l,d,h),Jo(),j=i.memoizedState,T||H!==j||dr?(typeof Z=="function"&&(Xf(i,a,Z,l),j=i.memoizedState),(C=dr||Ty(i,a,C,l,H,j,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Df(e,i),v=i.memoizedProps,X=Ms(a,v),d.props=X,Z=i.pendingProps,H=d.context,j=a.contextType,C=Ea,typeof j=="object"&&j!==null&&(C=Qe(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&Sy(i,d,l,C),dr=!1,H=i.memoizedState,d.state=H,tl(i,l,d,h),Jo();var F=i.memoizedState;v!==Z||H!==F||dr||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof T=="function"&&(Xf(i,a,T,l),F=i.memoizedState),(X=dr||Ty(i,a,X,l,H,F,C)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&H===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,uc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Oa(i,e.child,null,h),i.child=Oa(i,null,a,h)):ze(e,i,a,h),i.memoizedState=d.state,e=i.child):e=zi(e,i,h),e}function Ly(e,i,a,l){return Go(),i.flags|=256,ze(e,i,a,l),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(e){return{baseLanes:e,cachePool:wg()}}function nd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=On),e}function Uy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?yr(i):_r(),Bt){var T=le,C;if(C=T){t:{for(C=T,T=li;C.nodeType!==8;){if(!T){T=null;break t}if(C=qn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:bs!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},C=fn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,en=i,le=null,C=!0):C=!1}C||Cs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return zd(T)?i.lanes=32:i.lanes=536870912,null;Ui(i)}return T=l.children,l=l.fallback,h?(_r(),h=i.mode,T=cc({mode:"hidden",children:T},h),l=ws(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=ed(a),h.childLanes=nd(e,v,a),i.memoizedState=td,l):(yr(i),id(i,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=rd(e,i,a)):i.memoizedState!==null?(_r(),i.child=e.child,i.flags|=128,i=null):(_r(),h=l.fallback,T=i.mode,l=cc({mode:"visible",children:l.children},T),h=ws(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Oa(i,e.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=nd(e,v,a),i.memoizedState=td,i=h);else if(yr(i),zd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,Qo({value:l,source:null,stack:null}),i=rd(e,i,a)}else if(xe||Ko(e,i,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,va(e,l),yn(v,e,l),Dy;T.data==="$?"||Sd(),i=rd(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=C.treeContext,le=qn(T.nextSibling),en=i,Bt=!0,Is=null,li=!1,e!==null&&(In[Cn++]=Mi,In[Cn++]=Vi,In[Cn++]=bs,Mi=e.id,Vi=e.overflow,bs=i),i=id(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,T=i.mode,C=e.child,j=C.sibling,l=xi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?h=xi(j,h):(h=ws(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=ed(a):(C=T.cachePool,C!==null?(j=Ae._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=wg(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=nd(e,v,a),i.memoizedState=td,l):(yr(i),a=e.child,e=a.sibling,a=xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function id(e,i){return i=cc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function cc(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rd(e,i,a){return Oa(i,e.child,null,a),e=id(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function zy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Sf(e.return,i,a)}function sd(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function jy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(ze(e,i,l.children,a),l=we.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zy(e,a,i);else if(e.tag===19)zy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(rt(we,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ac(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ac(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}sd(i,!0,a,null,d);break;case"together":sd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ko(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=xi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=xi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function _A(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),fr(i,Ae,e.memoizedState.cache),Go();break;case 27:case 5:rr(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Uy(e,i,a):(yr(i),e=zi(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ko(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return jy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(we,we.current),l)break;return null;case 22:case 23:return i.lanes=0,My(e,i,a);case 24:fr(i,Ae,e.memoizedState.cache)}return zi(e,i,a)}function By(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)xe=!0;else{if(!ad(e,a)&&(i.flags&128)===0)return xe=!1,_A(e,i,a);xe=(e.flags&131072)!==0}else xe=!1,Bt&&(i.flags&1048576)!==0&&yg(i,Hu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")pf(l)?(e=Ms(l,e),i.tag=1,i=ky(null,i,l,e,a)):(i.tag=0,i=Jf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ft){i.tag=11,i=Oy(null,i,l,e,a);break t}else if(h===I){i.tag=14,i=Ny(null,i,l,e,a);break t}}throw i=ke(l)||l,Error(s(306,i,""))}}return i;case 0:return Jf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ms(l,i.pendingProps),ky(e,i,l,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Df(e,i),tl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fr(i,Ae,l),l!==d.cache&&Af(i,[Ae],a,!0),Jo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ly(e,i,l,a);break t}else if(l!==h){h=bn(Error(s(424)),i),Qo(h),i=Ly(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=qn(e.firstChild),en=i,Bt=!0,Is=null,li=!0,a=vy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Go(),l===h){i=zi(e,i,a);break t}ze(e,i,l,a)}i=i.child}return i;case 26:return uc(e,i),e===null?(a=G_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,l=wc(St.current).createElement(a),l[Ee]=i,l[me]=e,Be(l,a,e),ce(l),i.stateNode=l):i.memoizedState=G_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return rr(i),e===null&&Bt&&(l=i.stateNode=q_(i.type,i.pendingProps,St.current),en=i,li=!0,h=le,Ir(i.type)?(jd=h,le=qn(l.firstChild)):le=h),ze(e,i,i.pendingProps.children,a),uc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=l=le)&&(l=QA(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,en=i,le=qn(l.firstChild),li=!1,h=!0):h=!1),h||Cs(i)),rr(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,kd(h,d)?l=null:v!==null&&kd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Pf(e,i,cA,null,null,a),Sl._currentValue=h),uc(e,i),ze(e,i,l,a),i.child;case 6:return e===null&&Bt&&((e=a=le)&&(a=KA(a,i.pendingProps,li),a!==null?(i.stateNode=a,en=i,le=null,e=!0):e=!1),e||Cs(i)),null;case 13:return Uy(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Oa(i,null,l,a):ze(e,i,l,a),i.child;case 11:return Oy(e,i,i.type,i.pendingProps,a);case 7:return ze(e,i,i.pendingProps,a),i.child;case 8:return ze(e,i,i.pendingProps.children,a),i.child;case 12:return ze(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),ze(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Qe(h),l=l(h),i.flags|=1,ze(e,i,l,a),i.child;case 14:return Ny(e,i,i.type,i.pendingProps,a);case 15:return xy(e,i,i.type,i.pendingProps,a);case 19:return jy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=cc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=xi(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return My(e,i,a);case 24:return Os(i),l=Qe(Ae),e===null?(h=Rf(),h===null&&(h=Jt,d=wf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Cf(i),fr(i,Ae,h)):((e.lanes&a)!==0&&(Df(e,i),tl(i,null,null,a),Jo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,Ae,l)):(l=d.cache,fr(i,Ae,l),l!==h.cache&&Af(i,[Ae],a,!0))),ze(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ji(e){e.flags|=4}function qy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!X_(i)){if(i=Dn.current,i!==null&&((Lt&4194048)===Lt?ui!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ui))throw Wo=If,bg;e.flags|=8192}}function hc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?wo():536870912,e.lanes|=i,Va|=i)}function ol(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function vA(e,i,a){var l=i.pendingProps;switch(vf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(Ae),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Fo(i)?ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Eg())),re(i),null;case 26:return a=i.memoizedState,e===null?(ji(i),a!==null?(re(i),qy(i,a)):(re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ji(i),re(i),qy(i,a)):(re(i),i.flags&=-16777217):(e.memoizedProps!==l&&ji(i),re(i),i.flags&=-16777217),null;case 27:vi(i),a=St.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=gt.current,Fo(i)?_g(i):(e=q_(h,l,a),i.stateNode=e,ji(i))}return re(i),null;case 5:if(vi(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(e=gt.current,Fo(i))_g(i);else{switch(h=wc(St.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Ee]=i,e[me]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ji(i)}}return re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=St.current,Fo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ee]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||P_(e.nodeValue,a)),e||Cs(i)}else e=wc(e).createTextNode(l),e[Ee]=i,i.stateNode=e}return re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Fo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=i}else Go(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=Eg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),re(i),null;case 4:return Xn(),e===null&&Nd(i.stateNode.containerInfo),re(i),null;case 10:return ki(i.type),re(i),null;case 19:if(ot(we),h=i.memoizedState,h===null)return re(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ac(e),d!==null){for(i.flags|=128,ol(h,!1),e=d.updateQueue,i.updateQueue=e,hc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)gg(a,e),a=a.sibling;return rt(we,we.current&1|2),i.child}e=e.sibling}h.tail!==null&&vn()>mc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(e=ac(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,hc(i,e),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return re(i),null}else 2*vn()-h.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,e=we.current,rt(we,l?e&1|2:e&1),i):(re(i),null);case 22:case 23:return Ui(i),Mf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ot(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(Ae),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function EA(e,i){switch(vf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ki(Ae),Xn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return vi(i),null;case 13:if(Ui(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Go()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ot(we),null;case 4:return Xn(),null;case 10:return ki(i.type),null;case 22:case 23:return Ui(i),Mf(),e!==null&&ot(Ns),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ki(Ae),null;case 25:return null;default:return null}}function Hy(e,i){switch(vf(i),i.tag){case 3:ki(Ae),Xn();break;case 26:case 27:case 5:vi(i);break;case 4:Xn();break;case 13:Ui(i);break;case 19:ot(we);break;case 10:ki(i.type);break;case 22:case 23:Ui(i),Mf(),e!==null&&ot(Ns);break;case 24:ki(Ae)}}function ll(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Wt(i,i.return,T)}}function vr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var C=a,j=T;try{j()}catch(X){Wt(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){Wt(i,i.return,X)}}function Fy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ng(i,a)}catch(l){Wt(e,e.return,l)}}}function Gy(e,i,a){a.props=Ms(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function ul(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function Qy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function od(e,i,a){try{var l=e.stateNode;BA(l,e.type,a,i),l[me]=i}catch(h){Wt(e,e.return,h)}}function Ky(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function ld(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ky(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ud(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ac));else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(ud(e,i,a),e=e.sibling;e!==null;)ud(e,i,a),e=e.sibling}function fc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fc(e,i,a),e=e.sibling;e!==null;)fc(e,i,a),e=e.sibling}function Yy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[Ee]=e,i[me]=a}catch(d){Wt(e,e.return,d)}}var Bi=!1,fe=!1,cd=!1,$y=typeof WeakSet=="function"?WeakSet:Set,Me=null;function TA(e,i){if(e=e.containerInfo,Vd=Oc,e=ag(e),lf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,C=-1,j=0,X=0,Z=e,H=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===e)break e;if(H===a&&++j===h&&(T=v),H===d&&++X===l&&(C=v),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:e,selectionRange:a},Oc=!1,Me=i;Me!==null;)if(i=Me,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Me=e;else for(;Me!==null;){switch(i=Me,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Tt=Ms(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Tt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Me=e;break}Me=i.return}}function Xy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),l&4&&ll(5,a);break;case 1:if(Er(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=Ms(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}l&64&&Fy(a),l&512&&ul(a,a.return);break;case 3:if(Er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ng(e,i)}catch(v){Wt(a,a.return,v)}}break;case 27:i===null&&l&4&&Yy(a);case 26:case 5:Er(e,a),i===null&&l&4&&Qy(a),l&512&&ul(a,a.return);break;case 12:Er(e,a);break;case 13:Er(e,a),l&4&&Jy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=OA.bind(null,a),YA(e,a))));break;case 22:if(l=a.memoizedState!==null||Bi,!l){i=i!==null&&i.memoizedState!==null||fe,h=Bi;var d=fe;Bi=l,(fe=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),Bi=h,fe=d}break;case 30:break;default:Er(e,a)}}function Wy(e){var i=e.alternate;i!==null&&(e.alternate=null,Wy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&lr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,sn=!1;function qi(e,i,a){for(a=a.child;a!==null;)Zy(e,i,a),a=a.sibling}function Zy(e,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:fe||ci(a,i),qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ci(a,i);var l=ne,h=sn;Ir(a.type)&&(ne=a.stateNode,sn=!1),qi(e,i,a),_l(a.stateNode),ne=l,sn=h;break;case 5:fe||ci(a,i);case 6:if(l=ne,h=sn,ne=null,qi(e,i,a),ne=l,sn=h,ne!==null)if(sn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{ne.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:ne!==null&&(sn?(e=ne,j_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):j_(ne,a.stateNode));break;case 4:l=ne,h=sn,ne=a.stateNode.containerInfo,sn=!0,qi(e,i,a),ne=l,sn=h;break;case 0:case 11:case 14:case 15:fe||vr(2,a,i),fe||vr(4,a,i),qi(e,i,a);break;case 1:fe||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Gy(a,i,l)),qi(e,i,a);break;case 21:qi(e,i,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,qi(e,i,a),fe=l;break;default:qi(e,i,a)}}function Jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){Wt(i,i.return,a)}}function SA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new $y),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new $y),i;default:throw Error(s(435,e.tag))}}function hd(e,i){var a=SA(e);i.forEach(function(l){var h=NA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Ir(T.type)){ne=T.stateNode,sn=!1;break t}break;case 5:ne=T.stateNode,sn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Zy(d,v,h),ne=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)t_(i,e),i=i.sibling}var Bn=null;function t_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),l&4&&(vr(3,e,e.return),ll(3,e),vr(5,e,e.return));break;case 1:dn(i,e),mn(e),l&512&&(fe||a===null||ci(a,a.return)),l&64&&Bi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(dn(i,e),mn(e),l&512&&(fe||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ls]||d[Ee]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[Ee]=e,ce(d),l=d;break t;case"link":var v=Y_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Y_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Ee]=e,ce(d),l=d}e.stateNode=l}else $_(h,e.type,e.stateNode);else e.stateNode=K_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?$_(h,e.type,e.stateNode):K_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&od(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),l&512&&(fe||a===null||ci(a,a.return)),a!==null&&l&4&&od(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),l&512&&(fe||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(F){Wt(e,e.return,F)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,od(e,h,a!==null?a.memoizedProps:h)),l&1024&&(cd=!0);break;case 6:if(dn(i,e),mn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(F){Wt(e,e.return,F)}}break;case 3:if(Ic=null,h=Bn,Bn=bc(i.containerInfo),dn(i,e),Bn=h,mn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(F){Wt(e,e.return,F)}cd&&(cd=!1,e_(e));break;case 4:l=Bn,Bn=bc(e.stateNode.containerInfo),dn(i,e),mn(e),Bn=l;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yd=vn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hd(e,l)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Bi,X=fe;if(Bi=j||h,fe=X||C,dn(i,e),fe=X,Bi=j,mn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Bi||fe||Vs(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=C.stateNode;var Z=C.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Wt(C,C.return,F)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){Wt(C,C.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,hd(e,a))));break;case 19:dn(i,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,hd(e,l)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(Ky(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ld(e);fc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=ld(e);fc(e,T,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=ld(e);ud(e,j,C);break;default:throw Error(s(161))}}catch(X){Wt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function e_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;e_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xy(e,i.alternate,i),i=i.sibling}function Vs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Vs(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Gy(i,i.return,a),Vs(i);break;case 27:_l(i.stateNode);case 26:case 5:ci(i,i.return),Vs(i);break;case 22:i.memoizedState===null&&Vs(i);break;case 30:Vs(i);break;default:Vs(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),ll(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Wt(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Og(C[h],T)}catch(j){Wt(l,l.return,j)}}a&&v&64&&Fy(d),ul(d,d.return);break;case 27:Yy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&Qy(d),ul(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&Jy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ul(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function fd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Yo(a))}function dd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e))}function hi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)n_(e,i,a,l),i=i.sibling}function n_(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:hi(e,i,a,l),h&2048&&ll(9,i);break;case 1:hi(e,i,a,l);break;case 3:hi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){hi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Wt(i,i.return,C)}}else hi(e,i,a,l);break;case 13:hi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?hi(e,i,a,l):cl(e,i):d._visibility&2?hi(e,i,a,l):(d._visibility|=2,Na(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&fd(v,i);break;case 24:hi(e,i,a,l),h&2048&&dd(i.alternate,i);break;default:hi(e,i,a,l)}}function Na(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,C=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:Na(d,v,T,C,h),ll(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Na(d,v,T,C,h):cl(d,v):(X._visibility|=2,Na(d,v,T,C,h)),h&&j&2048&&fd(v.alternate,v);break;case 24:Na(d,v,T,C,h),h&&j&2048&&dd(v.alternate,v);break;default:Na(d,v,T,C,h)}i=i.sibling}}function cl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&fd(l.alternate,l);break;case 24:cl(a,l),h&2048&&dd(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function xa(e){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)i_(e),e=e.sibling}function i_(e){switch(e.tag){case 26:xa(e),e.flags&hl&&e.memoizedState!==null&&ow(Bn,e.memoizedState,e.memoizedProps);break;case 5:xa(e);break;case 3:case 4:var i=Bn;Bn=bc(e.stateNode.containerInfo),xa(e),Bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,xa(e),hl=i):xa(e));break;default:xa(e)}}function r_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,a_(l,e)}r_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)s_(e),e=e.sibling}function s_(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&vr(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,dc(e)):fl(e);break;default:fl(e)}}function dc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Me=l,a_(l,e)}r_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:vr(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}e=e.sibling}}function a_(e,i){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=e;Me!==null;){l=Me;var h=l.sibling,d=l.return;if(Wy(l),l===a){Me=null;break t}if(h!==null){h.return=d,Me=h;break t}Me=d}}}var AA={getCacheForType:function(e){var i=Qe(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},wA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Nt=null,Lt=0,Qt=0,pn=null,Sr=!1,Ma=!1,md=!1,Hi=0,ue=0,Ar=0,Ps=0,pd=0,On=0,Va=0,dl=null,an=null,gd=!1,yd=0,mc=1/0,pc=null,wr=null,je=0,br=null,Pa=null,ka=0,_d=0,vd=null,o_=null,ml=0,Ed=null;function gn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if($.T!==null){var e=Aa;return e!==0?e:Id()}return ar()}function l_(){On===0&&(On=(Lt&536870912)===0||Bt?Ao():536870912);var e=Dn.current;return e!==null&&(e.flags|=32),On}function yn(e,i,a){(e===Jt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(La(e,0),Rr(e,Lt,On,!1)),Ti(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(Ps|=a),ue===4&&Rr(e,Lt,On,!1)),fi(e))}function u_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||os(e,i),h=l?IA(e,i):Ad(e,i,!0),d=l;do{if(h===0){Ma&&!l&&Rr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!bA(a)){h=Ad(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=dl;var C=T.current.memoizedState.isDehydrated;if(C&&(La(T,v).flags|=256),v=Ad(T,v,!1),v!==2){if(md&&!C){T.errorRecoveryDisabledLanes|=d,Ps|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(e,0),Rr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,On,!Sr);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=yd+300-vn(),10<h)){if(Rr(l,i,On,!Sr),ta(l,0,!0)!==0)break t;l.timeoutHandle=U_(c_.bind(null,l,a,an,pc,gd,i,On,Ps,Va,Sr,d,2,-0,0),h);break t}c_(l,a,an,pc,gd,i,On,Ps,Va,Sr,d,0,-0,0)}}break}while(!0);fi(e)}function c_(e,i,a,l,h,d,v,T,C,j,X,Z,H,F){if(e.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:aw},i_(i),Z=lw(),Z!==null)){e.cancelPendingCommit=Z(y_.bind(null,e,i,d,a,l,h,v,T,C,X,1,H,F)),Rr(e,d,v,!j);return}y_(e,i,d,a,l,h,v,T,C)}function bA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(e,i,a,l){i&=~pd,i&=~Ps,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Ge(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(e,a,i)}function gc(){return(Gt&6)===0?(pl(0),!1):!0}function Td(){if(Nt!==null){if(Qt===0)var e=Nt.return;else e=Nt,Pi=Ds=null,Uf(e),Da=null,sl=0,e=Nt;for(;e!==null;)Hy(e.alternate,e),e=e.return;Nt=null}}function La(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,HA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Td(),Jt=e,Nt=a=xi(e.current,null),Lt=i,Qt=0,pn=null,Sr=!1,Ma=os(e,i),md=!1,Va=On=pd=Ps=Ar=ue=0,an=dl=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),d=1<<h;i|=e[h],l&=~d}return Hi=i,Uu(),a}function h_(e,i){It=null,$.H=ic,i===Xo||i===Ku?(i=Cg(),Qt=3):i===bg?(i=Cg(),Qt=4):Qt=i===Dy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Nt===null&&(ue=1,lc(e,bn(i,e.current)))}function f_(){var e=$.H;return $.H=ic,e===null?ic:e}function d_(){var e=$.A;return $.A=AA,e}function Sd(){ue=4,Sr||(Lt&4194048)!==Lt&&Dn.current!==null||(Ma=!0),(Ar&134217727)===0&&(Ps&134217727)===0||Jt===null||Rr(Jt,Lt,On,!1)}function Ad(e,i,a){var l=Gt;Gt|=2;var h=f_(),d=d_();(Jt!==e||Lt!==i)&&(pc=null,La(e,i)),i=!1;var v=ue;t:do try{if(Qt!==0&&Nt!==null){var T=Nt,C=pn;switch(Qt){case 8:Td(),v=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var j=Qt;if(Qt=0,pn=null,Ua(e,T,C,j),a&&Ma){v=0;break t}break;default:j=Qt,Qt=0,pn=null,Ua(e,T,C,j)}}RA(),v=ue;break}catch(X){h_(e,X)}while(!0);return i&&e.shellSuspendCounter++,Pi=Ds=null,Gt=l,$.H=h,$.A=d,Nt===null&&(Jt=null,Lt=0,Uu()),v}function RA(){for(;Nt!==null;)m_(Nt)}function IA(e,i){var a=Gt;Gt|=2;var l=f_(),h=d_();Jt!==e||Lt!==i?(pc=null,mc=vn()+500,La(e,i)):Ma=os(e,i);t:do try{if(Qt!==0&&Nt!==null){i=Nt;var d=pn;e:switch(Qt){case 1:Qt=0,pn=null,Ua(e,i,d,1);break;case 2:case 9:if(Rg(d)){Qt=0,pn=null,p_(i);break}i=function(){Qt!==2&&Qt!==9||Jt!==e||(Qt=7),fi(e)},d.then(i,i);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Rg(d)?(Qt=0,pn=null,p_(i)):(Qt=0,pn=null,Ua(e,i,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||X_(v)){Qt=0,pn=null;var C=T.sibling;if(C!==null)Nt=C;else{var j=T.return;j!==null?(Nt=j,yc(j)):Nt=null}break e}}Qt=0,pn=null,Ua(e,i,d,5);break;case 6:Qt=0,pn=null,Ua(e,i,d,6);break;case 8:Td(),ue=6;break t;default:throw Error(s(462))}}CA();break}catch(X){h_(e,X)}while(!0);return Pi=Ds=null,$.H=l,$.A=h,Gt=a,Nt!==null?0:(Jt=null,Lt=0,Uu(),ue)}function CA(){for(;Nt!==null&&!vo();)m_(Nt)}function m_(e){var i=By(e.alternate,e,Hi);e.memoizedProps=e.pendingProps,i===null?yc(e):Nt=i}function p_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Py(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Py(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:Uf(i);default:Hy(a,i),i=Nt=gg(i,Hi),i=By(a,i,Hi)}e.memoizedProps=e.pendingProps,i===null?yc(e):Nt=i}function Ua(e,i,a,l){Pi=Ds=null,Uf(i),Da=null,sl=0;var h=i.return;try{if(yA(e,h,i,a,Lt)){ue=1,lc(e,bn(a,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;ue=1,lc(e,bn(a,e.current)),Nt=null;return}i.flags&32768?(Bt||l===1?e=!0:Ma||(Lt&536870912)!==0?e=!1:(Sr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),g_(i,e)):yc(i)}function yc(e){var i=e;do{if((i.flags&32768)!==0){g_(i,Sr);return}e=i.return;var a=vA(i.alternate,i,Hi);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ue===0&&(ue=5)}function g_(e,i){do{var a=EA(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ue=6,Nt=null}function y_(e,i,a,l,h,d,v,T,C){e.cancelPendingCommit=null;do _c();while(je!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=df,bo(e,a,d,v,T,C),e===Jt&&(Nt=Jt=null,Lt=0),Pa=i,br=e,ka=a,_d=d,vd=h,o_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xA(is,function(){return S_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=at.p,at.p=2,v=Gt,Gt|=4;try{TA(e,i,a)}finally{Gt=v,at.p=h,$.T=l}}je=1,__(),v_(),E_()}}function __(){if(je===1){je=0;var e=br,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{t_(i,e);var d=Pd,v=ag(e.containerInfo),T=d.focusedElem,C=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&sg(T.ownerDocument.documentElement,T)){if(C!==null&&lf(T)){var j=C.start,X=C.end;if(X===void 0&&(X=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),Tt=T.textContent.length,yt=Math.min(C.start,Tt),Xt=C.end===void 0?yt:Math.min(C.end,Tt);!F.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var k=rg(T,yt),V=rg(T,Xt);if(k&&V&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=Z.createRange();z.setStart(k.node,k.offset),F.removeAllRanges(),yt>Xt?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Vd,Pd=Vd=null}finally{Gt=h,at.p=l,$.T=a}}e.current=i,je=2}}function v_(){if(je===2){je=0;var e=br,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=at.p;at.p=2;var h=Gt;Gt|=4;try{Xy(e,i.alternate,i)}finally{Gt=h,at.p=l,$.T=a}}je=3}}function E_(){if(je===4||je===3){je=0,du();var e=br,i=Pa,a=ka,l=o_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?je=5:(je=0,Pa=br=null,T_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(wr=null),ea(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=at.p,at.p=2,$.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{$.T=i,at.p=h}}(ka&3)!==0&&_c(),fi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ed?ml++:(ml=0,Ed=e):ml=0,pl(0)}}function T_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Yo(i)))}function _c(e){return __(),v_(),E_(),S_()}function S_(){if(je!==5)return!1;var e=br,i=_d;_d=0;var a=ea(ka),l=$.T,h=at.p;try{at.p=32>a?32:a,$.T=null,a=vd,vd=null;var d=br,v=ka;if(je=0,Pa=br=null,ka=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,s_(d.current),n_(d,d.current,v,a),Gt=T,pl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{at.p=h,$.T=l,T_(e,i)}}function A_(e,i,a){i=bn(a,i),i=Zf(e.stateNode,i,2),e=pr(e,i,2),e!==null&&(Ti(e,2),fi(e))}function Wt(e,i,a){if(e.tag===3)A_(e,e,a);else for(;i!==null;){if(i.tag===3){A_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=bn(a,e),a=Iy(2),l=pr(i,a,2),l!==null&&(Cy(a,l,i,e),Ti(l,2),fi(l));break}}i=i.return}}function wd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new wA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),e=DA.bind(null,e,i,a),i.then(e,e))}function DA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(Lt&a)===a&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>vn()-yd?(Gt&2)===0&&La(e,0):pd|=a,Va===Lt&&(Va=0)),fi(e)}function w_(e,i){i===0&&(i=wo()),e=va(e,i),e!==null&&(Ti(e,i),fi(e))}function OA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),w_(e,a)}function NA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),w_(e,a)}function xA(e,i){return es(e,i)}var vc=null,za=null,bd=!1,Ec=!1,Rd=!1,ks=0;function fi(e){e!==za&&e.next===null&&(za===null?vc=za=e:za=za.next=e),Ec=!0,bd||(bd=!0,VA())}function pl(e,i){if(!Rd&&Ec){Rd=!0;do for(var a=!1,l=vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,C_(l,d))}else d=Lt,d=ta(l,l===Jt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||os(l,d)||(a=!0,C_(l,d));l=l.next}while(a);Rd=!1}}function MA(){b_()}function b_(){Ec=bd=!1;var e=0;ks!==0&&(qA()&&(e=ks),ks=0);for(var i=vn(),a=null,l=vc;l!==null;){var h=l.next,d=R_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(za=a)):(a=l,(e!==0||(d&3)!==0)&&(Ec=!0)),l=h}pl(e)}function R_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ge(d),T=1<<v,C=h[v];C===-1?((T&a)===0||(T&l)!==0)&&(h[v]=So(T,i)):C<=i&&(e.expiredLanes|=T),d&=~T}if(i=Jt,a=Lt,a=ta(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ns(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||os(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&ns(l),ea(a)){case 2:case 8:a=Zs;break;case 32:a=is;break;case 268435456:a=Js;break;default:a=is}return l=I_.bind(null,e),a=es(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&ns(l),e.callbackPriority=2,e.callbackNode=null,2}function I_(e,i){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_c()&&e.callbackNode!==a)return null;var l=Lt;return l=ta(e,e===Jt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(u_(e,l,i),R_(e,vn()),e.callbackNode!=null&&e.callbackNode===a?I_.bind(null,e):null)}function C_(e,i){if(_c())return null;u_(e,i,!0)}function VA(){FA(function(){(Gt&6)!==0?es(Eo,MA):b_()})}function Id(){return ks===0&&(ks=Ao()),ks}function D_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function O_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function PA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=D_((h[me]||null).action),v=l.submitter;v&&(i=(i=v[me]||null)?D_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new la("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var C=v?O_(h,v):new FormData(h);Kf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=v?O_(h,v):new FormData(h),Kf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Cd=0;Cd<ff.length;Cd++){var Dd=ff[Cd],kA=Dd.toLowerCase(),LA=Dd[0].toUpperCase()+Dd.slice(1);jn(kA,"on"+LA)}jn(ug,"onAnimationEnd"),jn(cg,"onAnimationIteration"),jn(hg,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(tA,"onTransitionRun"),jn(eA,"onTransitionStart"),jn(nA,"onTransitionCancel"),jn(fg,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function N_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(T=l[v],C=T.instance,j=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=j;try{d(h)}catch(X){oc(X)}h.currentTarget=null,d=C}}}}function xt(e,i){var a=i[Io];a===void 0&&(a=i[Io]=new Set);var l=e+"__bubble";a.has(l)||(x_(i,e,2,!1),a.add(l))}function Od(e,i,a){var l=0;i&&(l|=4),x_(a,e,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Nd(e){if(!e[Tc]){e[Tc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(UA.has(a)||Od(a,!1,e),Od(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,Od("selectionchange",!1,i))}}function x_(e,i,a,l){switch(nv(i)){case 2:var h=hw;break;case 8:h=fw;break;default:h=Gd}a=h.bind(null,i,a,e),h=void 0,!An||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function xd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Si(T),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue t}T=T.parentNode}}l=l.return}Au(function(){var j=d,X=Sn(a),Z=[];t:{var H=dg.get(e);if(H!==void 0){var F=la,Tt=e;switch(e){case"keypress":if(ii(a)===0)break t;case"keydown":case"keyup":F=ma;break;case"focusin":Tt="focus",F=ha;break;case"focusout":Tt="blur",F=ha;break;case"beforeblur":case"afterblur":F=ha;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Nu;break;case ug:case cg:case hg:F=fa;break;case fg:F=Mu;break;case"scroll":case"scrollend":F=wu;break;case"wheel":F=pa;break;case"copy":case"cut":case"paste":F=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=jo;break;case"toggle":case"beforetoggle":F=Pu}var yt=(i&4)!==0,Xt=!yt&&(e==="scroll"||e==="scrollend"),k=yt?H!==null?H+"Capture":null:H;yt=[];for(var V=j,z;V!==null;){var W=V;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||k===null||(W=ps(V,k),W!=null&&yt.push(yl(V,W,z))),Xt)break;V=V.return}0<yt.length&&(H=new F(H,Tt,null,a,X),Z.push({event:H,listeners:yt}))}}if((i&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",H&&a!==Ri&&(Tt=a.relatedTarget||a.fromElement)&&(Si(Tt)||Tt[En]))break t;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Tt=a.relatedTarget||a.toElement,F=j,Tt=Tt?Si(Tt):null,Tt!==null&&(Xt=u(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(F=null,Tt=j),F!==Tt)){if(yt=wn,W="onMouseLeave",k="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(yt=jo,W="onPointerLeave",k="onPointerEnter",V="pointer"),Xt=F==null?H:Jn(F),z=Tt==null?H:Jn(Tt),H=new yt(W,V+"leave",F,a,X),H.target=Xt,H.relatedTarget=z,W=null,Si(X)===j&&(yt=new yt(k,V+"enter",Tt,a,X),yt.target=z,yt.relatedTarget=Xt,W=yt),Xt=W,F&&Tt)e:{for(yt=F,k=Tt,V=0,z=yt;z;z=ja(z))V++;for(z=0,W=k;W;W=ja(W))z++;for(;0<V-z;)yt=ja(yt),V--;for(;0<z-V;)k=ja(k),z--;for(;V--;){if(yt===k||k!==null&&yt===k.alternate)break e;yt=ja(yt),k=ja(k)}yt=null}else yt=null;F!==null&&M_(Z,H,F,yt,!1),Tt!==null&&Xt!==null&&M_(Z,Xt,Tt,yt,!0)}}t:{if(H=j?Jn(j):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ct=Zp;else if(Se(H))if(Jp)ct=WS;else{ct=$S;var Ot=YS}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?j&&Mo(j.elementType)&&(ct=Zp):ct=XS;if(ct&&(ct=ct(e,j))){Ni(Z,ct,a,X);break t}Ot&&Ot(e,H,j),e==="focusout"&&j&&H.type==="number"&&j.memoizedProps.value!=null&&cr(H,"number",H.value)}switch(Ot=j?Jn(j):window,e){case"focusin":(Se(Ot)||Ot.contentEditable==="true")&&(ga=Ot,uf=j,Ho=null);break;case"focusout":Ho=uf=ga=null;break;case"mousedown":cf=!0;break;case"contextmenu":case"mouseup":case"dragend":cf=!1,og(Z,a,X);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":og(Z,a,X)}var dt;if(ai)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?Q(e,a)&&(_t="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(dt=Po()):(ni=X,hr="value"in ni?ni.value:ni.textContent,Pt=!0)),Ot=Sc(j,_t),0<Ot.length&&(_t=new Uo(_t,e,null,a,X),Z.push({event:_t,listeners:Ot}),dt?_t.data=dt:(dt=st(a),dt!==null&&(_t.data=dt)))),(dt=y?Te(e,a):kt(e,a))&&(_t=Sc(j,"onBeforeInput"),0<_t.length&&(Ot=new Uo("onBeforeInput","beforeinput",null,a,X),Z.push({event:Ot,listeners:_t}),Ot.data=dt)),PA(Z,e,j,a,X)}N_(Z,i)})}function yl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Sc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ps(e,a),h!=null&&l.unshift(yl(e,h,d)),h=ps(e,i),h!=null&&l.push(yl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function M_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=ps(a,d),j!=null&&v.unshift(yl(a,j,C))):h||(j=ps(a,d),j!=null&&v.push(yl(a,j,C)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var zA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function V_(e){return(typeof e=="string"?e:""+e).replace(zA,`
`).replace(jA,"")}function P_(e,i){return i=V_(i),V_(e)===i}function Ac(){}function $t(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(e,""+l);break;case"className":ti(e,"class",l);break;case"tabIndex":ti(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(e,a,l);break;case"style":xo(e,l,d);break;case"data":if(i!=="object"){ti(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=oa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$t(e,i,"name",h.name,h,null),$t(e,i,"formEncType",h.formEncType,h,null),$t(e,i,"formMethod",h.formMethod,h,null),$t(e,i,"formTarget",h.formTarget,h,null)):($t(e,i,"encType",h.encType,h,null),$t(e,i,"method",h.method,h,null),$t(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=oa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ac);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=oa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ef.get(a)||a,ur(e,a,l))}}function Md(e,i,a,l,h,d){switch(a){case"style":xo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Tn(e,l):(typeof l=="number"||typeof l=="bigint")&&Tn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[me]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ur(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,d,v,a,null)}}h&&$t(e,i,"srcSet",a.srcSet,a,null),l&&$t(e,i,"src",a.src,a,null);return;case"input":xt("invalid",e);var T=d=v=h=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:$t(e,i,l,X,a,null)}}fs(e,d,T,C,j,v,h,!1),aa(e);return;case"select":xt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$t(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!l,i!=null?bi(e,!!l,i,!1):a!=null&&bi(e,!!l,a,!0);return;case"textarea":xt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(e,i,v,T,a,null)}ds(e,l,h,d),aa(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(e,i,C,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<gl.length;l++)xt(gl[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$t(e,i,j,l,a,null)}return;default:if(Mo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Md(e,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$t(e,i,T,l,a,null))}function BA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,C=null,j=null,X=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(F)||$t(e,i,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&$t(e,i,H,F,l,Z)}}cn(e,v,T,C,j,X,d,h);return;case"select":F=v=T=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||$t(e,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==C&&$t(e,i,h,d,l,C)}i=T,a=v,l=F,H!=null?bi(e,!!a,H,!1):!!l!=!!a&&(i!=null?bi(e,!!a,i,!0):bi(e,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(e,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$t(e,i,v,h,l,d)}Kt(e,H,F);return;case"option":for(var Tt in a)if(H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":e.selected=!1;break;default:$t(e,i,Tt,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:$t(e,i,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)H=a[yt],a.hasOwnProperty(yt)&&H!=null&&!l.hasOwnProperty(yt)&&$t(e,i,yt,null,l,H);for(j in l)if(H=l[j],F=a[j],l.hasOwnProperty(j)&&H!==F&&(H!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:$t(e,i,j,H,l,F)}return;default:if(Mo(i)){for(var Xt in a)H=a[Xt],a.hasOwnProperty(Xt)&&H!==void 0&&!l.hasOwnProperty(Xt)&&Md(e,i,Xt,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Md(e,i,X,H,l,F);return}}for(var k in a)H=a[k],a.hasOwnProperty(k)&&H!=null&&!l.hasOwnProperty(k)&&$t(e,i,k,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||$t(e,i,Z,H,l,F)}var Vd=null,Pd=null;function wc(e){return e.nodeType===9?e:e.ownerDocument}function k_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function kd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ld=null;function qA(){var e=window.event;return e&&e.type==="popstate"?e===Ld?!1:(Ld=e,!0):(Ld=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,z_=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof z_<"u"?function(e){return z_.resolve(null).then(e).catch(GA)}:U_;function GA(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function j_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&_l(v.documentElement),a&2&&_l(v.body),a&4)for(a=v.head,_l(a),v=a.firstChild;v;){var T=v.nextSibling,C=v.nodeName;v[ls]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),Rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function Ud(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function QA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ls])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function KA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=qn(e.nextSibling),e===null))return null;return e}function zd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function YA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var jd=null;function B_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function q_(e,i,a){switch(i=wc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _l(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);lr(e)}var Nn=new Map,H_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fi=at.d;at.d={f:$A,r:XA,D:WA,C:ZA,L:JA,m:tw,X:nw,S:ew,M:iw};function $A(){var e=Fi.f(),i=gc();return e||i}function XA(e){var i=Zn(e);i!==null&&i.tag===5&&i.type==="form"?uy(i):Fi.r(e)}var Ba=typeof document>"u"?null:document;function F_(e,i,a){var l=Ba;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),H_.has(h)||(H_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),ce(i),l.head.appendChild(i)))}}function WA(e){Fi.D(e),F_("dns-prefetch",e,null)}function ZA(e,i){Fi.C(e,i),F_("preconnect",e,i)}function JA(e,i,a){Fi.L(e,i,a);var l=Ba;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var d=h;switch(i){case"style":d=qa(e);break;case"script":d=Ha(e)}Nn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),Be(i,"link",e),ce(i),l.head.appendChild(i)))}}function tw(e,i){Fi.m(e,i);var a=Ba;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),Be(l,"link",e),ce(l),a.head.appendChild(l)}}}function ew(e,i,a){Fi.S(e,i,a);var l=Ba;if(l&&e){var h=Ze(l).hoistableStyles,d=qa(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(vl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&Bd(e,a);var C=v=l.createElement("link");ce(C),Be(C,"link",e),C._p=new Promise(function(j,X){C.onload=j,C.onerror=X}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Rc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function nw(e,i){Fi.X(e,i);var a=Ba;if(a&&e){var l=Ze(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=E({src:e,async:!0},i),(i=Nn.get(h))&&qd(e,i),d=a.createElement("script"),ce(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function iw(e,i){Fi.M(e,i);var a=Ba;if(a&&e){var l=Ze(a).hoistableScripts,h=Ha(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&qd(e,i),d=a.createElement("script"),ce(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function G_(e,i,a,l){var h=(h=St.current)?bc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=Ze(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=qa(a.href);var d=Ze(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(vl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||rw(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ha(a),a=Ze(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function qa(e){return'href="'+pe(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function Q_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function rw(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),ce(i),e.head.appendChild(i))}function Ha(e){return'[src="'+pe(e)+'"]'}function El(e){return"script[async]"+e}function K_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return i.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ce(l),Be(l,"style",h),Rc(l,a.precedence,e),i.instance=l;case"stylesheet":h=qa(a.href);var d=e.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,ce(d),d;l=Q_(a),(h=Nn.get(h))&&Bd(l,h),d=(e.ownerDocument||e).createElement("link"),ce(d);var v=d;return v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Be(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,e),i.instance=d;case"script":return d=Ha(a.src),(h=e.querySelector(El(d)))?(i.instance=h,ce(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),qd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ce(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,e));return i.instance}function Rc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function qd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ic=null;function Y_(e,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[ls]||d[Ee]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function $_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function sw(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function X_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Tl=null;function aw(){}function ow(e,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=e.querySelector(vl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Cc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,ce(d);return}d=e.ownerDocument||e,a=Q_(a),(h=Nn.get(h))&&Bd(a,h),d=d.createElement("link"),ce(d);var v=d;v._p=new Promise(function(T,C){v.onload=T,v.onerror=C}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function lw(){if(Tl===null)throw Error(s(475));var e=Tl;return e.stylesheets&&e.count===0&&Hd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Hd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Dc=null;function Hd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Dc=new Map,i.forEach(uw,e),Dc=null,Cc.call(e))}function uw(e,i){if(!(i.state.loading&4)){var a=Dc.get(e);if(a)var l=a.get(null);else{a=new Map,Dc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Sl={$$typeof:et,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function cw(e,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function W_(e,i,a,l,h,d,v,T,C,j,X,Z){return e=new cw(e,i,a,v,T,C,j,Z),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=wf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Cf(d),e}function Z_(e){return e?(e=Ea,e):Ea}function J_(e,i,a,l,h,d){h=Z_(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(e,l,i),a!==null&&(yn(a,e,i),Zo(a,e,i))}function tv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Fd(e,i){tv(e,i),(e=e.alternate)&&tv(e,i)}function ev(e){if(e.tag===13){var i=va(e,67108864);i!==null&&yn(i,e,67108864),Fd(e,67108864)}}var Oc=!0;function hw(e,i,a,l){var h=$.T;$.T=null;var d=at.p;try{at.p=2,Gd(e,i,a,l)}finally{at.p=d,$.T=h}}function fw(e,i,a,l){var h=$.T;$.T=null;var d=at.p;try{at.p=8,Gd(e,i,a,l)}finally{at.p=d,$.T=h}}function Gd(e,i,a,l){if(Oc){var h=Qd(l);if(h===null)xd(e,i,l,Nc,a),iv(e,l);else if(mw(h,e,i,a,l))l.stopPropagation();else if(iv(e,l),i&4&&-1<dw.indexOf(e)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var C=1<<31-Ge(v);T.entanglements[1]|=C,v&=~C}fi(d),(Gt&6)===0&&(mc=vn()+500,pl(0))}}break;case 13:T=va(d,2),T!==null&&yn(T,d,2),gc(),Fd(d,2)}if(d=Qd(l),d===null&&xd(e,i,l,Nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else xd(e,i,l,null,a)}}function Qd(e){return e=Sn(e),Kd(e)}var Nc=null;function Kd(e){if(Nc=null,e=Si(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Nc=e,null}function nv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($h()){case Eo:return 2;case Zs:return 8;case is:case Xh:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Yd=!1,Cr=null,Dr=null,Or=null,Al=new Map,wl=new Map,Nr=[],dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(e,i){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Zn(i),i!==null&&ev(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function mw(e,i,a,l,h){switch(i){case"focusin":return Cr=bl(Cr,e,i,a,l,h),!0;case"dragenter":return Dr=bl(Dr,e,i,a,l,h),!0;case"mouseover":return Or=bl(Or,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Al.set(d,bl(Al.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,bl(wl.get(d)||null,e,i,a,l,h)),!0}return!1}function rv(e){var i=Si(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,gu(e.priority,function(){if(a.tag===13){var l=gn();l=sr(l);var h=va(a,l);h!==null&&yn(h,a,l),Fd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Qd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return i=Zn(a),i!==null&&ev(i),e.blockedOn=a,!1;i.shift()}return!0}function sv(e,i,a){xc(e)&&a.delete(i)}function pw(){Yd=!1,Cr!==null&&xc(Cr)&&(Cr=null),Dr!==null&&xc(Dr)&&(Dr=null),Or!==null&&xc(Or)&&(Or=null),Al.forEach(sv),wl.forEach(sv)}function Mc(e,i){e.blockedOn===i&&(e.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pw)))}var Vc=null;function av(e){Vc!==e&&(Vc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===e&&(Vc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=Zn(a);d!==null&&(e.splice(i,3),i-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(e){function i(C){return Mc(C,e)}Cr!==null&&Mc(Cr,e),Dr!==null&&Mc(Dr,e),Or!==null&&Mc(Or,e),Al.forEach(i),wl.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)rv(a),a.blockedOn===null&&Nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[me]||null;if(typeof d=="function")v||av(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[me]||null)T=v.formAction;else if(Kd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),av(a)}}}function $d(e){this._internalRoot=e}Pc.prototype.render=$d.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();J_(a,l,e,i,null,null)},Pc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;J_(e.current,2,null,e,null,null),gc(),i[En]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ar();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,e),a===0&&rv(e)}};var ov=t.version;if(ov!=="19.1.0")throw Error(s(527,ov,"19.1.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var gw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{oe=kc.inject(gw),Ft=kc}catch{}}return Cl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=Ay,d=wy,v=by,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=W_(e,1,!1,null,null,a,l,h,d,v,T,null),e[En]=i.current,Nd(e),new $d(i)},Cl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=Ay,v=wy,T=by,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=W_(e,1,!0,i,a??null,l,h,d,v,T,C,j),i.context=Z_(null),a=i.current,l=gn(),l=sr(l),h=mr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,Ti(i,a),fi(i),e[En]=i.current,Nd(e),new Pc(i)},Cl.version="19.1.0",Cl}var yv;function Iw(){if(yv)return Zd.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Zd.exports=Rw(),Zd.exports}var Cw=Iw();const Dw=eT(Cw);var Dl={},_v;function Ow(){if(_v)return Dl;_v=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.parse=f,Dl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,N){const D=new u,G=A.length;if(G<2)return D;const B=(N==null?void 0:N.decode)||E;let Y=0;do{const it=A.indexOf("=",Y);if(it===-1)break;const et=A.indexOf(";",Y),ft=et===-1?G:et;if(it>ft){Y=A.lastIndexOf(";",it-1)+1;continue}const ht=m(A,Y,it),wt=p(A,it,ht),I=A.slice(ht,wt);if(D[I]===void 0){let b=m(A,it+1,ft),R=p(A,ft,b);const x=B(A.slice(b,R));D[I]=x}Y=ft+1}while(Y<G);return D}function m(A,N,D){do{const G=A.charCodeAt(N);if(G!==32&&G!==9)return N}while(++N<D);return D}function p(A,N,D){for(;N>D;){const G=A.charCodeAt(--N);if(G!==32&&G!==9)return N+1}return D}function g(A,N,D){const G=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const B=G(N);if(!t.test(B))throw new TypeError(`argument val is invalid: ${N}`);let Y=A+"="+B;if(!D)return Y;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);Y+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);Y+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);Y+="; Path="+D.path}if(D.expires){if(!w(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);Y+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(Y+="; HttpOnly"),D.secure&&(Y+="; Secure"),D.partitioned&&(Y+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return Y}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Dl}Ow();var vv="popstate";function Nw(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:p=""}=Qs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),gm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Hl(u))}function s(o,u){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Mw(t,n,s,r)}function ie(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Pn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xw(){return Math.random().toString(36).substring(2,10)}function Ev(r,t){return{usr:r.state,key:r.key,idx:t}}function gm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Qs(t):t,state:n,key:t&&t.key||s||xw()}}function Hl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Qs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Mw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let B=E(),Y=B==null?null:B-g;g=B,p&&p({action:m,location:G.location,delta:Y})}function A(B,Y){m="PUSH";let it=gm(G.location,B,Y);n&&n(it,B),g=E()+1;let et=Ev(it,g),ft=G.createHref(it);try{f.pushState(et,"",ft)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(ft)}u&&p&&p({action:m,location:G.location,delta:1})}function N(B,Y){m="REPLACE";let it=gm(G.location,B,Y);n&&n(it,B),g=E();let et=Ev(it,g),ft=G.createHref(it);f.replaceState(et,"",ft),u&&p&&p({action:m,location:G.location,delta:0})}function D(B){return Vw(B)}let G={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(vv,w),p=B,()=>{o.removeEventListener(vv,w),p=null}},createHref(B){return t(o,B)},createURL:D,encodeLocation(B){let Y=D(B);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:N,go(B){return f.go(B)}};return G}function Vw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ie(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Hl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function nT(r,t,n="/"){return Pw(r,t,n,!1)}function Pw(r,t,n,s){let o=typeof t=="string"?Qs(t):t,u=Wi(o.pathname||"/",n);if(u==null)return null;let f=iT(r);kw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Kw(u);m=Gw(f[p],g,s)}return m}function iT(r,t=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(ie(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ki([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ie(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),iT(u.children,t,E,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:Hw(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of rT(u.path))o(u,f,p)}),t}function rT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=rT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function kw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:Fw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Lw=/^:[\w-]+$/,Uw=3,zw=2,jw=1,Bw=10,qw=-2,Tv=r=>r==="*";function Hw(r,t){let n=r.split("/"),s=n.length;return n.some(Tv)&&(s+=qw),t&&(s+=zw),n.filter(o=>!Tv(o)).reduce((o,u)=>o+(Lw.test(u)?Uw:u===""?jw:Bw),s)}function Fw(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function Gw(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",w=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Ki([u,w.pathname]),pathnameBase:Ww(Ki([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Ki([u,w.pathnameBase]))}return f}function nh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Qw(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let D=m[A]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const N=m[A];return w&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Qw(r,t=!1,n=!0){Pn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function Kw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Wi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Yw(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Qs(r):r;return{pathname:n?n.startsWith("/")?n:$w(n,t):t,search:Zw(s),hash:Jw(o)}}function $w(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function nm(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Xw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Qm(r){let t=Xw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Km(r,t,n,s=!1){let o;typeof r=="string"?o=Qs(r):(o={...r},ie(!o.pathname||!o.pathname.includes("?"),nm("?","pathname","search",o)),ie(!o.pathname||!o.pathname.includes("#"),nm("#","pathname","hash",o)),ie(!o.search||!o.search.includes("#"),nm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?t[w]:"/"}let p=Yw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Ki=r=>r.join("/").replace(/\/\/+/g,"/"),Ww=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Jw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var eb=["GET",...sT];new Set(eb);var uo=q.createContext(null);uo.displayName="DataRouter";var Ah=q.createContext(null);Ah.displayName="DataRouterState";var aT=q.createContext({isTransitioning:!1});aT.displayName="ViewTransition";var nb=q.createContext(new Map);nb.displayName="Fetchers";var ib=q.createContext(null);ib.displayName="Await";var $n=q.createContext(null);$n.displayName="Navigation";var Zl=q.createContext(null);Zl.displayName="Location";var kn=q.createContext({outlet:null,matches:[],isDataRoute:!1});kn.displayName="Route";var Ym=q.createContext(null);Ym.displayName="RouteError";function rb(r,{relative:t}={}){ie(co(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext($n),{hash:o,pathname:u,search:f}=Jl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Ki([n,u])),s.createHref({pathname:m,search:f,hash:o})}function co(){return q.useContext(Zl)!=null}function Xr(){return ie(co(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(Zl).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(r){q.useContext($n).static||q.useLayoutEffect(r)}function Ks(){let{isDataRoute:r}=q.useContext(kn);return r?Eb():sb()}function sb(){ie(co(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(uo),{basename:t,navigator:n}=q.useContext($n),{matches:s}=q.useContext(kn),{pathname:o}=Xr(),u=JSON.stringify(Qm(s)),f=q.useRef(!1);return lT(()=>{f.current=!0}),q.useCallback((p,g={})=>{if(Pn(f.current,oT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=Km(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Ki([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}var ab=q.createContext(null);function ob(r){let t=q.useContext(kn).outlet;return t&&q.createElement(ab.Provider,{value:r},t)}function lb(){let{matches:r}=q.useContext(kn),t=r[r.length-1];return t?t.params:{}}function Jl(r,{relative:t}={}){let{matches:n}=q.useContext(kn),{pathname:s}=Xr(),o=JSON.stringify(Qm(n));return q.useMemo(()=>Km(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function ub(r,t){return uT(r,t)}function uT(r,t,n,s){var it;ie(co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext($n),{matches:f}=q.useContext(kn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let et=w&&w.path||"";cT(g,!w||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let A=Xr(),N;if(t){let et=typeof t=="string"?Qs(t):t;ie(E==="/"||((it=et.pathname)==null?void 0:it.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),N=et}else N=A;let D=N.pathname||"/",G=D;if(E!=="/"){let et=E.replace(/^\//,"").split("/");G="/"+D.replace(/^\//,"").split("/").slice(et.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:nT(r,{pathname:G});Pn(w||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Pn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=mb(B&&B.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:Ki([E,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:Ki([E,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),f,n,s);return t&&Y?q.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Y):Y}function cb(){let r=vb(),t=tb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},t),n?q.createElement("pre",{style:o},n):null,f)}var hb=q.createElement(cb,null),fb=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?q.createElement(kn.Provider,{value:this.props.routeContext},q.createElement(Ym.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function db({routeContext:r,match:t,children:n}){let s=q.useContext(uo);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),q.createElement(kn.Provider,{value:r},n)}function mb(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ie(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,N=null,D=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||hb,f&&(m<0&&E===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,D=null):m===E&&(A=!0,D=g.route.hydrateFallbackElement||null)));let G=t.concat(o.slice(0,E+1)),B=()=>{let Y;return w?Y=N:A?Y=D:g.route.Component?Y=q.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,q.createElement(db,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:Y})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?q.createElement(fb,{location:n.location,revalidation:n.revalidation,component:N,error:w,children:B(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):B()},null)}function $m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pb(r){let t=q.useContext(uo);return ie(t,$m(r)),t}function gb(r){let t=q.useContext(Ah);return ie(t,$m(r)),t}function yb(r){let t=q.useContext(kn);return ie(t,$m(r)),t}function Xm(r){let t=yb(r),n=t.matches[t.matches.length-1];return ie(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function _b(){return Xm("useRouteId")}function vb(){var s;let r=q.useContext(Ym),t=gb("useRouteError"),n=Xm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function Eb(){let{router:r}=pb("useNavigate"),t=Xm("useNavigate"),n=q.useRef(!1);return lT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{Pn(n.current,oT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var Sv={};function cT(r,t,n){!t&&!Sv[r]&&(Sv[r]=!0,Pn(!1,n))}q.memo(Tb);function Tb({routes:r,future:t,state:n}){return uT(r,void 0,n,t)}function Us({to:r,replace:t,state:n,relative:s}){ie(co(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext($n);Pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(kn),{pathname:f}=Xr(),m=Ks(),p=Km(r,Qm(u),f,s==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:t,state:n,relative:s})},[m,g,s,t,n]),null}function Sb(r){return ob(r.context)}function xn(r){ie(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ab({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ie(!co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Qs(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,N=q.useMemo(()=>{let D=Wi(p,f);return D==null?null:{location:{pathname:D,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return Pn(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:q.createElement($n.Provider,{value:m},q.createElement(Zl.Provider,{children:t,value:N}))}function wb({children:r,location:t}){return ub(ym(r),t)}function ym(r,t=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...t,o];if(s.type===q.Fragment){n.push.apply(n,ym(s.props.children,u));return}ie(s.type===xn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ie(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ym(s.props.children,u)),n.push(f)}),n}var Fc="get",Gc="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function bb(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function Rb(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function Ib(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function Cb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Db(r,t){return r.button===0&&(!t||t==="_self")&&!Cb(r)}var Lc=null;function Ob(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var Nb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(r){return r!=null&&!Nb.has(r)?(Pn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gc}"`),null):r}function xb(r,t){let n,s,o,u,f;if(Rb(r)){let m=r.getAttribute("action");s=m?Wi(m,t):null,n=r.getAttribute("method")||Fc,o=im(r.getAttribute("enctype"))||Gc,u=new FormData(r)}else if(bb(r)||Ib(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Wi(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Fc,o=im(r.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||Gc,u=new FormData(m,r),!Ob()){let{name:g,type:E,value:w}=r;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fc,s=null,o=Gc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Mb(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Vb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Pb(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Mb(u,n);return f.links?f.links():[]}return[]}));return zb(s.flat(1).filter(Vb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function kb(r,t,{includeHydrateFallback:n}={}){return Lb(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Lb(r){return[...new Set(r)]}function Ub(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function zb(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(Ub(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jb=new Set([100,101,204,205]);function Bb(r,t){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":t&&Wi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function hT(){let r=q.useContext(uo);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qb(){let r=q.useContext(Ah);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zm=q.createContext(void 0);Zm.displayName="FrameworkContext";function fT(){let r=q.useContext(Zm);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function Hb(r,t){let n=q.useContext(Zm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=t,A=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=Y=>{Y.forEach(it=>{f(it.isIntersecting)})},B=new IntersectionObserver(G,{threshold:.5});return A.current&&B.observe(A.current),()=>{B.disconnect()}}},[r]),q.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let N=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,N),onBlur:Ol(p,D),onMouseEnter:Ol(g,N),onMouseLeave:Ol(E,D),onTouchStart:Ol(w,N)}]:[!1,A,{}]}function Ol(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Fb({page:r,...t}){let{router:n}=hT(),s=q.useMemo(()=>nT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(Qb,{page:r,matches:s,...t}):null}function Gb(r){let{manifest:t,routeModules:n}=fT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Pb(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Qb({page:r,matches:t,...n}){let s=Xr(),{manifest:o,routeModules:u}=fT(),{basename:f}=hT(),{loaderData:m,matches:p}=qb(),g=q.useMemo(()=>Av(r,t,p,o,s,"data"),[r,t,p,o,s]),E=q.useMemo(()=>Av(r,t,p,o,s,"assets"),[r,t,p,o,s]),w=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,G=!1;if(t.forEach(Y=>{var et;let it=o.routes[Y.route.id];!it||!it.hasLoader||(!g.some(ft=>ft.route.id===Y.route.id)&&Y.route.id in m&&((et=u[Y.route.id])!=null&&et.shouldRevalidate)||it.hasClientLoader?G=!0:D.add(Y.route.id))}),D.size===0)return[];let B=Bb(r,f);return G&&D.size>0&&B.searchParams.set("_routes",t.filter(Y=>D.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,g,t,r,u]),A=q.useMemo(()=>kb(E,o),[E,o]),N=Gb(E);return q.createElement(q.Fragment,null,w.map(D=>q.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),A.map(D=>q.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),N.map(({key:D,link:G})=>q.createElement("link",{key:D,...G})))}function Kb(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dT&&(window.__reactRouterVersion="7.6.0")}catch{}function Yb({basename:r,children:t,window:n}){let s=q.useRef();s.current==null&&(s.current=Nw({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(Ab,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jm=q.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},N){let{basename:D}=q.useContext($n),G=typeof g=="string"&&mT.test(g),B,Y=!1;if(typeof g=="string"&&G&&(B=g,dT))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=Wi(x.pathname,D);x.origin===R.origin&&P!=null?g=P+x.search+x.hash:Y=!0}catch{Pn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=rb(g,{relative:o}),[et,ft,ht]=Hb(s,A),wt=Zb(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function I(R){t&&t(R),R.defaultPrevented||wt(R)}let b=q.createElement("a",{...A,...ht,href:B||it,onClick:Y||u?t:I,ref:Kb(N,ft),target:p,"data-discover":!G&&n==="render"?"true":void 0});return et&&!G?q.createElement(q.Fragment,null,b,q.createElement(Fb,{page:it})):b});Jm.displayName="Link";var $b=q.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=Jl(f,{relative:g.relative}),A=Xr(),N=q.useContext(Ah),{navigator:D,basename:G}=q.useContext($n),B=N!=null&&i1(w)&&m===!0,Y=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,it=A.pathname,et=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(it=it.toLowerCase(),et=et?et.toLowerCase():null,Y=Y.toLowerCase()),et&&G&&(et=Wi(et,G)||et);const ft=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ht=it===Y||!o&&it.startsWith(Y)&&it.charAt(ft)==="/",wt=et!=null&&(et===Y||!o&&et.startsWith(Y)&&et.charAt(Y.length)==="/"),I={isActive:ht,isPending:wt,isTransitioning:B},b=ht?t:void 0,R;typeof s=="function"?R=s(I):R=[s,ht?"active":null,wt?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(I):u;return q.createElement(Jm,{...g,"aria-current":b,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(I):p)});$b.displayName="NavLink";var Xb=q.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Fc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},N)=>{let D=e1(),G=n1(m,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&mT.test(m),it=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let ft=et.nativeEvent.submitter,ht=(ft==null?void 0:ft.getAttribute("formmethod"))||f;D(ft||et.currentTarget,{fetcherKey:t,method:ht,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return q.createElement("form",{ref:N,method:B,action:G,onSubmit:s?p:it,...A,"data-discover":!Y&&r==="render"?"true":void 0})});Xb.displayName="Form";function Wb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(r){let t=q.useContext(uo);return ie(t,Wb(r)),t}function Zb(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Ks(),p=Xr(),g=Jl(r,{relative:u});return q.useCallback(E=>{if(Db(E,t)){E.preventDefault();let w=n!==void 0?n:Hl(p)===Hl(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,t,r,o,u,f])}var Jb=0,t1=()=>`__${String(++Jb)}__`;function e1(){let{router:r}=pT("useSubmit"),{basename:t}=q.useContext($n),n=_b();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=xb(s,t);if(o.navigate===!1){let E=o.fetcherKey||t1();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function n1(r,{relative:t}={}){let{basename:n}=q.useContext($n),s=q.useContext(kn);ie(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(r||".",{relative:t})},f=Xr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ki([n,u.pathname])),Hl(u)}function i1(r,t={}){let n=q.useContext(aT);ie(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pT("useViewTransitionState"),o=Jl(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=Wi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Wi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nh(o.pathname,f)!=null||nh(o.pathname,u)!=null}[...jb];const r1=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},s1=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,N=g&63;p||(N=64,f||(A=64)),s.push(n[E],n[w],n[A],n[N])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(gT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):s1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new a1;const A=u<<2|m>>4;if(s.push(A),g!==64){const N=m<<4&240|g>>2;if(s.push(N),w!==64){const D=g<<6&192|w;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class a1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o1=function(r){const t=gT(r);return yT.encodeByteArray(t,!0)},ih=function(r){return o1(r).replace(/\./g,"")},_T=function(r){try{return yT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=()=>l1().__FIREBASE_DEFAULTS__,c1=()=>{if(typeof process>"u"||typeof wv>"u")return;const r=wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},h1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_T(r[1]);return t&&JSON.parse(t)},bh=()=>{try{return r1()||u1()||c1()||h1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vT=r=>{var t,n;return(n=(t=bh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},f1=r=>{const t=vT(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},ET=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},TT=r=>{var t;return(t=bh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){return r.endsWith(".cloudworkstations.dev")}async function ST(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const Ll={};function p1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ll))Ll[t]?r.emulator.push(t):r.prod.push(t);return r}function g1(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let bv=!1;function Rh(r,t){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||Ll[r]===t||Ll[r]||bv)return;Ll[r]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=p1().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,N){A.setAttribute("width","24"),A.setAttribute("id",N),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{bv=!0,f()},A}function E(A,N){A.setAttribute("id",N),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=g1(s),N=n("text"),D=document.getElementById(N)||document.createElement("span"),G=n("learnmore"),B=document.getElementById(G)||document.createElement("a"),Y=n("preprendIcon"),it=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const et=A.element;m(et),E(B,G);const ft=g();p(it,Y),et.append(it,D,B,ft),document.body.appendChild(et)}u?(D.innerText="Preview backend disconnected.",it.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(it.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function _1(){var r;const t=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function T1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function A1(){return!_1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";class nr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=R1,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?I1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new nr(o,m,s)}}function I1(r,t){return r.replace(C1,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const C1=/\{\$([^}]+)}/g;function D1(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function js(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Rv(u)&&Rv(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Rv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Nl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function xl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function O1(r,t){const n=new N1(r,t);return n.subscribe.bind(n)}class N1{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");x1(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r){return r&&r._delegate?r._delegate:r}class Bs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new d1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(P1(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:V1(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V1(r){return r===Ls?void 0:r}function P1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new M1(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const L1={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},U1=Mt.INFO,z1={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},j1=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=z1[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tp{constructor(t){this.name=t,this._logLevel=U1,this._logHandler=j1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?L1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const B1=(r,t)=>t.some(n=>r instanceof n);let Iv,Cv;function q1(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H1(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,_m=new WeakMap,wT=new WeakMap,sm=new WeakMap,ep=new WeakMap;function F1(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),ep.set(t,r),t}function G1(r){if(_m.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});_m.set(r,t)}let vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return _m.get(r);if(t==="objectStoreNames")return r.objectStoreNames||wT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Q1(r){vm=r(vm)}function K1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(am(this),t,...n);return wT.set(s,t.sort?t.sort():[t]),zr(s)}:H1().includes(r)?function(...t){return r.apply(am(this),t),zr(AT.get(this))}:function(...t){return zr(r.apply(am(this),t))}}function Y1(r){return typeof r=="function"?K1(r):(r instanceof IDBTransaction&&G1(r),B1(r,q1())?new Proxy(r,vm):r)}function zr(r){if(r instanceof IDBRequest)return F1(r);if(sm.has(r))return sm.get(r);const t=Y1(r);return t!==r&&(sm.set(r,t),ep.set(t,r)),t}const am=r=>ep.get(r);function $1(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=zr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(zr(f.result),p.oldVersion,p.newVersion,zr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const X1=["get","getKey","getAll","getAllKeys","count"],W1=["put","add","delete","clear"],om=new Map;function Dv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(om.get(t))return om.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=W1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||X1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return om.set(t,u),u}Q1(r=>({...r,get:(t,n,s)=>Dv(t,n)||r.get(t,n,s),has:(t,n)=>!!Dv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(J1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function J1(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Em="@firebase/app",Ov="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new tp("@firebase/app"),tR="@firebase/app-compat",eR="@firebase/analytics-compat",nR="@firebase/analytics",iR="@firebase/app-check-compat",rR="@firebase/app-check",sR="@firebase/auth",aR="@firebase/auth-compat",oR="@firebase/database",lR="@firebase/data-connect",uR="@firebase/database-compat",cR="@firebase/functions",hR="@firebase/functions-compat",fR="@firebase/installations",dR="@firebase/installations-compat",mR="@firebase/messaging",pR="@firebase/messaging-compat",gR="@firebase/performance",yR="@firebase/performance-compat",_R="@firebase/remote-config",vR="@firebase/remote-config-compat",ER="@firebase/storage",TR="@firebase/storage-compat",SR="@firebase/firestore",AR="@firebase/vertexai",wR="@firebase/firestore-compat",bR="firebase",RR="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="[DEFAULT]",IR={[Em]:"fire-core",[tR]:"fire-core-compat",[nR]:"fire-analytics",[eR]:"fire-analytics-compat",[rR]:"fire-app-check",[iR]:"fire-app-check-compat",[sR]:"fire-auth",[aR]:"fire-auth-compat",[oR]:"fire-rtdb",[lR]:"fire-data-connect",[uR]:"fire-rtdb-compat",[cR]:"fire-fn",[hR]:"fire-fn-compat",[fR]:"fire-iid",[dR]:"fire-iid-compat",[mR]:"fire-fcm",[pR]:"fire-fcm-compat",[gR]:"fire-perf",[yR]:"fire-perf-compat",[_R]:"fire-rc",[vR]:"fire-rc-compat",[ER]:"fire-gcs",[TR]:"fire-gcs-compat",[SR]:"fire-fst",[wR]:"fire-fst-compat",[AR]:"fire-vertex","fire-js":"fire-js",[bR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,CR=new Map,Sm=new Map;function Nv(r,t){try{r.container.addComponent(t)}catch(n){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const t=r.name;if(Sm.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;Sm.set(t,r);for(const n of rh.values())Nv(n,r);for(const n of CR.values())Nv(n,r);return!0}function np(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new eu("app","Firebase",DR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=RR;function bT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Tm,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(n||(n=ET()),!n)throw jr.create("no-options");const u=rh.get(o);if(u){if(js(n,u.options)&&js(s,u.config))return u;throw jr.create("duplicate-app",{appName:o})}const f=new k1(o);for(const p of Sm.values())f.addComponent(p);const m=new OR(n,s,f);return rh.set(o,m),m}function RT(r=Tm){const t=rh.get(r);if(!t&&r===Tm&&ET())return bT();if(!t)throw jr.create("no-app",{appName:r});return t}function Br(r,t,n){var s;let o=(s=IR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(m.join(" "));return}Ja(new Bs(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",xR=1,Fl="firebase-heartbeat-store";let lm=null;function IT(){return lm||(lm=$1(NR,xR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),lm}async function MR(r){try{const n=(await IT()).transaction(Fl),s=await n.objectStore(Fl).get(CT(r));return await n.done,s}catch(t){if(t instanceof nr)Zi.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(n.message)}}}async function xv(r,t){try{const s=(await IT()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(t,CT(r)),await s.done}catch(n){if(n instanceof nr)Zi.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(s.message)}}}function CT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1024,PR=30;class kR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>PR){const f=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Zi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:s,unsentEntries:o}=LR(this._heartbeatsCache.heartbeats),u=ih(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Zi.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function LR(r,t=VR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Vv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Vv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class UR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Vv(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function zR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(r){Ja(new Bs("platform-logger",t=>new Z1(t),"PRIVATE")),Ja(new Bs("heartbeat",t=>new kR(t),"PRIVATE")),Br(Em,Ov,r),Br(Em,Ov,"esm2017"),Br("fire-js","")}jR("");function ip(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function DT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BR=DT,OT=new eu("auth","Firebase",DT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new tp("@firebase/auth");function qR(r,...t){sh.logLevel<=Mt.WARN&&sh.warn(`Auth (${ho}): ${r}`,...t)}function Qc(r,...t){sh.logLevel<=Mt.ERROR&&sh.error(`Auth (${ho}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r,...t){throw rp(r,...t)}function mi(r,...t){return rp(r,...t)}function NT(r,t,n){const s=Object.assign(Object.assign({},BR()),{[t]:n});return new eu("auth","Firebase",s).create(t,{appName:r.name})}function Yi(r){return NT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return OT.create(r,...t)}function vt(r,t,...n){if(!r)throw rp(t,...n)}function Gi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Qc(t),new Error(t)}function Ji(r,t){r||Gi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function HR(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||E1()||"connection"in navigator)?navigator.onLine:!0}function GR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ji(n>t,"Short delay should be less than long delay!"),this.isMobile=y1()||T1()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,t){Ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new iu(3e4,6e4);function Wr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function ir(r,t,n,s,o={}){return MT(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:t,headers:p},u);return v1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&tu(r.emulatorConfig.host)&&(g.credentials="include"),xT.fetch()(await VT(r,r.config.apiHost,n,m),g)})}async function MT(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},QR),t);try{const o=new XR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Uc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Uc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NT(r,E,g);Gn(r,E)}}catch(o){if(o instanceof nr)throw o;Gn(r,"network-request-failed",{message:String(o)})}}async function ru(r,t,n,s,o={}){const u=await ir(r,t,n,s,o);return"mfaPendingCredential"in u&&Gn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function VT(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?sp(r.config,o):`${r.config.apiScheme}://${o}`;return KR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function $R(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),YR.get())})}}function Uc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(r,t,s);return o.customData._tokenResponse=n,o}function kv(r){return r!==void 0&&r.enterprise!==void 0}class WR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return $R(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZR(r,t){return ir(r,"GET","/v2/recaptchaConfig",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(r,t){return ir(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return ir(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function tI(r,t=!1){const n=Ce(r),s=await n.getIdToken(t),o=ap(s);vt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ul(um(o.auth_time)),issuedAtTime:Ul(um(o.iat)),expirationTime:Ul(um(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function um(r){return Number(r)*1e3}function ap(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_T(n);return o?JSON.parse(o):(Qc("Failed to decode base64 JWT payload"),null)}catch(o){return Qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Lv(r){const t=ap(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof nr&&eI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function eI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(r){var t;const n=r.auth,s=await r.getIdToken(),o=await to(r,ah(n,{idToken:s}));vt(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?PT(u.providerUserInfo):[],m=rI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function iI(r){const t=Ce(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rI(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function PT(r){return r.map(t=>{var{providerId:n}=t,s=ip(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sI(r,t){const n=await MT(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await VT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",xT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aI(r,t){return ir(r,"POST","/v2/accounts:revokeToken",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Lv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=Lv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await sI(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(vt(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(vt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(vt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Hn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=ip(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await to(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return tI(this,t)}reload(){return iI(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Hn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Yi(this.auth));const t=await this.getIdToken();return await to(this,JR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(g=n.createdAt)!==null&&g!==void 0?g:void 0,it=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:et,emailVerified:ft,isAnonymous:ht,providerData:wt,stsTokenManager:I}=n;vt(et&&I,t,"internal-error");const b=$a.fromJSON(this.name,I);vt(typeof et=="string",t,"internal-error"),Mr(w,t.name),Mr(A,t.name),vt(typeof ft=="boolean",t,"internal-error"),vt(typeof ht=="boolean",t,"internal-error"),Mr(N,t.name),Mr(D,t.name),Mr(G,t.name),Mr(B,t.name),Mr(Y,t.name),Mr(it,t.name);const R=new Hn({uid:et,auth:t,email:A,emailVerified:ft,displayName:w,isAnonymous:ht,photoURL:D,phoneNumber:N,tenantId:G,stsTokenManager:b,createdAt:Y,lastLoginAt:it});return wt&&Array.isArray(wt)&&(R.providerData=wt.map(x=>Object.assign({},x))),B&&(R._redirectEventId=B),R}static async _fromIdTokenResponse(t,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await oh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?PT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new $a;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;function Qi(r){Ji(r instanceof Function,"Expected a class definition");let t=Uv.get(r);return t?(Ji(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Uv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kT.type="NONE";const zv=kT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Kc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Kc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ah(this.auth,{idToken:t}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,t):null}return Hn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(Qi(zv),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Qi(zv);const f=Kc(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await ah(t,{idToken:E}).catch(()=>{});if(!A)break;w=await Hn._fromGetAccountInfoResponse(t,A,E)}else w=Hn._fromJSON(t,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xa(u,t,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Xa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qT(t))return"Blackberry";if(HT(t))return"Webos";if(UT(t))return"Safari";if((t.includes("chrome/")||zT(t))&&!t.includes("edge/"))return"Chrome";if(BT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LT(r=We()){return/firefox\//i.test(r)}function UT(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function zT(r=We()){return/crios\//i.test(r)}function jT(r=We()){return/iemobile/i.test(r)}function BT(r=We()){return/android/i.test(r)}function qT(r=We()){return/blackberry/i.test(r)}function HT(r=We()){return/webos/i.test(r)}function op(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function oI(r=We()){var t;return op(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function lI(){return S1()&&document.documentMode===10}function FT(r=We()){return op(r)||BT(r)||HT(r)||qT(r)||/windows phone/i.test(r)||jT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,t=[]){let n;switch(r){case"Browser":n=jv(We());break;case"Worker":n=`${jv(We())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const p=t(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cI(r,t={}){return ir(r,"GET","/v2/passwordPolicy",Wr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=6;class fI{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:hI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bv(this),this.idTokenSubscription=new Bv(this),this.beforeStateQueue=new uI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Qi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ah(this,{idToken:t}),s=await Hn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Yi(this));const n=t?Ce(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cI(this),n=new fI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await aI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Qi(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&qR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ys(r){return Ce(r)}class Bv{constructor(t){this.auth=t,this.observer=null,this.addObserver=O1(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mI(r){Ih=r}function QT(r){return Ih.loadJS(r)}function pI(){return Ih.recaptchaEnterpriseScript}function gI(){return Ih.gapiScript}function yI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _I{constructor(){this.enterprise=new vI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class vI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const EI="recaptcha-enterprise",KT="NO_RECAPTCHA";class TI{constructor(t){this.type=EI,this.auth=Ys(t)}async verify(t="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{ZR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new WR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;kv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(g=>{f(g)}).catch(()=>{f(KT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _I().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=pI();p.length!==0&&(p+=m),QT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function qv(r,t,n,s=!1,o=!1){const u=new TI(r);let f;if(o)f=KT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function bm(r,t,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await qv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await qv(r,t,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r,t){const n=np(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(js(u,t??{}))return o;Gn(o,"already-initialized")}return n.initialize({options:t})}function AI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function wI(r,t,n){const s=Ys(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=YT(t),{host:f,port:m}=bI(t),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(js(g,s.config.emulator)&&js(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,tu(f)?(Rh("Auth",!0),ST(`${u}//${f}${p}`)):RI()}function YT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function bI(r){const t=YT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Hv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Hv(f)}}}function Hv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function RI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(t){return Gi("not implemented")}_linkToIdToken(t,n){return Gi("not implemented")}_getReauthenticationResolver(t){return Gi("not implemented")}}async function II(r,t){return ir(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(r,t){return ru(r,"POST","/v1/accounts:signInWithPassword",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",Wr(r,t))}async function OI(r,t){return ru(r,"POST","/v1/accounts:signInWithEmailLink",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends lp{constructor(t,n,s,o=null){super("password",s),this._email=t,this._password=n,this._tenantId=o}static _fromEmailAndPassword(t,n){return new Gl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Gl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(t,n,"signInWithPassword",CI);case"emailLink":return DI(t,{email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bm(t,s,"signUpPassword",II);case"emailLink":return OI(t,{idToken:n,email:this._email,oobCode:this._password});default:Gn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r,t){return ru(r,"POST","/v1/accounts:signInWithIdp",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="http://localhost";class qs extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=ip(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:NI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=nu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MI(r){const t=Nl(xl(r)).link,n=t?Nl(xl(t)).deep_link_id:null,s=Nl(xl(r)).deep_link_id;return(s?Nl(xl(s)).link:null)||s||n||t||r}class up{constructor(t){var n,s,o,u,f,m;const p=Nl(xl(t)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=xI((o=p.mode)!==null&&o!==void 0?o:null);vt(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.lang)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const n=MI(t);try{return new up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(t,n){return Gl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=up.parseLink(n);return vt(s,"argument-error"),Gl._fromEmailAndCode(t,s.code,s.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends $T{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends su{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Vr.credentialFromTaggedObject(t)}static credentialFromError(t){return Vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Vr.credential(t.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends su{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends su{constructor(){super("twitter.com")}static credential(t,n){return qs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(r,t){return ru(r,"POST","/v1/accounts:signUp",Wr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Hn._fromIdTokenResponse(t,s,o),f=Fv(s);return new Hs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Fv(s);return new Hs({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Fv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh extends nr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new lh(t,n,s,o)}}function XT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,u,t,s):u})}async function PI(r,t,n=!1){const s=await to(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Hs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r,t,n=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject(Yi(s));const o="reauthenticate";try{const u=await to(r,XT(s,o,t,r),n);vt(u.idToken,s,"internal-error");const f=ap(u.idToken);vt(f,s,"internal-error");const{sub:m}=f;return vt(r.uid===m,s,"user-mismatch"),Hs._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r,t,n=!1){if(Mn(r.app))return Promise.reject(Yi(r));const s="signIn",o=await XT(r,s,t),u=await Hs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function LI(r,t){return WT(Ys(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r){const t=Ys(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function cp(r,t,n){if(Mn(r.app))return Promise.reject(Yi(r));const s=Ys(r),f=await bm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(r),p}),m=await Hs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function UI(r,t,n){return Mn(r.app)?Promise.reject(Yi(r)):LI(Ce(r),fo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,t){return ir(r,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,{displayName:t,photoURL:n}){const s=Ce(r),u={idToken:await s.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},f=await to(s,zI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function BI(r,t,n,s){return Ce(r).onIdTokenChanged(t,n,s)}function qI(r,t,n){return Ce(r).beforeAuthStateChanged(t,n)}function HI(r,t,n,s){return Ce(r).onAuthStateChanged(t,n,s)}function hp(r){return Ce(r).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1e3,GI=10;class t0 extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);lI()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,GI):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}t0.type="LOCAL";const QI=t0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}e0.type="SESSION";const n0=e0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Ch(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await KI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=fp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function $I(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function XI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ZI(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firebaseLocalStorageDb",JI=1,ch="firebaseLocalStorage",s0="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function tC(){const r=indexedDB.deleteDatabase(r0);return new au(r).toPromise()}function Rm(){const r=indexedDB.open(r0,JI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ch,{keyPath:s0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ch)?t(s):(s.close(),await tC(),t(await Rm()))})})}async function Gv(r,t,n){const s=Dh(r,!0).put({[s0]:t,value:n});return new au(s).toPromise()}async function eC(r,t){const n=Dh(r,!1).get(t),s=await new au(n).toPromise();return s===void 0?null:s.value}function Qv(r,t){const n=Dh(r,!0).delete(t);return new au(n).toPromise()}const nC=800,iC=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>iC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new YI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rm();return await Gv(t,uh,"1"),await Qv(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Gv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>eC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Dh(o,!1).getAll();return new au(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const rC=a0;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r,t){return t?Qi(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends lp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function aC(r){return WT(r.auth,new dp(r),r.bypassAuthState)}function oC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),kI(n,new dp(r),r.bypassAuthState)}async function lC(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),PI(n,new dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return aC;case"linkViaPopup":case"linkViaRedirect":return lC;case"reauthViaPopup":case"reauthViaRedirect":return oC;default:Gn(this.auth,"internal-error")}}resolve(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=new iu(2e3,1e4);class Ya extends o0{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const t=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,uC.get())};t()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="pendingRedirect",Yc=new Map;class hC extends o0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const s=await fC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fC(r,t){const n=pC(t),s=mC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function dC(r,t){Yc.set(r._key(),t)}function mC(r){return Qi(r._redirectPersistence)}function pC(r){return Kc(cC,r.config.apiKey,r.name)}async function gC(r,t,n=!1){if(Mn(r.app))return Promise.reject(Yi(r));const s=Ys(r),o=sC(s,t),f=await new hC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=10*60*1e3;class _C{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!l0(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kv(t))}saveEventToCache(t){this.cachedEventUids.add(Kv(t)),this.lastProcessedEventTime=Date.now()}}function Kv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function l0({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,t={}){return ir(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SC=/^https?/;async function AC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await EC(r);for(const n of t)try{if(wC(n))return}catch{}Gn(r,"unauthorized-domain")}function wC(r){const t=Am(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!SC.test(n))return!1;if(TC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new iu(3e4,6e4);function Yv(){const r=pi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function RC(r){return new Promise((t,n)=>{var s,o,u;function f(){Yv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yv(),n(mi(r,"network-request-failed"))},timeout:bC.get()})}if(!((o=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)f();else{const m=yI("iframefcb");return pi()[m]=()=>{gapi.load?f():n(mi(r,"network-request-failed"))},QT(`${gI()}?onload=${m}`).catch(p=>n(p))}}).catch(t=>{throw $c=null,t})}let $c=null;function IC(r){return $c=$c||RC(r),$c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new iu(5e3,15e3),DC="__/auth/iframe",OC="emulator/auth/iframe",NC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?sp(t,OC):`https://${r.config.authDomain}/${DC}`,s={apiKey:t.apiKey,appName:r.name,v:ho},o=xC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function VC(r){const t=await IC(r),n=pi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:MC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},CC.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kC=500,LC=600,UC="_blank",zC="http://localhost";class $v{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jC(r,t,n,s=kC,o=LC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},PC),{width:s.toString(),height:o.toString(),top:u,left:f}),g=We().toLowerCase();n&&(m=zT(g)?UC:n),LT(g)&&(t=t||zC,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[N,D])=>`${A}${N}=${D},`,"");if(oI(g)&&m!=="_self")return BC(t||"",m),new $v(null);const w=window.open(t||"",m,E);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new $v(w)}function BC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="__/auth/handler",HC="emulator/auth/handler",FC=encodeURIComponent("fac");async function Xv(r,t,n,s,o,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ho,eventId:o};if(t instanceof $T){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",D1(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(t instanceof su){const E=t.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${FC}=${encodeURIComponent(p)}`:"";return`${GC(r)}?${nu(m).slice(1)}${g}`}function GC({config:r}){return r.emulator?sp(r,HC):`https://${r.authDomain}/${qC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class QC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=gC,this._overrideRedirectResult=dC}async _openPopup(t,n,s,o){var u;Ji((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Xv(t,n,s,Am(),o);return jC(t,f,fp())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Xv(t,n,s,Am(),o);return $I(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ji(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await VC(t),s=new _C(t);return n.register("authEvent",o=>(vt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(cm,{type:cm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[cm];f!==void 0&&n(!!f),Gn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||UT()||op()}}const KC=QC;var Wv="@firebase/auth",Zv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XC(r){Ja(new Bs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;vt(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(r)},g=new dI(s,o,u,p);return AI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new Bs("auth-internal",t=>{const n=Ys(t.getProvider("auth").getImmediate());return(s=>new YC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(Wv,Zv,$C(r)),Br(Wv,Zv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=5*60,ZC=TT("authIdTokenMaxAge")||WC;let Jv=null;const JC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>ZC)return;const o=n==null?void 0:n.token;Jv!==o&&(Jv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function t2(r=RT()){const t=np(r,"auth");if(t.isInitialized())return t.getImmediate();const n=SI(r,{popupRedirectResolver:KC,persistence:[rC,QI,n0]}),s=TT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=JC(u.toString());qI(n,f,()=>f(n.currentUser)),BI(n,m=>f(m))}}const o=vT("auth");return o?wI(n,`http://${o}`):Rh("Auth",!1),n}function e2(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}mI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",e2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XC("Browser");var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qr,u0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function R(){}R.prototype=b.prototype,I.D=b.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(x,P,L){for(var O=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)O[ke-2]=arguments[ke];return b.prototype[P].apply(x,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,b,R){R||(R=0);var x=Array(16);if(typeof b=="string")for(var P=0;16>P;++P)x[P]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(P=0;16>P;++P)x[P]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=I.g[0],R=I.g[1],P=I.g[2];var L=I.g[3],O=b+(L^R&(P^L))+x[0]+3614090360&4294967295;b=R+(O<<7&4294967295|O>>>25),O=L+(P^b&(R^P))+x[1]+3905402710&4294967295,L=b+(O<<12&4294967295|O>>>20),O=P+(R^L&(b^R))+x[2]+606105819&4294967295,P=L+(O<<17&4294967295|O>>>15),O=R+(b^P&(L^b))+x[3]+3250441966&4294967295,R=P+(O<<22&4294967295|O>>>10),O=b+(L^R&(P^L))+x[4]+4118548399&4294967295,b=R+(O<<7&4294967295|O>>>25),O=L+(P^b&(R^P))+x[5]+1200080426&4294967295,L=b+(O<<12&4294967295|O>>>20),O=P+(R^L&(b^R))+x[6]+2821735955&4294967295,P=L+(O<<17&4294967295|O>>>15),O=R+(b^P&(L^b))+x[7]+4249261313&4294967295,R=P+(O<<22&4294967295|O>>>10),O=b+(L^R&(P^L))+x[8]+1770035416&4294967295,b=R+(O<<7&4294967295|O>>>25),O=L+(P^b&(R^P))+x[9]+2336552879&4294967295,L=b+(O<<12&4294967295|O>>>20),O=P+(R^L&(b^R))+x[10]+4294925233&4294967295,P=L+(O<<17&4294967295|O>>>15),O=R+(b^P&(L^b))+x[11]+2304563134&4294967295,R=P+(O<<22&4294967295|O>>>10),O=b+(L^R&(P^L))+x[12]+1804603682&4294967295,b=R+(O<<7&4294967295|O>>>25),O=L+(P^b&(R^P))+x[13]+4254626195&4294967295,L=b+(O<<12&4294967295|O>>>20),O=P+(R^L&(b^R))+x[14]+2792965006&4294967295,P=L+(O<<17&4294967295|O>>>15),O=R+(b^P&(L^b))+x[15]+1236535329&4294967295,R=P+(O<<22&4294967295|O>>>10),O=b+(P^L&(R^P))+x[1]+4129170786&4294967295,b=R+(O<<5&4294967295|O>>>27),O=L+(R^P&(b^R))+x[6]+3225465664&4294967295,L=b+(O<<9&4294967295|O>>>23),O=P+(b^R&(L^b))+x[11]+643717713&4294967295,P=L+(O<<14&4294967295|O>>>18),O=R+(L^b&(P^L))+x[0]+3921069994&4294967295,R=P+(O<<20&4294967295|O>>>12),O=b+(P^L&(R^P))+x[5]+3593408605&4294967295,b=R+(O<<5&4294967295|O>>>27),O=L+(R^P&(b^R))+x[10]+38016083&4294967295,L=b+(O<<9&4294967295|O>>>23),O=P+(b^R&(L^b))+x[15]+3634488961&4294967295,P=L+(O<<14&4294967295|O>>>18),O=R+(L^b&(P^L))+x[4]+3889429448&4294967295,R=P+(O<<20&4294967295|O>>>12),O=b+(P^L&(R^P))+x[9]+568446438&4294967295,b=R+(O<<5&4294967295|O>>>27),O=L+(R^P&(b^R))+x[14]+3275163606&4294967295,L=b+(O<<9&4294967295|O>>>23),O=P+(b^R&(L^b))+x[3]+4107603335&4294967295,P=L+(O<<14&4294967295|O>>>18),O=R+(L^b&(P^L))+x[8]+1163531501&4294967295,R=P+(O<<20&4294967295|O>>>12),O=b+(P^L&(R^P))+x[13]+2850285829&4294967295,b=R+(O<<5&4294967295|O>>>27),O=L+(R^P&(b^R))+x[2]+4243563512&4294967295,L=b+(O<<9&4294967295|O>>>23),O=P+(b^R&(L^b))+x[7]+1735328473&4294967295,P=L+(O<<14&4294967295|O>>>18),O=R+(L^b&(P^L))+x[12]+2368359562&4294967295,R=P+(O<<20&4294967295|O>>>12),O=b+(R^P^L)+x[5]+4294588738&4294967295,b=R+(O<<4&4294967295|O>>>28),O=L+(b^R^P)+x[8]+2272392833&4294967295,L=b+(O<<11&4294967295|O>>>21),O=P+(L^b^R)+x[11]+1839030562&4294967295,P=L+(O<<16&4294967295|O>>>16),O=R+(P^L^b)+x[14]+4259657740&4294967295,R=P+(O<<23&4294967295|O>>>9),O=b+(R^P^L)+x[1]+2763975236&4294967295,b=R+(O<<4&4294967295|O>>>28),O=L+(b^R^P)+x[4]+1272893353&4294967295,L=b+(O<<11&4294967295|O>>>21),O=P+(L^b^R)+x[7]+4139469664&4294967295,P=L+(O<<16&4294967295|O>>>16),O=R+(P^L^b)+x[10]+3200236656&4294967295,R=P+(O<<23&4294967295|O>>>9),O=b+(R^P^L)+x[13]+681279174&4294967295,b=R+(O<<4&4294967295|O>>>28),O=L+(b^R^P)+x[0]+3936430074&4294967295,L=b+(O<<11&4294967295|O>>>21),O=P+(L^b^R)+x[3]+3572445317&4294967295,P=L+(O<<16&4294967295|O>>>16),O=R+(P^L^b)+x[6]+76029189&4294967295,R=P+(O<<23&4294967295|O>>>9),O=b+(R^P^L)+x[9]+3654602809&4294967295,b=R+(O<<4&4294967295|O>>>28),O=L+(b^R^P)+x[12]+3873151461&4294967295,L=b+(O<<11&4294967295|O>>>21),O=P+(L^b^R)+x[15]+530742520&4294967295,P=L+(O<<16&4294967295|O>>>16),O=R+(P^L^b)+x[2]+3299628645&4294967295,R=P+(O<<23&4294967295|O>>>9),O=b+(P^(R|~L))+x[0]+4096336452&4294967295,b=R+(O<<6&4294967295|O>>>26),O=L+(R^(b|~P))+x[7]+1126891415&4294967295,L=b+(O<<10&4294967295|O>>>22),O=P+(b^(L|~R))+x[14]+2878612391&4294967295,P=L+(O<<15&4294967295|O>>>17),O=R+(L^(P|~b))+x[5]+4237533241&4294967295,R=P+(O<<21&4294967295|O>>>11),O=b+(P^(R|~L))+x[12]+1700485571&4294967295,b=R+(O<<6&4294967295|O>>>26),O=L+(R^(b|~P))+x[3]+2399980690&4294967295,L=b+(O<<10&4294967295|O>>>22),O=P+(b^(L|~R))+x[10]+4293915773&4294967295,P=L+(O<<15&4294967295|O>>>17),O=R+(L^(P|~b))+x[1]+2240044497&4294967295,R=P+(O<<21&4294967295|O>>>11),O=b+(P^(R|~L))+x[8]+1873313359&4294967295,b=R+(O<<6&4294967295|O>>>26),O=L+(R^(b|~P))+x[15]+4264355552&4294967295,L=b+(O<<10&4294967295|O>>>22),O=P+(b^(L|~R))+x[6]+2734768916&4294967295,P=L+(O<<15&4294967295|O>>>17),O=R+(L^(P|~b))+x[13]+1309151649&4294967295,R=P+(O<<21&4294967295|O>>>11),O=b+(P^(R|~L))+x[4]+4149444226&4294967295,b=R+(O<<6&4294967295|O>>>26),O=L+(R^(b|~P))+x[11]+3174756917&4294967295,L=b+(O<<10&4294967295|O>>>22),O=P+(b^(L|~R))+x[2]+718787259&4294967295,P=L+(O<<15&4294967295|O>>>17),O=R+(L^(P|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var R=b-this.blockSize,x=this.B,P=this.h,L=0;L<b;){if(P==0)for(;L<=R;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(x[P++]=I.charCodeAt(L++),P==this.blockSize){o(this,x),P=0;break}}else for(;L<b;)if(x[P++]=I[L++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=b},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var R=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=R&255,R/=256;for(this.u(I),I=Array(16),b=R=0;4>b;++b)for(var x=0;32>x;x+=8)I[R++]=this.g[b]>>>x&255;return I};function u(I,b){var R=m;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=b(I)}function f(I,b){this.h=b;for(var R=[],x=!0,P=I.length-1;0<=P;P--){var L=I[P]|0;x&&L==b||(R[P]=L,x=!1)}this.g=R}var m={};function p(I){return-128<=I&&128>I?u(I,function(b){return new f([b|0],0>b?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return w;if(0>I)return B(g(-I));for(var b=[],R=1,x=0;I>=R;x++)b[x]=I/R|0,R*=4294967296;return new f(b,0)}function E(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return B(E(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(b,8)),x=w,P=0;P<I.length;P+=8){var L=Math.min(8,I.length-P),O=parseInt(I.substring(P,P+L),b);8>L?(L=g(Math.pow(b,L)),x=x.j(L).add(g(O))):(x=x.j(R),x=x.add(g(O)))}return x}var w=p(0),A=p(1),N=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-B(this).m();for(var I=0,b=1,R=0;R<this.g.length;R++){var x=this.i(R);I+=(0<=x?x:4294967296+x)*b,b*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(G(this))return"-"+B(this).toString(I);for(var b=g(Math.pow(I,6)),R=this,x="";;){var P=ft(R,b).g;R=Y(R,P.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=P,D(R))return L+x;for(;6>L.length;)L="0"+L;x=L+x}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function G(I){return I.h==-1}r.l=function(I){return I=Y(this,I),G(I)?-1:D(I)?0:1};function B(I){for(var b=I.g.length,R=[],x=0;x<b;x++)R[x]=~I.g[x];return new f(R,~I.h).add(A)}r.abs=function(){return G(this)?B(this):this},r.add=function(I){for(var b=Math.max(this.g.length,I.g.length),R=[],x=0,P=0;P<=b;P++){var L=x+(this.i(P)&65535)+(I.i(P)&65535),O=(L>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);x=O>>>16,L&=65535,O&=65535,R[P]=O<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Y(I,b){return I.add(B(b))}r.j=function(I){if(D(this)||D(I))return w;if(G(this))return G(I)?B(this).j(B(I)):B(B(this).j(I));if(G(I))return B(this.j(B(I)));if(0>this.l(N)&&0>I.l(N))return g(this.m()*I.m());for(var b=this.g.length+I.g.length,R=[],x=0;x<2*b;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<I.g.length;P++){var L=this.i(x)>>>16,O=this.i(x)&65535,ke=I.i(P)>>>16,ae=I.i(P)&65535;R[2*x+2*P]+=O*ae,it(R,2*x+2*P),R[2*x+2*P+1]+=L*ae,it(R,2*x+2*P+1),R[2*x+2*P+1]+=O*ke,it(R,2*x+2*P+1),R[2*x+2*P+2]+=L*ke,it(R,2*x+2*P+2)}for(x=0;x<b;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=b;x<2*b;x++)R[x]=0;return new f(R,0)};function it(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function et(I,b){this.g=I,this.h=b}function ft(I,b){if(D(b))throw Error("division by zero");if(D(I))return new et(w,w);if(G(I))return b=ft(B(I),b),new et(B(b.g),B(b.h));if(G(b))return b=ft(I,B(b)),new et(B(b.g),b.h);if(30<I.g.length){if(G(I)||G(b))throw Error("slowDivide_ only works with positive integers.");for(var R=A,x=b;0>=x.l(I);)R=ht(R),x=ht(x);var P=wt(R,1),L=wt(x,1);for(x=wt(x,2),R=wt(R,2);!D(x);){var O=L.add(x);0>=O.l(I)&&(P=P.add(R),L=O),x=wt(x,1),R=wt(R,1)}return b=Y(I,P.j(b)),new et(P,b)}for(P=w;0<=I.l(b);){for(R=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),L=g(R),O=L.j(b);G(O)||0<O.l(I);)R-=x,L=g(R),O=L.j(b);D(L)&&(L=A),P=P.add(L),I=Y(I,O)}return new et(P,I)}r.A=function(I){return ft(this,I).h},r.and=function(I){for(var b=Math.max(this.g.length,I.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)&I.i(x);return new f(R,this.h&I.h)},r.or=function(I){for(var b=Math.max(this.g.length,I.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)|I.i(x);return new f(R,this.h|I.h)},r.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),R=[],x=0;x<b;x++)R[x]=this.i(x)^I.i(x);return new f(R,this.h^I.h)};function ht(I){for(var b=I.g.length+1,R=[],x=0;x<b;x++)R[x]=I.i(x)<<1|I.i(x-1)>>>31;return new f(R,I.h)}function wt(I,b){var R=b>>5;b%=32;for(var x=I.g.length-R,P=[],L=0;L<x;L++)P[L]=0<b?I.i(L+R)>>>b|I.i(L+R+1)<<32-b:I.i(L+R);return new f(P,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,u0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,qr=f}).apply(typeof tE<"u"?tE:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c0,Ml,h0,Xc,Im,f0,d0,m0;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break t;_=_[U]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(y,U)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function N(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,Q){for(var st=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)st[Pt-2]=arguments[Pt];return y.prototype[U].apply(S,st)}}function G(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function B(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,Q=S.length||0;c.length=U+Q;for(let st=0;st<Q;st++)c[U+st]=S[st]}else c.push(S)}}class Y{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function it(c){return/^[\s\xa0]*$/.test(c)}function et(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ft(c){return ft[" "](c),c}ft[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function wt(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function I(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function b(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function O(){var c=jt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ke{constructor(){this.h=this.g=null}add(y,_){const S=ae.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new Y(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,mt=!1,jt=new ke,M=()=>{const c=m.Promise.resolve(void 0);at=()=>{c.then(nt)}};var nt=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){L(_)}var y=ae;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}mt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(rt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ht){t:{try{ft(y.nodeName);var U=!0;break t}catch{}U=!1}U||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:St[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}D(Dt,rt);var St={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Xn(c,y,_,S,U){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function rr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vi(c){this.src=c,this.g={},this.h=0}vi.prototype.add=function(c,y,_,S,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var st=es(c,y,S,U);return-1<st?(y=c[st],_||(y.fa=!1)):(y=new Xn(y,this.src,Q,!!S,U),y.fa=_,c.push(y)),y};function ts(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(S,U,1),Q&&(rr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function es(c,y,_,S){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return U}return-1}var ns="closure_lm_"+(1e6*Math.random()|0),vo={};function du(c,y,_,S,U){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)du(c,y[Q],_,S,U);return null}return _=mu(_),c&&c[De]?c.K(y,_,g(S)?!!S.capture:!1,U):vn(c,y,_,!1,S,U)}function vn(c,y,_,S,U,Q){if(!y)throw Error("Invalid event type");var st=g(U)?!!U.capture:!!U,Pt=Js(c);if(Pt||(c[ns]=Pt=new vi(c)),_=Pt.add(y,_,S,st,Q),_.proxy)return _;if(S=$h(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)gt||(U=st),U===void 0&&(U=!1),c.addEventListener(y.toString(),S,U);else if(c.attachEvent)c.attachEvent(is(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $h(){function c(_){return y.call(c.src,c.listener,_)}const y=Xh;return c}function Eo(c,y,_,S,U){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Eo(c,y[Q],_,S,U);else S=g(S)?!!S.capture:!!S,_=mu(_),c&&c[De]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=es(Q,_,S,U),-1<_&&(rr(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=Js(c))&&(y=c.g[y.toString()],c=-1,y&&(c=es(y,_,S,U)),(_=-1<c?y[c]:null)&&Zs(_))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[De])ts(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(is(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=Js(y))?(ts(_,c),_.h==0&&(_.src=null,y[ns]=null)):rr(c)}}}function is(c){return c in vo?vo[c]:vo[c]="on"+c}function Xh(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Zs(c),c=_.call(S,y)}return c}function Js(c){return c=c[ns],c instanceof vi?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(y){return c.handleEvent(y)}),c[To])}function oe(){ot.call(this),this.i=new vi(this),this.M=this,this.F=null}D(oe,ot),oe.prototype[De]=!0,oe.prototype.removeEventListener=function(c,y,_,S){Eo(this,c,y,_,S)};function Ft(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new rt(y,c);else if(y instanceof rt)y.target=y.target||c;else{var U=y;y=new rt(S,c),x(y,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var st=y.g=_[Q];U=un(st,S,!0,y)&&U}if(st=y.g=c,U=un(st,S,!0,y)&&U,U=un(st,S,!1,y)&&U,_)for(Q=0;Q<_.length;Q++)st=y.g=_[Q],U=un(st,S,!1,y)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)rr(_[S]);delete c.g[y],c.h--}}this.F=null},oe.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},oe.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function un(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var U=!0,Q=0;Q<y.length;++Q){var st=y[Q];if(st&&!st.da&&st.capture==_){var Pt=st.listener,Te=st.ha||st.src;st.fa&&ts(c.i,st),U=Pt.call(Te,S)!==!1&&U}}return U&&!S.defaultPrevented}function Ge(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function pu(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Wh extends ot{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){ot.call(this),this.h=c,this.g={}}D(rs,ot);var ss=[];function as(c){wt(c.g,function(y,_){this.g.hasOwnProperty(_)&&Zs(y)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),as(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,ta=m.JSON.parse,os=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function Ao(c){return c.h||(c.h=c.i())}function wo(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){rt.call(this,"d")}D(Ti,rt);function bo(){rt.call(this,"c")}D(bo,rt);var Wn={},Ro=null;function sr(){return Ro=Ro||new oe}Wn.La="serverreachability";function ea(c){rt.call(this,Wn.La,c)}D(ea,rt);function ar(c){const y=sr();Ft(y,new ea(y))}Wn.STAT_EVENT="statevent";function gu(c,y){rt.call(this,Wn.STAT_EVENT,c),this.stat=y}D(gu,rt);function ee(c){const y=sr();Ft(y,new gu(y,c))}Wn.Ma="timingevent";function Ee(c,y){rt.call(this,Wn.Ma,c),this.size=y}D(Ee,rt);function me(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Io(c,y,_,S,U,Q){c.info(function(){if(c.g)if(Q)for(var st="",Pt=Q.split("&"),Te=0;Te<Pt.length;Te++){var kt=Pt[Te].split("=");if(1<kt.length){var Ne=kt[0];kt=kt[1];var Se=Ne.split("_");st=2<=Se.length&&Se[1]=="type"?st+(Ne+"="+kt+"&"):st+(Ne+"=redacted&")}}else st=null;else st=Q;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+y+`
`+_+`
`+st})}function Zh(c,y,_,S,U,Q,st){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+y+`
`+_+`
`+Q+" "+st})}function or(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ls(c,_)+(S?" "+S:"")})}function yu(c,y){c.info(function(){return"TIMEOUT: "+y})}En.prototype.info=function(){};function ls(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var st=1;st<U.length;st++)U[st]=""}}}}return Ln(_)}catch{return y}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}D(Jn,So),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function Ze(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Co={},na={};function Un(c,y,_){c.L=1,c.v=ds(cn(y)),c.m=_,c.P=!0,Ai(c,null)}function Ai(c,y){c.F=Date.now(),us(c),c.A=cn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Vo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ce,c.g=Mu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Wh(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(ss[0]=U.toString()),U=ss);for(var Q=0;Q<U.length;Q++){var st=du(_,U[Q],S||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ar(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}Ze.prototype.ca=function(c){c=c.target;const y=this.M;y&&wn(c)==3?y.j():this.Y(c)},Ze.prototype.Y=function(c){try{if(c==this.g)t:{const Se=wn(this.g);var y=this.g.Ba();const Ni=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Se!=4||y==7||(y==8||0>=Ni?ar(3):ar(2)),ur(this);var _=this.g.Z();this.X=_;e:if(_u(this)){var S=bu(this.g);c="";var U=S.length,Q=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),ti(this);var st="";break e}this.h.i=new m.TextDecoder}for(y=0;y<U;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==U-1)});S.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,Zh(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Te=this.g;if((Pt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Pt)){var kt=Pt;break e}}kt=null}if(_=kt)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cs(this,_);else{this.o=!1,this.s=3,ee(12),Le(this),ti(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<st.length;)if(Ue=vu(this,st),Ue==na){Se==4&&(this.s=4,ee(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Co){this.s=4,ee(15),or(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,Ue,null),cs(this,Ue);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||st.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,st,"[Invalid Chunked Response]"),Le(this),ti(this);else if(0<st.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Ts(Ne),Ne.M=!0,ee(11))}}else or(this.i,this.l,st,null),cs(this,st);Se==4&&Le(this),this.o&&!this.J&&(Se==4?Ou(this.j,this):(this.o=!1,us(this)))}else rf(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Le(this),ti(this)}}}catch{}finally{}};function _u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vu(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?na:(_=Number(y.substring(_,S)),isNaN(_)?Co:(S+=1,S+_>y.length?na:(y=y.slice(S,S+_),c.C=S+_,y)))}Ze.prototype.cancel=function(){this.J=!0,Le(this)};function us(c){c.S=Date.now()+c.I,Eu(c,c.I)}function Eu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=me(A(c.ba,c),y)}function ur(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Ze.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yu(this.i,this.A),this.L!=2&&(ar(),ee(17)),Le(this),this.s=2,ti(this)):Eu(this,this.S-c)};function ti(c){c.j.G==0||c.J||Ou(c.j,c)}function Le(c){ur(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,as(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function cs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ma(_),fa(_);else break t;zo(_),ee(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(A(_.Za,_),6e3));if(1>=ra(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&ma(_),!it(y))for(U=_.Da.g.parse(y),y=0;y<U.length;y++){let kt=U[y];if(_.T=kt[0],kt=kt[1],_.G==2)if(kt[0]=="c"){_.K=kt[1],_.ia=kt[2];const Ne=kt[3];Ne!=null&&(_.la=Ne,_.j.info("VER="+_.la));const Se=kt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Ni=kt[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(S=1.5*Ni,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ue=c.g;if(Ue){const oi=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Q=S.h;Q.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(sa(Q,Q.h),Q.h=null))}if(S.D){const Bo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(S.ya=Bo,Kt(S.I,S.D,Bo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var st=c;if(S.qa=xu(S,S.J?S.ia:null,S.W),st.K){Je(S.h,st);var Pt=st,Te=S.L;Te&&(Pt.I=Te),Pt.B&&(ur(Pt),us(Pt)),S.g=st}else Cu(S);0<_.i.length&&da(_)}else kt[0]!="stop"&&kt[0]!="close"||Oi(_,7);else _.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Oi(_,7):Lo(_):kt[0]!="noop"&&_.l&&_.l.ta(kt),_.v=0)}}ar(4)}catch{}}var Tu=class{constructor(c,y){this.g=c,this.map=y}};function wi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ia(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ra(c){return c.h?1:c.g?c.g.size:0}function Do(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function sa(c,y){c.g?c.g.add(y):c.h=y}function Je(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wi.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return G(c.i)}function Jh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function No(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=aa(c),S=Jh(c),U=S.length,Q=0;Q<U;Q++)y.call(void 0,S[Q],_&&_[Q],c)}var hs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var Q=c[_].substring(0,S);U=c[_].substring(S+1)}else Q=c[_];y(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function pe(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pe){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var y=c.i,_=new Ri;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),bi(this,_),this.m=c.m}else c&&(y=String(c).match(hs))?(this.h=!1,fs(this,y[1]||"",!0),this.o=Tn(y[2]||""),this.g=Tn(y[3]||"",!0),cr(this,y[4]),this.l=Tn(y[5]||"",!0),bi(this,y[6]||"",!0),this.m=Tn(y[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}pe.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ms(y,xo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ms(y,xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ms(_,_.charAt(0)=="/"?ef:Mo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ms(_,oa)),c.join("")};function cn(c){return new pe(c)}function fs(c,y,_){c.j=_?Tn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function bi(c,y,_){y instanceof Ri?(c.i=y,Au(c.i,c.h)):(_||(y=ms(y,nf)),c.i=new Ri(y,c.h))}function Kt(c,y,_){c.i.set(y,_)}function ds(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ms(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xo=/[#\/\?@]/g,Mo=/[#\?:]/g,ef=/[#\?]/g,nf=/[#\?@]/g,oa=/#/g;function Ri(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&tf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ri.prototype,r.add=function(c,y){Sn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ii(c,y){Sn(c),y=ei(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ci(c,y){return Sn(c),y=ei(c,y),c.g.has(y)}r.forEach=function(c,y){Sn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(y,U,S,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const U=c[S];for(let Q=0;Q<U.length;Q++)_.push(y[S])}return _},r.V=function(c){Sn(this);let y=[];if(typeof c=="string")Ci(this,c)&&(y=y.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Sn(this),this.i=null,c=ei(this,c),Ci(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Vo(c,y,_){Ii(c,y),0<_.length&&(c.i=null,c.g.set(ei(c,y),G(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),st=this.V(S);for(S=0;S<st.length;S++){var U=Q;st[S]!==""&&(U+="="+encodeURIComponent(String(st[S]))),c.push(U)}}return this.i=c.join("&")};function ei(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Au(c,y){y&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Ii(this,S),Vo(this,U,_))},c)),c.j=y}function ps(c,y){const _=new En;if(m.Image){const S=new Image;S.onload=N(An,_,"TestLoadImage: loaded",!0,y,S),S.onerror=N(An,_,"TestLoadImage: error",!1,y,S),S.onabort=N(An,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=N(An,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function zn(c,y){const _=new En,S=new AbortController,U=setTimeout(()=>{S.abort(),An(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(U),Q.ok?An(_,"TestPingServer: ok",!0,y):An(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),An(_,"TestPingServer: error",!1,y)})}function An(c,y,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function gs(){this.g=new os}function ni(c,y,_){const S=_||"";try{No(c,function(U,Q){let st=U;g(U)&&(st=Ln(U)),y.push(S+Q+"="+encodeURIComponent(st))})}catch(U){throw y.push(S+"type="+encodeURIComponent("_badmap")),U}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(hr,So),hr.prototype.g=function(){return new Di(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Di(c,y){oe.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Di,oe),r=Di.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Po(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},r.Qa=function(c){this.g&&(this.response=c,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ko(c){let y="";return wt(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Oe(c,y,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Kt(c,y,_))}function qt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(qt,oe);var la=/^https?$/i,ys=["POST","PUT"];r=qt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Ao(this.o):Ao(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){wu(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ys,y,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,st]of _)this.g.setRequestHeader(Q,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_s(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){wu(this,Q)}};function wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ua(c),si(c)}function ua(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},r.bb=function(){ca(this)};function ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Ge(c.Ea,0,c);else if(Ft(c,"readystatechange"),wn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var S;if(S=st===0){var U=String(c.D).match(hs)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!la.test(U?U.toLowerCase():"")}_=S}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var Q=2<wn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ua(c)}}finally{si(c)}}}}function si(c,y){if(c.g){_s(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ft(c,"ready");try{_.onreadystatechange=S}catch{}}}function _s(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ta(y)}};function bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function rf(c){const y={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(it(c[S]))continue;var _=P(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[U]||[];y[U]=Q,Q.push(_)}I(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ha(c){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vs("baseRetryDelayMs",5e3,c),this.cb=vs("retryDelaySeedMs",1e4,c),this.Wa=vs("forwardChannelMaxRetries",2,c),this.wa=vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(c&&c.concurrentRequestLimit),this.Da=new gs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ha.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,S){ee(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=xu(this,null,this.W),da(this)};function Lo(c){if(Ru(c),c.G==3){var y=c.U++,_=cn(c.I);if(Kt(_,"SID",c.K),Kt(_,"RID",y),Kt(_,"TYPE","terminate"),Es(c,_),y=new Ze(c,c.j,y),y.L=2,y.v=ds(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),us(y)}Nu(c)}function fa(c){c.g&&(Ts(c),c.g.cancel(),c.g=null)}function Ru(c){fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!ia(c.h)&&!c.s){c.s=!0;var y=c.Ga;at||M(),mt||(at(),mt=!0),jt.add(y,c),c.B=0}}function sf(c,y){return ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=me(A(c.Ga,c,y),jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Ze(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=b(Q),x(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Iu(this,U,y),_=cn(this.I),Kt(_,"RID",c),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),Es(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(ko(Q)))+"&"+y:this.m&&Oe(_,this.m,Q)),sa(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",y),Kt(_,"SID","null"),U.T=!0,Un(U,_,null)):Un(U,_,y),this.G=2}}else this.G==3&&(c?Uo(this,c):this.i.length==0||ia(this.h)||Uo(this))};function Uo(c,y){var _;y?_=y.l:_=c.U++;const S=cn(c.I);Kt(S,"SID",c.K),Kt(S,"RID",_),Kt(S,"AID",c.T),Es(c,S),c.m&&c.o&&Oe(S,c.m,c.o),_=new Ze(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sa(c.h,_),Un(_,S,y)}function Es(c,y){c.H&&wt(c.H,function(_,S){Kt(y,S,_)}),c.l&&No({},function(_,S){Kt(y,S,_)})}function Iu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?A(c.l.Na,c.l,c):null;t:{var U=c.i;let Q=-1;for(;;){const st=["count="+_];Q==-1?0<_?(Q=U[0].g,st.push("ofs="+Q)):Q=0:st.push("ofs="+Q);let Pt=!0;for(let Te=0;Te<_;Te++){let kt=U[Te].g;const Ne=U[Te].map;if(kt-=Q,0>kt)Q=Math.max(0,U[Te].g-100),Pt=!1;else try{ni(Ne,st,"req"+kt+"_")}catch{S&&S(Ne)}}if(Pt){S=st.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,S}function Cu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;at||M(),mt||(at(),mt=!0),jt.add(y,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=me(A(c.Fa,c),jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=me(A(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),fa(this),Du(this))};function Ts(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new Ze(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),Es(c,y),c.m&&c.o&&Oe(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ds(cn(y)),_.m=null,_.P=!0,Ai(_,c)}r.Za=function(){this.C!=null&&(this.C=null,fa(this),zo(this),ee(19))};function ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,y){var _=null;if(c.g==y){ma(c),Ts(c),c.g=null;var S=2}else if(Do(c.h,y))_=y.D,Je(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var U=c.B;S=sr(),Ft(S,new Ee(S,_)),da(c)}else Cu(c);else if(U=y.s,U==3||U==0&&0<y.X||!(S==1&&sf(c,y)||S==2&&zo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function jo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Oi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),S=c.Xa;const U=!S;S=new pe(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fs(S,"https"),ds(S),U?ps(S.toString(),_):zn(S.toString(),_)}else ee(2);c.G=0,c.l&&c.l.sa(y),Nu(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=Oo(c.h);(y.length!=0||c.i.length!=0)&&(B(c.ka,y),B(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function xu(c,y,_){var S=_ instanceof pe?cn(_):new pe(_);if(S.g!="")y&&(S.g=y+"."+S.g),cr(S,S.s);else{var U=m.location;S=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;var Q=new pe(null);S&&fs(Q,S),y&&(Q.g=y),U&&cr(Q,U),_&&(Q.l=_),S=Q}return _=c.D,y=c.ya,_&&y&&Kt(S,_,y),Kt(S,"VER",c.la),Es(c,S),S}function Mu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qt(new hr({eb:_})):new qt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){oe.call(this),this.g=new ha(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!it(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!it(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}D(tn,oe),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Lo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ln(c),c=_);y.i.push(new Tu(y.Ya++,c)),y.G==3&&da(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,tn.aa.N.call(this)};function Pu(c){Ti.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Pu,Ti);function ku(){bo.call(this),this.status=1}D(ku,bo);function ai(c){this.g=c}D(ai,Vu),ai.prototype.ua=function(){Ft(this.g,"a")},ai.prototype.ta=function(c){Ft(this.g,new Pu(c))},ai.prototype.sa=function(c){Ft(this.g,new ku)},ai.prototype.ra=function(){Ft(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,m0=function(){return new pa},d0=function(){return sr()},f0=Wn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Xc=lr,Si.COMPLETE="complete",h0=Si,wo.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Ml=wo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,c0=qt}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const eE="@firebase/firestore",nE="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new tp("@firebase/firestore");function Fa(){return Fs.logLevel}function lt(r,...t){if(Fs.logLevel<=Mt.DEBUG){const n=t.map(mp);Fs.debug(`Firestore (${mo}): ${r}`,...n)}}function tr(r,...t){if(Fs.logLevel<=Mt.ERROR){const n=t.map(mp);Fs.error(`Firestore (${mo}): ${r}`,...n)}}function eo(r,...t){if(Fs.logLevel<=Mt.WARN){const n=t.map(mp);Fs.warn(`Firestore (${mo}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,p0(r,s,n)}function p0(r,t,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tr(s),new Error(s)}function Ht(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||p0(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends nr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class n2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($e.UNAUTHENTICATED))}shutdown(){}}class i2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ht(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new $i,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new $i)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string",31837,{l:s}),new g0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class s2{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class a2{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new s2(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ht(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new iE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new iE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=l2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ct(r,t){return r<t?-1:r>t?1:0}function Cm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const u=y0(),f=u2(u.encode(rE(r,n)),u.encode(rE(t,n)));return f!==0?f:Ct(s,o)}}n+=s>65535?2:1}return Ct(r.length,t.length)}function rE(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function u2(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ct(r[n],t[n]);return Ct(r.length,t.length)}function no(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=-62135596800,aE=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*aE);return new Re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<sE)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-sE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Re(0,0))}static max(){return new At(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="__name__";class di{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof di?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ct(t.length,n.length)}static compareSegments(t,n){const s=di.isNumericId(t),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(t).compare(di.extractNumericId(n)):Cm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qr.fromString(t.substring(4,t.length-2))}}class te extends di{construct(t,n,s){return new te(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new te(n)}static emptyPath(){return new te([])}}const c2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends di{construct(t,n,s){return new He(t,n,s)}static isValidIdentifier(t){return c2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oE}static keyField(){return new He([oE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(n)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(te.fromString(t))}static fromName(t){return new pt(te.fromString(t).popFirst(5))}static empty(){return new pt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return te.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new te(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function h2(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new Re(n+1,0):new Re(n,s));return new Fr(o,pt.empty(),t)}function f2(r){return new Fr(r.readTime,r.key,Ql)}class Fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(At.min(),pt.empty(),Ql)}static max(){return new Fr(At.max(),pt.empty(),Ql)}}function d2(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=pt.comparator(r.documentKey,t.documentKey),n!==0?n:Ct(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==m2)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):J.reject(n)}static resolve(t){return new J((n,s)=>{n(t)})}static reject(t){return new J((n,s)=>{s(t)})}static waitFor(t){return new J((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new J((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new J((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function g2(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Oh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Nh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function y2(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="";function _2(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=lE(t)),t=v2(r.get(n),t);return lE(t)}function v2(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case v0:n+="";break;default:n+=u}}return n}function lE(r){return r+v0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Zr(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function E0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t,n){this.comparator=t,this.root=n||qe.EMPTY}insert(t,n){return new se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=u??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new cE(this.data.getIterator())}getIteratorFrom(t){return new cE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class cE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Ie(He.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new T0("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const E2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const n=E2.exec(r);if(Ht(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="server_timestamp",A0="__type__",w0="__previous_value__",b0="__local_write_time__";function gp(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[A0])===null||n===void 0?void 0:n.stringValue)===S0}function xh(r){const t=r.mapValue.fields[w0];return gp(t)?xh(t):t}function Kl(r){const t=Gr(r.mapValue.fields[b0].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(t,n,s,o,u,f,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const fh="(default)";class Yl{constructor(t,n){this.projectId=t,this.database=n||fh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__type__",S2="__max__",Bc={mapValue:{}},I0="__vector__",dh="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:w2(r)?9007199254740991:A2(r)?10:11:Et(28295,{value:r})}function _i(r,t){if(r===t)return!0;const n=Kr(r);if(n!==Kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Kl(r).isEqual(Kl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gr(o.timestampValue),m=Gr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Qr(o.bytesValue).isEqual(Qr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return de(o.geoPointValue.latitude)===de(u.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return de(o.integerValue)===de(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=de(o.doubleValue),m=de(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(uE(f)!==uE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(r,t);default:return Et(52216,{left:r})}}function $l(r,t){return(r.values||[]).find(n=>_i(n,t))!==void 0}function io(r,t){if(r===t)return 0;const n=Kr(r),s=Kr(t);if(n!==s)return Ct(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=de(u.integerValue||u.doubleValue),p=de(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return hE(r.timestampValue,t.timestampValue);case 4:return hE(Kl(r),Kl(t));case 5:return Cm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Qr(u),p=Qr(f);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ct(m[g],p[g]);if(E!==0)return E}return Ct(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ct(de(u.latitude),de(f.latitude));return m!==0?m:Ct(de(u.longitude),de(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return fE(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},N=(m=w[dh])===null||m===void 0?void 0:m.arrayValue,D=(p=A[dh])===null||p===void 0?void 0:p.arrayValue,G=Ct(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:fE(N,D)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Cm(p[w],E[w]);if(A!==0)return A;const N=io(m[p[w]],g[E[w]]);if(N!==0)return N}return Ct(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Et(23264,{Pe:n})}}function hE(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ct(r,t);const n=Gr(r),s=Gr(t),o=Ct(n.seconds,s.seconds);return o!==0?o:Ct(n.nanos,s.nanos)}function fE(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return Ct(n.length,s.length)}function ro(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"}(r.mapValue):Et(61005,{value:r})}function Wc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(r);return t?16+Wc(t):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Wc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Zr(s.fields,(u,f)=>{o+=u.length+Wc(f)}),o}(r.mapValue);default:throw Et(13486,{value:r})}}function dE(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Om(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function mE(r){return!!r&&"nullValue"in r}function pE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zc(r){return!!r&&"mapValue"in r}function A2(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[R0])===null||n===void 0?void 0:n.stringValue)===I0}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Zr(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=zl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function w2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===S2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Zc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=zl(n)}setAll(t){let n=He.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Zr(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new ln(zl(this.value))}}function C0(r){const t=[];return Zr(r.fields,(n,s)=>{const o=new He([n]);if(Zc(s)){const u=C0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new Xe(t,0,At.min(),At.min(),At.min(),ln.empty(),0)}static newFoundDocument(t,n,s,o){return new Xe(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new Xe(t,2,n,At.min(),At.min(),ln.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,At.min(),At.min(),ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.position=t,this.inclusive=n}}function gE(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=pt.comparator(pt.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yE(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n="asc"){this.field=t,this.dir=n}}function b2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{}class ve extends D0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new I2(t,n,s):n==="array-contains"?new O2(t,s):n==="in"?new N2(t,s):n==="not-in"?new x2(t,s):n==="array-contains-any"?new M2(t,s):new ve(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new C2(t,s):new D2(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends D0{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Qn(t,n)}matches(t){return O0(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function O0(r){return r.op==="and"}function N0(r){return R2(r)&&O0(r)}function R2(r){for(const t of r.filters)if(t instanceof Qn)return!1;return!0}function Nm(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(N0(r))return r.filters.map(t=>Nm(t)).join(",");{const t=r.filters.map(n=>Nm(n)).join(",");return`${r.op}(${t})`}}function x0(r,t){return r instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(r,t):r instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&x0(f,o.filters[m]),!0):!1}(r,t):void Et(19439)}function M0(r){return r instanceof ve?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(r):r instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(M0).join(" ,")+"}"}(r):"Filter"}class I2 extends ve{constructor(t,n,s){super(t,n,s),this.key=pt.fromName(s.referenceValue)}matches(t){const n=pt.comparator(t.key,this.key);return this.matchesComparison(n)}}class C2 extends ve{constructor(t,n){super(t,"in",n),this.keys=V0("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class D2 extends ve{constructor(t,n){super(t,"not-in",n),this.keys=V0("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function V0(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pt.fromName(s.referenceValue))}class O2 extends ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return yp(n)&&$l(n.arrayValue,this.value)}}class N2 extends ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&$l(this.value.arrayValue,n)}}class x2 extends ve{constructor(t,n){super(t,"not-in",n)}matches(t){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$l(this.value.arrayValue,n)}}class M2 extends ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>$l(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Ie=null}}function _E(r,t=null,n=[],s=[],o=null,u=null,f=null){return new V2(r,t,n,s,o,u,f)}function _p(r){const t=bt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Nm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Nh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ro(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ro(s)).join(",")),t.Ie=n}return t.Ie}function vp(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!b2(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!x0(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!yE(r.startAt,t.startAt)&&yE(r.endAt,t.endAt)}function xm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function P2(r,t,n,s,o,u,f,m){return new ou(r,t,n,s,o,u,f,m)}function Ep(r){return new ou(r)}function vE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function P0(r){return r.collectionGroup!==null}function jl(r){const t=bt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ie(He.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new ph(u,s))}),n.has(He.keyField().canonicalString())||t.Ee.push(new ph(He.keyField(),s))}return t.Ee}function gi(r){const t=bt(r);return t.de||(t.de=k2(t,jl(r))),t.de}function k2(r,t){if(r.limitType==="F")return _E(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ph(o.field,u)});const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return _E(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Mm(r,t){const n=r.filters.concat([t]);return new ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Vm(r,t,n){return new ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Mh(r,t){return vp(gi(r),gi(t))&&r.limitType===t.limitType}function k0(r){return`${_p(gi(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>M0(o)).join(", ")}]`),Nh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function Vh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=gE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,jl(s),o)||s.endAt&&!function(f,m,p){const g=gE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,jl(s),o))}(r,t)}function L2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function L0(r){return(t,n)=>{let s=!1;for(const o of jl(r)){const u=U2(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function U2(r,t,n){const s=r.field.isKeyField()?pt.comparator(t.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?io(p,g):Et(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new se(pt.comparator);function er(){return z2}const U0=new se(pt.comparator);function Vl(...r){let t=U0;for(const n of r)t=t.insert(n.key,n);return t}function z0(r){let t=U0;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function zs(){return Bl()}function j0(){return Bl()}function Bl(){return new $s(r=>r.toString(),(r,t)=>r.isEqual(t))}const j2=new se(pt.comparator),B2=new Ie(pt.comparator);function Vt(...r){let t=B2;for(const n of r)t=t.add(n);return t}const q2=new Ie(Ct);function H2(){return q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function B0(r){return{integerValue:""+r}}function F2(r,t){return y2(t)?B0(t):Tp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function G2(r,t,n){return r instanceof gh?function(o,u){const f={fields:{[A0]:{stringValue:S0},[b0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=xh(u)),u&&(f.fields[w0]=u),{mapValue:f}}(n,t):r instanceof Xl?H0(r,t):r instanceof Wl?F0(r,t):function(o,u){const f=q0(o,u),m=EE(f)+EE(o.Re);return Om(f)&&Om(o.Re)?B0(m):Tp(o.serializer,m)}(r,t)}function Q2(r,t,n){return r instanceof Xl?H0(r,t):r instanceof Wl?F0(r,t):n}function q0(r,t){return r instanceof yh?function(s){return Om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class gh extends Ph{}class Xl extends Ph{constructor(t){super(),this.elements=t}}function H0(r,t){const n=G0(t);for(const s of r.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Ph{constructor(t){super(),this.elements=t}}function F0(r,t){let n=G0(t);for(const s of r.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class yh extends Ph{constructor(t,n){super(),this.serializer=t,this.Re=n}}function EE(r){return de(r.integerValue||r.doubleValue)}function G0(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function K2(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof Wl&&o instanceof Wl?no(s.elements,o.elements,_i):s instanceof yh&&o instanceof yh?_i(s.Re,o.Re):s instanceof gh&&o instanceof gh}(r.transform,t.transform)}class Y2{constructor(t,n){this.version=t,this.transformResults=n}}class Vn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Vn}static exists(t){return new Vn(void 0,t)}static updateTime(t){return new Vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class kh{}function Q0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Sp(r.key,Vn.none()):new lu(r.key,r.data,Vn.none());{const n=r.data,s=ln.empty();let o=new Ie(He.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Jr(r.key,s,new _n(o.toArray()),Vn.none())}}function $2(r,t,n){r instanceof lu?function(o,u,f){const m=o.value.clone(),p=SE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Jr?function(o,u,f){if(!Jc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=SE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(K0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function ql(r,t,n,s){return r instanceof lu?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=u.value.clone(),E=AE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof Jr?function(u,f,m,p){if(!Jc(u.precondition,f))return m;const g=AE(u.fieldTransforms,p,f),E=f.data;return E.setAll(K0(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,t,n,s):function(u,f,m){return Jc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function X2(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=q0(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function TE(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&no(s,o,(u,f)=>K2(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class lu extends kh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Jr extends kh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K0(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function SE(r,t,n){const s=new Map;Ht(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,Q2(f,m,n[o]))}return s}function AE(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,G2(u,f,t))}return s}class Sp extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W2 extends kh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&$2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=ql(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=ql(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=j0();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Q0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Vt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,(n,s)=>TE(n,s))&&no(this.baseMutations,t.baseMutations,(n,s)=>TE(n,s))}}class Ap{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ht(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return j2}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ap(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Ut;function eD(r){switch(r){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function Y0(r){if(r===void 0)return tr("GRPC error has no .code"),tt.UNKNOWN;switch(r){case _e.OK:return tt.OK;case _e.CANCELLED:return tt.CANCELLED;case _e.UNKNOWN:return tt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return tt.INTERNAL;case _e.UNAVAILABLE:return tt.UNAVAILABLE;case _e.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _e.NOT_FOUND:return tt.NOT_FOUND;case _e.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _e.ABORTED:return tt.ABORTED;case _e.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _e.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:r})}}(Ut=_e||(_e={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=new qr([4294967295,4294967295],0);function wE(r){const t=y0().encode(r),n=new u0;return n.update(t),new Uint8Array(n.digest())}function bE(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new qr([n,s],0),new qr([o,u],0)]}class wp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=qr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(qr.fromNumber(s)));return o.compare(nD)===1&&(o=new qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=wE(t),[s,o]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new wp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.pe===0)return;const n=wE(t),[s,o]=bE(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,uu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Lh(At.min(),o,new se(Ct),er(),Vt())}}class uu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new uu(s,n,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class $0{constructor(t,n){this.targetId=t,this.Ce=n}}class X0{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class RE{constructor(){this.Fe=0,this.Me=IE(),this.xe=Fe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Vt(),n=Vt(),s=Vt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}}),new uu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=IE()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ht(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class iD{constructor(t){this.ze=t,this.je=new Map,this.He=er(),this.Je=qc(),this.Ye=qc(),this.Ze=new se(Ct)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Et(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new pt(u.path);this.tt(n,f,Xe.newNoDocument(f,At.min()))}else Ht(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const m=this.ct(t),p=m?this.lt(m,t,f):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Qr(s).toUint8Array()}catch(p){if(p instanceof T0)return eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new wp(f,o,u)}catch(p){return eo(p instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const m=this._t(f);if(m){if(u.current&&xm(m.target)){const p=new pt(m.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,Xe.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Vt();this.Ye.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Lh(t,n,this.Ze,this.He,s);return this.He=er(),this.Je=qc(),this.Ye=qc(),this.Ze=new se(Ct),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new RE,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Ie(Ct),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Ie(Ct),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new RE),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function qc(){return new se(pt.comparator)}function IE(){return new se(pt.comparator)}const rD={asc:"ASCENDING",desc:"DESCENDING"},sD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aD={and:"AND",or:"OR"};class oD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pm(r,t){return r.useProto3Json||Nh(t)?t:{value:t}}function _h(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function W0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lD(r,t){return _h(r,t.toTimestamp())}function yi(r){return Ht(!!r,49232),At.fromTimestamp(function(n){const s=Gr(n);return new Re(s.seconds,s.nanos)}(r))}function bp(r,t){return km(r,t).canonicalString()}function km(r,t){const n=function(o){return new te(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function Z0(r){const t=te.fromString(r);return Ht(iS(t),10190,{key:t.toString()}),t}function Lm(r,t){return bp(r.databaseId,t.path)}function hm(r,t){const n=Z0(t);if(n.get(1)!==r.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pt(tS(n))}function J0(r,t){return bp(r.databaseId,t)}function uD(r){const t=Z0(r);return t.length===4?te.emptyPath():tS(t)}function Um(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tS(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function CE(r,t,n){return{name:Lm(r,t),fields:n.value.mapValue.fields}}function cD(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ht(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(g){const E=g.code===void 0?tt.UNKNOWN:Y0(g.code);return new ut(E,g.message||"")}(f);n=new X0(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):At.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new th(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?yi(s.readTime):At.min(),f=Xe.newNoDocument(o,u),m=s.removedTargetIds||[];n=new th([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new th([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new tD(o,u),m=s.targetId;n=new $0(m,f)}}return n}function hD(r,t){let n;if(t instanceof lu)n={update:CE(r,t.key,t.value)};else if(t instanceof Sp)n={delete:Lm(r,t.key)};else if(t instanceof Jr)n={update:CE(r,t.key,t.data),updateMask:ED(t.fieldMask)};else{if(!(t instanceof W2))return Et(16599,{ft:t.type});n={verify:Lm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yh)return{fieldPath:f.field.canonicalString(),increment:m.Re};throw Et(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:lD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)}(r,t.precondition)),n}function fD(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(At.min())&&(f=yi(u)),new Y2(f,o.transformResults||[])}(n,t))):[]}function dD(r,t){return{documents:[J0(r,t.path)]}}function mD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=J0(r,o);const u=function(g){if(g.length!==0)return nS(Qn.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Qa(A.field),direction:yD(A.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Pm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:n,parent:o}}function pD(r){let t=uD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ht(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=eS(w);return A instanceof Qn&&N0(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(D){return new ph(Ka(D.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Nh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,N=w.values||[];return new mh(N,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,N=w.values||[];return new mh(N,A)}(n.endAt)),P2(t,o,f,u,m,"F",p,g)}function gD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function eS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return ve.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(n){return ve.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>eS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(n.compositeFilter.op))}(r):Et(30097,{filter:r})}function yD(r){return rD[r]}function _D(r){return sD[r]}function vD(r){return aD[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return He.fromServerFormat(r.fieldPath)}function nS(r){return r instanceof ve?function(n){if(n.op==="=="){if(pE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(mE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(mE(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:_D(n.op),value:n.value}}}(r):r instanceof Qn?function(n){const s=n.getFilters().map(o=>nS(o));return s.length===1?s[0]:{compositeFilter:{op:vD(n.op),filters:s}}}(r):Et(54877,{filter:r})}function ED(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function iS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,s,o,u=At.min(),f=At.min(),m=Fe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.wt=t}}function SD(r){const t=pD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.yn=new wD}addToCollectionParentIndex(t,n){return this.yn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.yn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(Fr.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class wD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ie(te.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ie(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rS=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(rS,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new so(0)}static ir(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LruGarbageCollector",bD=1048576;function NE([r,t],[n,s]){const o=Ct(r,n);return o===0?Ct(t,s):o}class RD{constructor(t){this.cr=t,this.buffer=new Ie(NE),this.lr=0}hr(){return++this.lr}Pr(t){const n=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();NE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ID{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){lt(OE,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?lt(OE,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Ir(3e5)})}}class CD{constructor(t,n){this.Er=t,this.params=n}calculateTargetCount(t,n){return this.Er.dr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return J.resolve(Oh.le);const s=new RD(n);return this.Er.forEachTarget(t,o=>s.Pr(o.sequenceNumber)).next(()=>this.Er.Ar(t,o=>s.Pr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Er.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Er.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(DE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DE):this.Rr(t,n))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(t,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(t,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(w=>(g=Date.now(),Fa()<=Mt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function DD(r,t){return new CD(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.changes=new $s(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&ql(s.mutation,o,_n.empty(),Re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Vt()){const o=zs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Vl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=zs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Vt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=er();const f=Bl(),m=function(){return Bl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Jr)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),ql(E.mutation,g,E.mutation.getFieldMask(),Re.now())):f.set(g.key,_n.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new ND(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Bl();let o=new se((f,m)=>f-m),u=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||_n.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=j0();E.forEach(A=>{if(!u.has(A)){const N=Q0(n.get(A),s.get(A));N!==null&&w.set(A,N),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,w))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return pt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):P0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):J.resolve(zs());let m=Ql,p=u;return f.next(g=>J.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(t,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Vt())).next(E=>({batchId:m,changes:z0(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new pt(n)).next(s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(t,u).next(m=>J.forEach(m,p=>{const g=function(w,A){return new ou(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))});let m=Vl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&ql(E.mutation,g,_n.empty(),Re.now()),Vh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,n){return J.resolve(this.Fr.get(n))}saveBundleMetadata(t,n){return this.Fr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Mr.get(n))}saveNamedQuery(t,n){return this.Mr.set(n.name,function(o){return{name:o.name,query:SD(o.bundledQuery),readTime:yi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.overlays=new se(pt.comparator),this.Or=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=zs();return J.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),J.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Or.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Or.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const o=zs(),u=n.length+1,f=new pt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new se((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Or.get(o.largestBatchId).delete(s.key);this.Or.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new J2(n,s));let u=this.Or.get(n);u===void 0&&(u=Vt(),this.Or.set(n,u)),this.Or.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Nr=new Ie(Pe.Br),this.Lr=new Ie(Pe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,n){const s=new Pe(t,n);this.Nr=this.Nr.add(s),this.Lr=this.Lr.add(s)}qr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Qr(new Pe(t,n))}$r(t,n){t.forEach(s=>this.removeReference(s,n))}Ur(t){const n=new pt(new te([])),s=new Pe(n,t),o=new Pe(n,t+1),u=[];return this.Lr.forEachInRange([s,o],f=>{this.Qr(f),u.push(f.key)}),u}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const n=new pt(new te([])),s=new Pe(n,t),o=new Pe(n,t+1);let u=Vt();return this.Lr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Pe(t,0),s=this.Nr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Pe{constructor(t,n){this.key=t,this.Gr=n}static Br(t,n){return pt.comparator(t.key,n.key)||Ct(t.Gr,n.Gr)}static kr(t,n){return Ct(t.Gr,n.Gr)||pt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Ie(Pe.Br)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Z2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.zr=this.zr.add(new Pe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Hr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?pp:this.Jn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Pe(n,0),o=new Pe(n,Number.POSITIVE_INFINITY),u=[];return this.zr.forEachInRange([s,o],f=>{const m=this.jr(f.Gr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ie(Ct);return n.forEach(o=>{const u=new Pe(o,0),f=new Pe(o,Number.POSITIVE_INFINITY);this.zr.forEachInRange([u,f],m=>{s=s.add(m.Gr)})}),J.resolve(this.Jr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;pt.isDocumentKey(u)||(u=u.child(""));const f=new Pe(new pt(u),0);let m=new Ie(Ct);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Gr)),!0)},f),J.resolve(this.Jr(m))}Jr(t){const n=[];return t.forEach(s=>{const o=this.jr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ht(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.zr;return J.forEach(n.mutations,o=>{const u=new Pe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.zr=s})}Xn(t){}containsKey(t,n){const s=new Pe(n,0),o=this.zr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}Yr(t,n){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const n=this.Hr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.Zr=t,this.docs=function(){return new se(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Zr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let s=er();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xe.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=er();const f=n.path,m=new pt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||d2(f2(E),s)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}Xr(t,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new UD(this)}getSize(t){return J.resolve(this.size)}}class UD extends OD{constructor(t){super(),this.vr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.vr.addEntry(t,o)):this.vr.removeEntry(s)}),J.waitFor(n)}getFromCache(t,n){return this.vr.getEntry(t,n)}getAllFromCache(t,n){return this.vr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t){this.persistence=t,this.ei=new $s(n=>_p(n),vp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ti=0,this.ni=new Rp,this.targetCount=0,this.ri=so.rr()}forEachTarget(t,n){return this.ei.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ti&&(this.ti=n),J.resolve()}ar(t){this.ei.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ri=new so(n),this.highestTargetId=n),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,n){return this.ar(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.ar(n),J.resolve()}removeTargetData(t,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ei.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ei.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.ei.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.ni.qr(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.ni.$r(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ni.Ur(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ni.Wr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t,n){this.ii={},this.overlays={},this.si=new Oh(0),this.oi=!1,this.oi=!0,this._i=new PD,this.referenceDelegate=t(this),this.ai=new zD(this),this.indexManager=new AD,this.remoteDocumentCache=function(o){return new LD(o)}(s=>this.referenceDelegate.ui(s)),this.serializer=new TD(n),this.ci=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ii[t.toKey()];return s||(s=new kD(n,this.referenceDelegate),this.ii[t.toKey()]=s),s}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new jD(this.si.next());return this.referenceDelegate.li(),s(o).next(u=>this.referenceDelegate.hi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Pi(t,n){return J.or(Object.values(this.ii).map(s=>()=>s.containsKey(t,n)))}}class jD extends p2{constructor(t){super(),this.currentSequenceNumber=t}}class Ip{constructor(t){this.persistence=t,this.Ti=new Rp,this.Ii=null}static Ei(t){return new Ip(t)}get di(){if(this.Ii)return this.Ii;throw Et(60996)}addReference(t,n,s){return this.Ti.addReference(s,n),this.di.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ti.removeReference(s,n),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ti.Ur(n.targetId).forEach(o=>this.di.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.di.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}li(){this.Ii=new Set}hi(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,s=>{const o=pt.fromPath(s);return this.Ai(t,o).next(u=>{u||n.removeEntry(o,At.min())})}).next(()=>(this.Ii=null,n.apply(t)))}updateLimboDocument(t,n){return this.Ai(t,n).next(s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(t){return 0}Ai(t,n){return J.or([()=>J.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Pi(t,n)])}}class vh{constructor(t,n){this.persistence=t,this.Ri=new $s(s=>_2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=DD(this,n)}static Ei(t,n){return new vh(t,n)}li(){}hi(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}Vr(t){let n=0;return this.Ar(t,s=>{n++}).next(()=>n)}Ar(t,n){return J.forEach(this.Ri,(s,o)=>this.gr(t,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.Xr(t,f=>this.gr(t,f,n).next(m=>{m||(s++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.Ri.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.Ri.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.Ri.set(n,t.currentSequenceNumber),J.resolve()}ui(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Wc(t.data.value)),n}gr(t,n,s){return J.or([()=>this.persistence.Pi(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.Ri.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ls=s,this.hs=o}static Ps(t,n){let s=Vt(),o=Vt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return A1()?8:g2(We())>0?6:4}()}initialize(t,n){this.As=t,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.Rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Vs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new BD;return this.fs(t,n,f).next(m=>{if(u.result=m,this.Is)return this.gs(t,n,f,m.size)})}).next(()=>u.result)}gs(t,n,s,o){return s.documentReadCount<this.Es?(Fa()<=Mt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),J.resolve()):(Fa()<=Mt.DEBUG&&lt("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Fa()<=Mt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):J.resolve())}Rs(t,n){if(vE(n))return J.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Vt(...u);return this.As.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.ps(n,m);return this.ys(n,g,f,p.readTime)?this.Rs(t,Vm(n,null,"F")):this.ws(t,g,n,p)}))})))}Vs(t,n,s,o){return vE(n)||o.isEqual(At.min())?J.resolve(null):this.As.getDocuments(t,s).next(u=>{const f=this.ps(n,u);return this.ys(n,f,s,o)?J.resolve(null):(Fa()<=Mt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.ws(t,f,n,h2(o,Ql)).next(m=>m))})}ps(t,n){let s=new Ie(L0(t));return n.forEach((o,u)=>{Vh(t,u)&&(s=s.add(u))}),s}ys(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}fs(t,n,s){return Fa()<=Mt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.As.getDocumentsMatchingQuery(t,n,Fr.min(),s)}ws(t,n,s,o){return this.As.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="LocalStore",HD=3e8;class FD{constructor(t,n,s,o){this.persistence=t,this.bs=n,this.serializer=o,this.Ss=new se(Ct),this.Ds=new $s(u=>_p(u),vp),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(s)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xD(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ss))}}function GD(r,t,n,s){return new FD(r,t,n,s)}async function aS(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Fs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Vt();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ms:g,removedBatchIds:f,addedBatchIds:m}))})})}function QD(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let N=J.resolve();return A.forEach(D=>{N=N.next(()=>E.getEntry(p,D)).next(G=>{const B=g.docVersions.get(D);Ht(B!==null,48541),G.version.compareTo(B)<0&&(w.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function oS(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.ai.getLastRemoteSnapshotVersion(n))}function KD(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Cs.newChangeBuffer({trackRemovals:!0});o=n.Ss;const m=[];t.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.ai.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.ai.addMatchingKeys(u,E.addedDocuments,w)));let N=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?N=N.withResumeToken(Fe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(w,N),function(G,B,Y){return G.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=HD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(A,N,E)&&m.push(n.ai.updateTargetData(u,N))});let p=er(),g=Vt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(YD(u,f,t.documentUpdates).next(E=>{p=E.xs,g=E.Os})),!s.isEqual(At.min())){const E=n.ai.getLastRemoteSnapshotVersion(u).next(w=>n.ai.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ss=o,u))}function YD(r,t,n){let s=Vt(),o=Vt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=er();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):lt(Dp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{xs:f,Os:o}})}function $D(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function XD(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.ai.getTargetData(s,t).next(u=>u?(o=u,J.resolve(o)):n.ai.allocateTargetId(s).next(f=>(o=new Ur(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.ai.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ss.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(s.targetId,s),n.Ds.set(t,s.targetId)),s})}async function zm(r,t,n){const s=bt(r),o=s.Ss.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!go(f))throw f;lt(Dp,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ss=s.Ss.remove(t),s.Ds.delete(o.target)}function xE(r,t,n){const s=bt(r);let o=At.min(),u=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=bt(p),A=w.Ds.get(E);return A!==void 0?J.resolve(w.Ss.get(A)):w.ai.getTargetData(g,E)}(s,f,gi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.ai.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.bs.getDocumentsMatchingQuery(f,t,n?o:At.min(),n?u:Vt())).next(m=>(WD(s,L2(t),m),{documents:m,Ns:u})))}function WD(r,t,n){let s=r.vs.get(t)||At.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.vs.set(t,s)}class ME{constructor(){this.activeTargetIds=H2()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZD{constructor(){this.So=new ME,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,n,s){this.Do[t]=n}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new ME,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="ConnectivityMonitor";class PE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){lt(VE,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){lt(VE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function jm(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",tO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+t.host,this.ko=`projects/${s}/databases/${o}`,this.qo=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Qo(t,n,s,o,u){const f=jm(),m=this.$o(t,n.toUriEncodedString());lt(fm,`Sending RPC '${t}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,o,u);const{host:g}=new URL(m),E=tu(g);return this.Ko(t,m,p,s,E).then(w=>(lt(fm,`Received RPC '${t}' ${f}: `,w),w),w=>{throw eo(fm,`RPC '${t}' ${f} failed with error: `,w,"url: ",m,"request:",s),w})}Wo(t,n,s,o,u,f){return this.Qo(t,n,s,o,u)}Uo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}$o(t,n){const s=tO[t];return`${this.Lo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class iO extends eO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,n,s,o,u){const f=jm();return new Promise((m,p)=>{const g=new c0;g.setWithCredentials(!0),g.listenOnce(h0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Xc.NO_ERROR:const w=g.getResponseJson();lt(Ye,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(w)),m(w);break;case Xc.TIMEOUT:lt(Ye,`RPC '${t}' ${f} timed out`),p(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const A=g.getStatus();if(lt(Ye,`RPC '${t}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let N=g.getResponseJson();Array.isArray(N)&&(N=N[0]);const D=N==null?void 0:N.error;if(D&&D.status&&D.message){const G=function(Y){const it=Y.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(it)>=0?it:tt.UNKNOWN}(D.status);p(new ut(G,D.message))}else p(new ut(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{s_:t,streamId:f,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{lt(Ye,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);lt(Ye,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}a_(t,n,s){const o=jm(),u=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=m0(),m=d0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");lt(Ye,`Creating RPC '${t}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,N=!1;const D=new nO({Go:B=>{N?lt(Ye,`Not sending because RPC '${t}' stream ${o} is closed:`,B):(A||(lt(Ye,`Opening RPC '${t}' stream ${o} transport.`),w.open(),A=!0),lt(Ye,`RPC '${t}' stream ${o} sending:`,B),w.send(B))},zo:()=>w.close()}),G=(B,Y,it)=>{B.listen(Y,et=>{try{it(et)}catch(ft){setTimeout(()=>{throw ft},0)}})};return G(w,Ml.EventType.OPEN,()=>{N||(lt(Ye,`RPC '${t}' stream ${o} transport opened.`),D.t_())}),G(w,Ml.EventType.CLOSE,()=>{N||(N=!0,lt(Ye,`RPC '${t}' stream ${o} transport closed`),D.r_())}),G(w,Ml.EventType.ERROR,B=>{N||(N=!0,eo(Ye,`RPC '${t}' stream ${o} transport errored. Name:`,B.name,"Message:",B.message),D.r_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))}),G(w,Ml.EventType.MESSAGE,B=>{var Y;if(!N){const it=B.data[0];Ht(!!it,16349);const et=it,ft=(et==null?void 0:et.error)||((Y=et[0])===null||Y===void 0?void 0:Y.error);if(ft){lt(Ye,`RPC '${t}' stream ${o} received error:`,ft);const ht=ft.status;let wt=function(R){const x=_e[R];if(x!==void 0)return Y0(x)}(ht),I=ft.message;wt===void 0&&(wt=tt.INTERNAL,I="Unknown error status: "+ht+" with message "+ft.message),N=!0,D.r_(new ut(wt,I)),w.close()}else lt(Ye,`RPC '${t}' stream ${o} received:`,it),D.i_(it)}}),G(m,f0.STAT_EVENT,B=>{B.stat===Im.PROXY?lt(Ye,`RPC '${t}' stream ${o} detected buffering proxy`):B.stat===Im.NOPROXY&&lt(Ye,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new oD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.bi=t,this.timerId=n,this.u_=s,this.c_=o,this.l_=u,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const n=Math.floor(this.h_+this.d_()),s=Math.max(0,Date.now()-this.T_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,o,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="PersistentStream";class uS{constructor(t,n,s,o,u,f,m,p){this.bi=t,this.R_=s,this.V_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lS(t,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.m_===n&&this.B_(s,o)},s=>{t(()=>{const o=new ut(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.L_(o)})})}B_(t,n){const s=this.N_(this.m_);this.stream=this.k_(t,n),this.stream.jo(()=>{s(()=>this.listener.jo())}),this.stream.Jo(()=>{s(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(o=>{s(()=>this.L_(o))}),this.stream.onMessage(o=>{s(()=>++this.p_==1?this.q_(o):this.onNext(o))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return lt(kE,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return n=>{this.bi.enqueueAndForget(()=>this.m_===t?n():(lt(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rO extends uS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}k_(t,n){return this.connection.a_("Listen",t,n)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const n=cD(this.serializer,t),s=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?yi(f.readTime):At.min()}(t);return this.listener.Q_(n,s)}U_(t){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=xm(p)?{documents:dD(u,p)}:{query:mD(u,p).gt},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=W0(u,f.resumeToken);const g=Pm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=_h(u,f.snapshotVersion.toTimestamp());const g=Pm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,t);const s=gD(this.serializer,t);s&&(n.labels=s),this.F_(n)}K_(t){const n={};n.database=Um(this.serializer),n.removeTarget=t,this.F_(n)}}class sO extends uS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,n){return this.connection.a_("Write",t,n)}q_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const n=fD(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.j_(s,n)}H_(){const t={};t.database=Um(this.serializer),this.F_(t)}G_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>hD(this.serializer,s))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{}class oO extends aO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.J_=!1}Y_(){if(this.J_)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,n,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Qo(t,km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(tt.UNKNOWN,u.toString())})}Wo(t,n,s,o,u){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Wo(t,km(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ut(tt.UNKNOWN,f.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class lO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(tr(n),this.ea=!1):lt("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class uO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=u,this.ca.vo(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(lt(Gs,"Restarting streams for network reachability change."),await async function(p){const g=bt(p);g.aa.add(4),await cu(g),g.la.set("Unknown"),g.aa.delete(4),await zh(g)}(this))})}),this.la=new lO(s,o)}}async function zh(r){if(Xs(r))for(const t of r.ua)await t(!0)}async function cu(r){for(const t of r.ua)await t(!1)}function cS(r,t){const n=bt(r);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Mp(n)?xp(n):yo(n).b_()&&Np(n,t))}function Op(r,t){const n=bt(r),s=yo(n);n._a.delete(t),s.b_()&&hS(n,t),n._a.size===0&&(s.b_()?s.v_():Xs(n)&&n.la.set("Unknown"))}function Np(r,t){if(r.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yo(r).U_(t)}function hS(r,t){r.ha.Ke(t),yo(r).K_(t)}function xp(r){r.ha=new iD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r._a.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.la.ta()}function Mp(r){return Xs(r)&&!yo(r).w_()&&r._a.size>0}function Xs(r){return bt(r).aa.size===0}function fS(r){r.ha=void 0}async function cO(r){r.la.set("Online")}async function hO(r){r._a.forEach((t,n)=>{Np(r,t)})}async function fO(r,t){fS(r),Mp(r)?(r.la.ia(t),xp(r)):r.la.set("Unknown")}async function dO(r,t,n){if(r.la.set("Online"),t instanceof X0&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o._a.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o._a.delete(m),o.ha.removeTarget(m))}(r,t)}catch(s){lt(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Eh(r,s)}else if(t instanceof th?r.ha.Xe(t):t instanceof $0?r.ha.ot(t):r.ha.nt(t),!n.isEqual(At.min()))try{const s=await oS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.ha.It(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u._a.get(g);E&&u._a.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u._a.get(p);if(!E)return;u._a.set(p,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),hS(u,p);const w=new Ur(E.target,p,g,E.sequenceNumber);Np(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){lt(Gs,"Failed to raise snapshot:",s),await Eh(r,s)}}async function Eh(r,t,n){if(!go(t))throw t;r.aa.add(1),await cu(r),r.la.set("Offline"),n||(n=()=>oS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Gs,"Retrying IndexedDB access"),await n(),r.aa.delete(1),await zh(r)})}function dS(r,t){return t().catch(n=>Eh(r,n,t))}async function jh(r){const t=bt(r),n=Yr(t);let s=t.oa.length>0?t.oa[t.oa.length-1].batchId:pp;for(;mO(t);)try{const o=await $D(t.localStore,s);if(o===null){t.oa.length===0&&n.v_();break}s=o.batchId,pO(t,o)}catch(o){await Eh(t,o)}mS(t)&&pS(t)}function mO(r){return Xs(r)&&r.oa.length<10}function pO(r,t){r.oa.push(t);const n=Yr(r);n.b_()&&n.W_&&n.G_(t.mutations)}function mS(r){return Xs(r)&&!Yr(r).w_()&&r.oa.length>0}function pS(r){Yr(r).start()}async function gO(r){Yr(r).H_()}async function yO(r){const t=Yr(r);for(const n of r.oa)t.G_(n.mutations)}async function _O(r,t,n){const s=r.oa.shift(),o=Ap.from(s,t,n);await dS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jh(r)}async function vO(r,t){t&&Yr(r).W_&&await async function(s,o){if(function(f){return eD(f)&&f!==tt.ABORTED}(o.code)){const u=s.oa.shift();Yr(s).D_(),await dS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await jh(s)}}(r,t),mS(r)&&pS(r)}async function LE(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),lt(Gs,"RemoteStore received new credentials");const s=Xs(n);n.aa.add(3),await cu(n),s&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await zh(n)}async function EO(r,t){const n=bt(r);t?(n.aa.delete(2),await zh(n)):t||(n.aa.add(2),await cu(n),n.la.set("Unknown"))}function yo(r){return r.Pa||(r.Pa=function(n,s,o){const u=bt(n);return u.Y_(),new rO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:cO.bind(null,r),Jo:hO.bind(null,r),Zo:fO.bind(null,r),Q_:dO.bind(null,r)}),r.ua.push(async t=>{t?(r.Pa.D_(),Mp(r)?xp(r):r.la.set("Unknown")):(await r.Pa.stop(),fS(r))})),r.Pa}function Yr(r){return r.Ta||(r.Ta=function(n,s,o){const u=bt(n);return u.Y_(),new sO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{jo:()=>Promise.resolve(),Jo:gO.bind(null,r),Zo:vO.bind(null,r),z_:yO.bind(null,r),j_:_O.bind(null,r)}),r.ua.push(async t=>{t?(r.Ta.D_(),await jh(r)):(await r.Ta.stop(),r.oa.length>0&&(lt(Gs,`Stopping write stream with ${r.oa.length} pending writes`),r.oa=[]))})),r.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Vp(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(r,t){if(tr("AsyncQueue",`${t}: ${r}`),go(r))return new ut(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||pt.comparator(n.key,s.key):(n,s)=>pt.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this.Ia=new se(pt.comparator)}track(t){const n=t.doc.key,s=this.Ia.get(n);s?t.type!==0&&s.type===3?this.Ia=this.Ia.insert(n,t):t.type===3&&s.type!==1?this.Ia=this.Ia.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Ia=this.Ia.remove(n):t.type===1&&s.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:t.doc}):Et(63341,{Vt:t,Ea:s}):this.Ia=this.Ia.insert(n,t)}da(){const t=[];return this.Ia.inorderTraversal((n,s)=>{t.push(s)}),t}}class ao{constructor(t,n,s,o,u,f,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ao(t,n,Za.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class SO{constructor(){this.queries=zE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=zE(),u.forEach((f,m)=>{for(const p of m.Ra)p.onError(s)})})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function zE(){return new $s(r=>k0(r),Mh)}async function gS(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Va()&&t.ma()&&(s=2):(u=new TO,s=t.ma()?0:1);try{switch(s){case 0:u.Aa=await n.onListen(o,!0);break;case 1:u.Aa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Pp(f,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Ra.push(t),t.ga(n.onlineState),u.Aa&&t.pa(u.Aa)&&kp(n)}async function yS(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Ra.indexOf(t);f>=0&&(u.Ra.splice(f,1),u.Ra.length===0?o=t.ma()?0:1:!u.Va()&&t.ma()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AO(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Ra)m.pa(o)&&(s=!0);f.Aa=o}}s&&kp(n)}function wO(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Ra)u.onError(n);s.queries.delete(t)}function kp(r){r.fa.forEach(t=>{t.next()})}var Bm,jE;(jE=Bm||(Bm={})).ya="default",jE.Cache="cache";class _S{constructor(t,n,s){this.query=t,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=s||{}}pa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ao(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ba?this.Da(t)&&(this.wa.next(t),n=!0):this.va(t,this.onlineState)&&(this.Ca(t),n=!0),this.Sa=t,n}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),n=!0),n}va(t,n){if(!t.fromCache||!this.ma())return!0;const s=n!=="Offline";return(!this.options.Fa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.key=t}}class ES{constructor(t){this.key=t}}class bO{constructor(t,n){this.query=t,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Vt(),this.mutatedKeys=Vt(),this.Ua=L0(t),this.Ka=new Za(this.Ua)}get Wa(){return this.qa}Ga(t,n){const s=n?n.za:new UE,o=n?n.Ka:this.Ka;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,w)=>{const A=o.get(E),N=Vh(this.query,w)?w:null,D=!!A&&this.mutatedKeys.has(A.key),G=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let B=!1;A&&N?A.data.isEqual(N.data)?D!==G&&(s.track({type:3,doc:N}),B=!0):this.ja(A,N)||(s.track({type:2,doc:N}),B=!0,(p&&this.Ua(N,p)>0||g&&this.Ua(N,g)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),B=!0):A&&!N&&(s.track({type:1,doc:A}),B=!0,(p||g)&&(m=!0)),B&&(N?(f=f.add(N),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ka:f,za:s,ys:m,mutatedKeys:u}}ja(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const f=t.za.da();f.sort((E,w)=>function(N,D){const G=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:B})}};return G(N)-G(D)}(E.type,w.type)||this.Ua(E.doc,w.doc)),this.Ha(s),o=o!=null&&o;const m=n&&!o?this.Ja():[],p=this.$a.size===0&&this.current&&!o?1:0,g=p!==this.Qa;return this.Qa=p,f.length!==0||g?{snapshot:new ao(this.query,t.Ka,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ya:m}:{Ya:m}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new UE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Vt(),this.Ka.forEach(s=>{this.Za(s.key)&&(this.$a=this.$a.add(s.key))});const n=[];return t.forEach(s=>{this.$a.has(s)||n.push(new ES(s))}),this.$a.forEach(s=>{t.has(s)||n.push(new vS(s))}),n}Xa(t){this.qa=t.Ns,this.$a=Vt();const n=this.Ga(t.documents);return this.applyChanges(n,!0)}eu(){return ao.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Lp="SyncEngine";class RO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class IO{constructor(t){this.key=t,this.tu=!1}}class CO{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.nu={},this.ru=new $s(m=>k0(m),Mh),this.iu=new Map,this.su=new Set,this.ou=new se(pt.comparator),this._u=new Map,this.au=new Rp,this.uu={},this.cu=new Map,this.lu=so.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function DO(r,t,n=!0){const s=RS(r);let o;const u=s.ru.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.eu()):o=await TS(s,t,n,!0),o}async function OO(r,t){const n=RS(r);await TS(n,t,!0,!1)}async function TS(r,t,n,s){const o=await XD(r.localStore,gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await NO(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&cS(r.remoteStore,o),m}async function NO(r,t,n,s,o){r.Pu=(w,A,N)=>async function(G,B,Y,it){let et=B.view.Ga(Y);et.ys&&(et=await xE(G.localStore,B.query,!1).then(({documents:I})=>B.view.Ga(I,et)));const ft=it&&it.targetChanges.get(B.targetId),ht=it&&it.targetMismatches.get(B.targetId)!=null,wt=B.view.applyChanges(et,G.isPrimaryClient,ft,ht);return qE(G,B.targetId,wt.Ya),wt.snapshot}(r,w,A,N);const u=await xE(r.localStore,t,!0),f=new bO(t,u.Ns),m=f.Ga(u.documents),p=uu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);qE(r,n,g.Ya);const E=new RO(t,n,f);return r.ru.set(t,E),r.iu.has(n)?r.iu.get(n).push(t):r.iu.set(n,[t]),g.snapshot}async function xO(r,t,n){const s=bt(r),o=s.ru.get(t),u=s.iu.get(o.targetId);if(u.length>1)return s.iu.set(o.targetId,u.filter(f=>!Mh(f,t))),void s.ru.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Op(s.remoteStore,o.targetId),qm(s,o.targetId)}).catch(po)):(qm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function MO(r,t){const n=bt(r),s=n.ru.get(t),o=n.iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Op(n.remoteStore,s.targetId))}async function VO(r,t,n){const s=BO(r);try{const o=await function(f,m){const p=bt(f),g=Re.now(),E=m.reduce((N,D)=>N.add(D.key),Vt());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let D=er(),G=Vt();return p.Cs.getEntries(N,E).next(B=>{D=B,D.forEach((Y,it)=>{it.isValidDocument()||(G=G.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,D)).next(B=>{w=B;const Y=[];for(const it of m){const et=X2(it,w.get(it.key).overlayedDocument);et!=null&&Y.push(new Jr(it.key,et,C0(et.value.mapValue),Vn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,Y,m)}).next(B=>{A=B;const Y=B.applyToLocalDocumentSet(w,G);return p.documentOverlayCache.saveOverlays(N,B.batchId,Y)})}).then(()=>({batchId:A.batchId,changes:z0(w)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.uu[f.currentUser.toKey()];g||(g=new se(Ct)),g=g.insert(m,p),f.uu[f.currentUser.toKey()]=g}(s,o.batchId,n),await hu(s,o.changes),await jh(s.remoteStore)}catch(o){const u=Pp(o,"Failed to persist write");n.reject(u)}}async function SS(r,t){const n=bt(r);try{const s=await KD(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n._u.get(u);f&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.tu=!0:o.modifiedDocuments.size>0?Ht(f.tu,14607):o.removedDocuments.size>0&&(Ht(f.tu,42227),f.tu=!1))}),await hu(n,s,t)}catch(s){await po(s)}}function BE(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ru.forEach((u,f)=>{const m=f.view.ga(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=bt(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.Ra)A.ga(m)&&(g=!0)}),g&&kp(p)}(s.eventManager,t),o.length&&s.nu.Q_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PO(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s._u.get(t),u=o&&o.key;if(u){let f=new se(pt.comparator);f=f.insert(u,Xe.newNoDocument(u,At.min()));const m=Vt().add(u),p=new Lh(At.min(),new Map,new se(Ct),f,m);await SS(s,p),s.ou=s.ou.remove(u),s._u.delete(t),Up(s)}else await zm(s.localStore,t,!1).then(()=>qm(s,t,n)).catch(po)}async function kO(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await QD(n.localStore,t);wS(n,s,null),AS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await hu(n,o)}catch(o){await po(o)}}async function LO(r,t,n){const s=bt(r);try{const o=await function(f,m){const p=bt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Ht(w!==null,37113),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,t);wS(s,t,n),AS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await hu(s,o)}catch(o){await po(o)}}function AS(r,t){(r.cu.get(t)||[]).forEach(n=>{n.resolve()}),r.cu.delete(t)}function wS(r,t,n){const s=bt(r);let o=s.uu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.uu[s.currentUser.toKey()]=o}}function qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.iu.get(t))r.ru.delete(s),n&&r.nu.Tu(s,n);r.iu.delete(t),r.isPrimaryClient&&r.au.Ur(t).forEach(s=>{r.au.containsKey(s)||bS(r,s)})}function bS(r,t){r.su.delete(t.path.canonicalString());const n=r.ou.get(t);n!==null&&(Op(r.remoteStore,n),r.ou=r.ou.remove(t),r._u.delete(n),Up(r))}function qE(r,t,n){for(const s of n)s instanceof vS?(r.au.addReference(s.key,t),UO(r,s)):s instanceof ES?(lt(Lp,"Document no longer in limbo: "+s.key),r.au.removeReference(s.key,t),r.au.containsKey(s.key)||bS(r,s.key)):Et(19791,{Iu:s})}function UO(r,t){const n=t.key,s=n.path.canonicalString();r.ou.get(n)||r.su.has(s)||(lt(Lp,"New document in limbo: "+n),r.su.add(s),Up(r))}function Up(r){for(;r.su.size>0&&r.ou.size<r.maxConcurrentLimboResolutions;){const t=r.su.values().next().value;r.su.delete(t);const n=new pt(te.fromString(t)),s=r.lu.next();r._u.set(s,new IO(n)),r.ou=r.ou.insert(n,s),cS(r.remoteStore,new Ur(gi(Ep(n.path)),s,"TargetPurposeLimboResolution",Oh.le))}}async function hu(r,t,n){const s=bt(r),o=[],u=[],f=[];s.ru.isEmpty()||(s.ru.forEach((m,p)=>{f.push(s.Pu(p,t,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Cp.Ps(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.nu.Q_(o),await async function(p,g){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>J.forEach(g,A=>J.forEach(A.ls,N=>E.persistence.referenceDelegate.addReference(w,A.targetId,N)).next(()=>J.forEach(A.hs,N=>E.persistence.referenceDelegate.removeReference(w,A.targetId,N)))))}catch(w){if(!go(w))throw w;lt(Dp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const N=E.Ss.get(A),D=N.snapshotVersion,G=N.withLastLimboFreeSnapshotVersion(D);E.Ss=E.Ss.insert(A,G)}}}(s.localStore,u))}async function zO(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){lt(Lp,"User change. New user:",t.toKey());const s=await aS(n.localStore,t);n.currentUser=t,function(u,f){u.cu.forEach(m=>{m.forEach(p=>{p.reject(new ut(tt.CANCELLED,f))})}),u.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await hu(n,s.Ms)}}function jO(r,t){const n=bt(r),s=n._u.get(t);if(s&&s.tu)return Vt().add(s.key);{let o=Vt();const u=n.iu.get(t);if(!u)return o;for(const f of u){const m=n.ru.get(f);o=o.unionWith(m.view.Wa)}return o}}function RS(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=SS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PO.bind(null,t),t.nu.Q_=AO.bind(null,t.eventManager),t.nu.Tu=wO.bind(null,t.eventManager),t}function BO(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,t),t}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Uh(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,n){return null}fu(t,n){return null}Vu(t){return GD(this.persistence,new qD,t.initialUser,this.serializer)}Ru(t){return new sS(Ip.Ei,this.serializer)}Au(t){return new ZD}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class qO extends Th{constructor(t){super(),this.cacheSizeBytes=t}mu(t,n){Ht(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ID(s,t.asyncQueue,n)}Ru(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new sS(s=>vh.Ei(s,n),this.serializer)}}class Hm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zO.bind(null,this.syncEngine),await EO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new SO}()}createDatastore(t){const n=Uh(t.databaseInfo.databaseId),s=function(u){return new iO(u)}(t.databaseInfo);return function(u,f,m,p){return new oO(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new uO(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>BE(this.syncEngine,n,0),function(){return PE.C()?new PE:new JD}())}createSyncEngine(t,n){return function(o,u,f,m,p,g,E){const w=new CO(o,u,f,m,p,g);return E&&(w.hu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=bt(o);lt(Gs,"RemoteStore shutting down."),u.aa.add(5),await cu(u),u.ca.shutdown(),u.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class HO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=_0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{lt($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(lt($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Pp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function mm(r,t){r.asyncQueue.verifyOperationInProgress(),lt($r,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await aS(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function HE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await FO(r);lt($r,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>LE(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>LE(t.remoteStore,o)),r._onlineComponents=t}async function FO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt($r,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new Th)}}else lt($r,"Using default OfflineComponentProvider"),await mm(r,new qO(void 0));return r._offlineComponents}async function CS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt($r,"Using user provided OnlineComponentProvider"),await HE(r,r._uninitializedComponentsProvider._online)):(lt($r,"Using default OnlineComponentProvider"),await HE(r,new Hm))),r._onlineComponents}function GO(r){return CS(r).then(t=>t.syncEngine)}async function DS(r){const t=await CS(r),n=t.eventManager;return n.onListen=DO.bind(null,t.syncEngine),n.onUnlisten=xO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=OO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=MO.bind(null,t.syncEngine),n}function QO(r,t,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new IS({next:A=>{E.yu(),f.enqueueAndForget(()=>yS(u,w));const N=A.docs.has(m);!N&&A.fromCache?g.reject(new ut(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&A.fromCache&&p&&p.source==="server"?g.reject(new ut(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new _S(Ep(m.path),E,{includeMetadataChanges:!0,Fa:!0});return gS(u,w)}(await DS(r),r.asyncQueue,t,n,s)),s.promise}function KO(r,t,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new IS({next:A=>{E.yu(),f.enqueueAndForget(()=>yS(u,w)),A.fromCache&&p.source==="server"?g.reject(new ut(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new _S(m,E,{includeMetadataChanges:!0,Fa:!0});return gS(u,w)}(await DS(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(r,t,n){if(!n)throw new ut(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function YO(r,t,n,s){if(t===!0&&s===!0)throw new ut(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function GE(r){if(!pt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function QE(r){if(pt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Bh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Kn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(r);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firestore.googleapis.com",KE=!0;class YE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xS,this.ssl=KE}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:KE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bD)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new n2;switch(s.type){case"firstParty":return new a2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Rh("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=FE.get(n);s&&(lt("ComponentProvider","Removing Datastore"),FE.delete(n),s.terminate())}(this),Promise.resolve()}}function $O(r,t,n,s={}){var o;r=Kn(r,qh);const u=tu(t),f=r._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;f.host!==xS&&f.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!js(g,m)&&(r._setSettings(g),u&&(ST(`https://${p}`),Rh("Firestore",!0)),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=$e.MOCK_USER;else{E=m1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new $e(A)}r._authCredentials=new i2(new g0(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new _o(this.firestore,t,this._query)}}class nn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new nn(this.firestore,t,this._key)}}class Hr extends _o{constructor(t,n,s){super(t,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new nn(this.firestore,null,new pt(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function Xi(r,t,...n){if(r=Ce(r),NS("collection","path",t),r instanceof qh){const s=te.fromString(t,...n);return QE(s),new Hr(r,null,s)}{if(!(r instanceof nn||r instanceof Hr))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return QE(s),new Hr(r.firestore,null,s)}}function Yn(r,t,...n){if(r=Ce(r),arguments.length===1&&(t=_0.newId()),NS("doc","path",t),r instanceof qh){const s=te.fromString(t,...n);return GE(s),new nn(r,null,new pt(s))}{if(!(r instanceof nn||r instanceof Hr))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(te.fromString(t,...n));return GE(s),new nn(r.firestore,r instanceof Hr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="AsyncQueue";class XE{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lS(this,"async_queue_retry"),this.ju=()=>{const s=dm();s&&lt($E,"Visibility state changed to "+s.visibilityState),this.y_.A_()},this.Hu=t;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new $i;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!go(t))throw t;lt($E,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const n=this.Hu.then(()=>(this.Wu=!0,t().catch(s=>{throw this.Ku=s,this.Wu=!1,tr("INTERNAL UNHANDLED ERROR: ",WE(s)),s}).then(s=>(this.Wu=!1,s))));return this.Hu=n,n}enqueueAfterDelay(t,n,s){this.Ju(),this.zu.indexOf(t)>-1&&(n=0);const o=Vp.createAndSchedule(this,t,n,s,u=>this.Xu(u));return this.Uu.push(o),o}Ju(){this.Ku&&Et(47125,{ec:WE(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const n of this.Uu)if(n.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const n=this.Uu.indexOf(t);this.Uu.splice(n,1)}}function WE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ws extends qh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new XE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new XE(t),this._firestoreClient=void 0,await t}}}function XO(r,t){const n=typeof r=="object"?r:RT(),s=typeof r=="string"?r:fh,o=np(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=f1("firestore");u&&$O(o,...u)}return o}function zp(r){if(r._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WO(r),r._firestoreClient}function WO(r){var t,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new T2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,OS(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new HO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new oo(Fe.fromBase64String(t))}catch(n){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new oo(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^__.*__$/;class JO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms):new lu(t,this.data,n,this.fieldTransforms)}}class MS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Jr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function VS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{oc:r})}}class Hp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this._c(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Hp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:s,cc:!1});return o.lc(t),o}hc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ac({path:s,cc:!1});return o._c(),o}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Sh(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(VS(this.oc)&&ZO.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class tN{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Uh(t)}dc(t,n,s,o=!1){return new Hp({oc:t,methodName:n,Ec:s,path:He.emptyPath(),cc:!1,Ic:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(r){const t=r._freezeSettings(),n=Uh(r._databaseId);return new tN(r._databaseId,!!t.ignoreUndefinedProperties,n)}function PS(r,t,n,s,o,u={}){const f=r.dc(u.merge||u.mergeFields?2:0,t,n,o);Fp("Data must be an object, but it was:",f,s);const m=kS(s,f);let p,g;if(u.merge)p=new _n(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=Fm(t,w,n);if(!f.contains(A))throw new ut(tt.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);US(E,A)||E.push(A)}p=new _n(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new JO(new ln(m),p,g)}class Gh extends jp{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gh}}function eN(r,t,n,s){const o=r.dc(1,t,n);Fp("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();Zr(s,(p,g)=>{const E=Gp(t,p,n);g=Ce(g);const w=o.hc(E);if(g instanceof Gh)u.push(E);else{const A=fu(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new _n(u);return new MS(f,m,o.fieldTransforms)}function nN(r,t,n,s,o,u){const f=r.dc(1,t,n),m=[Fm(t,s,n)],p=[o];if(u.length%2!=0)throw new ut(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Fm(t,u[A])),p.push(u[A+1]);const g=[],E=ln.empty();for(let A=m.length-1;A>=0;--A)if(!US(g,m[A])){const N=m[A];let D=p[A];D=Ce(D);const G=f.hc(N);if(D instanceof Gh)g.push(N);else{const B=fu(D,G);B!=null&&(g.push(N),E.set(N,B))}}const w=new _n(g);return new MS(E,w,f.fieldTransforms)}function iN(r,t,n,s=!1){return fu(n,r.dc(s?4:3,t))}function fu(r,t){if(LS(r=Ce(r)))return Fp("Unsupported field value:",t,r),kS(r,t);if(r instanceof jp)return function(s,o){if(!VS(o.oc))throw o.Tc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Tc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=fu(m,o.Pc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Ce(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return F2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Re.fromDate(s);return{timestampValue:_h(o.serializer,u)}}if(s instanceof Re){const u=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(s instanceof Bp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof oo)return{bytesValue:W0(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Tc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof qp)return function(f,m){return{mapValue:{fields:{[R0]:{stringValue:I0},[dh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Tc("VectorValues must only contain numeric values.");return Tp(m.serializer,g)})}}}}}}(s,o);throw o.Tc(`Unsupported field value: ${Bh(s)}`)}(r,t)}function kS(r,t){const n={};return E0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(r,(s,o)=>{const u=fu(o,t.uc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function LS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof Bp||r instanceof oo||r instanceof nn||r instanceof jp||r instanceof qp)}function Fp(r,t,n){if(!LS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Bh(n);throw s==="an object"?t.Tc(r+" a custom object"):t.Tc(r+" "+s)}}function Fm(r,t,n){if((t=Ce(t))instanceof Hh)return t._internalPath;if(typeof t=="string")return Gp(r,t);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const rN=new RegExp("[~\\*/\\[\\]]");function Gp(r,t,n){if(t.search(rN)>=0)throw Sh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Hh(...t.split("."))._internalPath}catch{throw Sh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ut(tt.INVALID_ARGUMENT,m+r+p)}function US(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Qp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sN extends zS{data(){return super.data()}}function Qp(r,t){return typeof t=="string"?Gp(r,t):t instanceof Hh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class oN extends Kp{}function lN(r,t,...n){let s=[];t instanceof Kp&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Yp).length,m=u.filter(p=>p instanceof Qh).length;if(f>1||f>0&&m>0)throw new ut(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Qh extends oN{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Qh(t,n,s)}_apply(t){const n=this._parse(t);return jS(t._query,n),new _o(t.firestore,t.converter,Mm(t._query,n))}_parse(t){const n=Fh(t.firestore);return function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){tT(w,E);const D=[];for(const G of w)D.push(JE(p,u,G));A={arrayValue:{values:D}}}else A=JE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||tT(w,E),A=iN(m,f,w,E==="in"||E==="not-in");return ve.create(g,E,A)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ZE(r,t,n){const s=t,o=Qp("where",r);return Qh._create(o,s,n)}class Yp extends Kp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Yp(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)jS(f,p),f=Mm(f,p)}(t._query,n),new _o(t.firestore,t.converter,Mm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function JE(r,t,n){if(typeof(n=Ce(n))=="string"){if(n==="")throw new ut(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(t)&&n.indexOf("/")!==-1)throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(te.fromString(n));if(!pt.isDocumentKey(s))throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dE(r,new pt(s))}if(n instanceof nn)return dE(r,n._key);throw new ut(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bh(n)}.`)}function tT(r,t){if(!Array.isArray(r)||r.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jS(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uN{convertValue(t,n="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Zr(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>de(f.doubleValue));return new qp(u)}convertGeoPoint(t){return new Bp(de(t.latitude),de(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=xh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(t));default:return null}}convertTimestamp(t){const n=Gr(t);return new Re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=te.fromString(t);Ht(iS(s),9688,{name:t});const o=new Yl(s.get(1),s.get(3)),u=new pt(s.popFirst(5));return o.isEqual(n)||tr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qS extends zS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Qp("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class eh extends qS{data(t={}){return super.data(t)}}class cN{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new eh(this._firestore,this._userDataWriter,s.key,s,new kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new eh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:hN(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r){r=Kn(r,nn);const t=Kn(r.firestore,Ws);return QO(zp(t),r._key).then(n=>fN(t,r,n))}class HS extends uN{constructor(t){super(),this.firestore=t}convertBytes(t){return new oo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function lo(r){r=Kn(r,_o);const t=Kn(r.firestore,Ws),n=zp(t),s=new HS(t);return aN(r._query),KO(n,r._query).then(o=>new cN(t,s,r,o))}function Xp(r,t,n){r=Kn(r,nn);const s=Kn(r.firestore,Ws),o=BS(r.converter,t);return Kh(s,[PS(Fh(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Vn.none())])}function FS(r,t,n,...s){r=Kn(r,nn);const o=Kn(r.firestore,Ws),u=Fh(o);let f;return f=typeof(t=Ce(t))=="string"||t instanceof Hh?nN(u,"updateDoc",r._key,t,n,s):eN(u,"updateDoc",r._key,t),Kh(o,[f.toMutation(r._key,Vn.exists(!0))])}function GS(r){return Kh(Kn(r.firestore,Ws),[new Sp(r._key,Vn.none())])}function Wp(r,t){const n=Kn(r.firestore,Ws),s=Yn(r),o=BS(r.converter,t);return Kh(n,[PS(Fh(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}function Kh(r,t){return function(s,o){const u=new $i;return s.asyncQueue.enqueueAndForget(async()=>VO(await GO(s),o,u)),u.promise}(zp(r),t)}function fN(r,t,n){const s=n.docs.get(t._key),o=new HS(r);return new qS(r,o,t._key,s,new kl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){mo=o})(ho),Ja(new Bs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ws(new r2(s.getProvider("auth-internal")),new o2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Br(eE,nE,t),Br(eE,nE,"esm2017")})();var dN="firebase",mN="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(dN,mN,"app");const pN={apiKey:"AIzaSyDmLqsJTI9o5PDeRPeziwfLC5LgoLlhdds",authDomain:"variyar-1b71e.firebaseapp.com",projectId:"variyar-1b71e",storageBucket:"variyar-1b71e.firebasestorage.app",messagingSenderId:"784254383187",appId:"1:784254383187:web:27c55cd75b8ff07a1b02a6",measurementId:"G-YEGK38KL8L"},QS=bT(pN),Fn=t2(QS),be=XO(QS);async function gN(r,t="student"){const n=Yn(be,"users",r.uid);await Xp(n,{uid:r.uid,email:r.email,role:t,createdAt:new Date})}const KS=q.createContext(),Yh=()=>q.useContext(KS),yN=({children:r})=>{const[t,n]=q.useState(null),[s,o]=q.useState(null),[u,f]=q.useState(!0),m=async A=>{try{const N=Yn(be,"users",A),D=await $p(N);return D.exists()?D.data():(console.warn("User document not found in Firestore."),{role:null})}catch(N){return console.error("Error fetching user data:",N),{role:null}}},p=async(A,N,D="student")=>{try{const G=await cp(Fn,A,N);return await Xp(Yn(be,"users",G.user.uid),{email:A,role:D}),G}catch(G){throw console.error("Signup error:",G),G}},g=async(A,N)=>{try{return await UI(Fn,A,N)}catch(D){throw console.error("Login error:",D),D}},E=async()=>{try{await hp(Fn)}catch(A){console.error("Logout error:",A)}};q.useEffect(()=>{const A=HI(Fn,async N=>{if(n(N),N){const D=await m(N.uid);o(D)}else o(null);f(!1)});return()=>A()},[]);const w={currentUser:t,userData:s,login:g,signup:p,logout:E,loading:u};return K.jsx(KS.Provider,{value:w,children:!u&&r})},pm=({allowedRoles:r})=>{const{currentUser:t,userData:n,loading:s}=Yh();return s?K.jsx("div",{children:"Loading..."}):!t||!r.includes(n==null?void 0:n.role)?K.jsx(Us,{to:"/login"}):K.jsx(Sb,{})};function _N(){const[r,t]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),f=Ks(),{login:m}=Yh(),p=async g=>{g.preventDefault();try{await m(r,n),console.log("Login successful"),setTimeout(()=>f("/"),300)}catch(E){u(E.message),console.error(E)}};return K.jsx("div",{className:"login-container",children:K.jsxs("form",{onSubmit:p,className:"login-form",children:[K.jsx("h2",{children:"Exam Portal Login"}),o&&K.jsx("p",{className:"login-error",children:o}),K.jsx("input",{value:r,onChange:g=>t(g.target.value),placeholder:"Email"}),K.jsx("input",{type:"password",value:n,onChange:g=>s(g.target.value),placeholder:"Password"}),K.jsx("button",{type:"submit",children:"Log In"}),K.jsxs("p",{children:["Don't have an account? ",K.jsx(Jm,{to:"/signup",children:"Sign up"})]})]})})}function vN(){const[r,t]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),f=Ks(),m=async p=>{p.preventDefault();try{const g=await cp(Fn,r,n);await gN(g.user,"student"),f("/student")}catch(g){u(g.message)}};return K.jsx("div",{className:"signup-container",children:K.jsxs("form",{onSubmit:m,className:"signup-form",children:[K.jsx("h2",{children:"Create Student Account"}),o&&K.jsx("p",{className:"signup-error",children:o}),K.jsx("input",{type:"email",value:r,onChange:p=>t(p.target.value),placeholder:"Email"}),K.jsx("input",{type:"password",value:n,onChange:p=>s(p.target.value),placeholder:"Password"}),K.jsx("button",{type:"submit",children:"Sign Up"})]})})}function EN(){var E;const{currentUser:r}=Yh(),[t,n]=q.useState(null),[s,o]=q.useState(!0),[u,f]=q.useState([]),m=Ks();q.useEffect(()=>{(async()=>{try{if(r){const D=Yn(be,"users",r.uid),G=await $p(D);G.exists()&&n(G.data())}const N=(await lo(Xi(be,"exams"))).docs.map(D=>({id:D.id,...D.data()}));f(N)}catch(A){console.error("Error fetching data:",A)}finally{o(!1)}})()},[r]);const p=async w=>{if(Fn.currentUser)try{await Wp(Xi(be,"registrations"),{examId:w,studentId:Fn.currentUser.uid,startedAt:new Date,answers:[],score:null}),m(`/exam/${w}`)}catch(A){console.error("Error starting exam:",A)}},g=async()=>{try{await hp(Fn),m("/login")}catch(w){console.error("Logout failed:",w)}};return s?K.jsx("div",{className:"status",children:"Loading dashboard..."}):t?K.jsxs("div",{className:"dashboard-container",children:[K.jsxs("header",{className:"dashboard-header",children:[K.jsxs("h2",{children:["Welcome, ",t.name||"Student"," 👋"]}),K.jsx("button",{className:"logout-btn",onClick:g,children:"Logout"})]}),K.jsxs("section",{className:"dashboard-section",children:[K.jsx("h3",{children:"Your Courses"}),K.jsx("ul",{className:"course-list",children:(E=t.courses)==null?void 0:E.map((w,A)=>{var N,D;return K.jsxs("li",{className:"course-item",children:[K.jsx("div",{className:"course-title",children:w}),K.jsx("div",{className:"progress-bar-wrapper",children:K.jsx("div",{className:"progress-fill",style:{width:`${((N=t.progress)==null?void 0:N[w])??0}%`}})}),K.jsxs("small",{children:["Progress: ",((D=t.progress)==null?void 0:D[w])??0,"%"]})]},A)})})]}),K.jsxs("section",{className:"dashboard-section",children:[K.jsx("h3",{children:"Available Exams"}),u.length===0?K.jsx("p",{className:"empty",children:"No exams available at this time."}):K.jsx("ul",{className:"exam-list",children:u.map(w=>K.jsxs("li",{className:"exam-item",children:[K.jsx("span",{children:w.title}),K.jsx("button",{className:"start-btn",onClick:()=>p(w.id),children:"Start Exam"})]},w.id))})]})]}):K.jsx("div",{className:"status",children:"No student data found."})}function TN({examId:r,onQuestionAdded:t}){const[n,s]=q.useState(""),[o,u]=q.useState(["","","",""]),[f,m]=q.useState(0),p=(E,w)=>{const A=[...o];A[w]=E,u(A)},g=async E=>{E.preventDefault(),await Wp(Xi(be,"exams",r,"questions"),{question:n,options:o,correctIndex:f}),s(""),u(["","","",""]),m(0),t&&t()};return K.jsxs("form",{onSubmit:g,style:{marginTop:10},children:[K.jsx("input",{type:"text",placeholder:"Question",value:n,onChange:E=>s(E.target.value),required:!0}),o.map((E,w)=>K.jsx("input",{type:"text",placeholder:`Option ${w+1}`,value:E,onChange:A=>p(A.target.value,w),required:!0},w)),K.jsxs("select",{value:f,onChange:E=>m(parseInt(E.target.value)),children:[K.jsx("option",{value:0,children:"Option 1 is correct"}),K.jsx("option",{value:1,children:"Option 2 is correct"}),K.jsx("option",{value:2,children:"Option 3 is correct"}),K.jsx("option",{value:3,children:"Option 4 is correct"})]}),K.jsx("button",{type:"submit",children:"Add Question"})]})}function SN({examId:r,onDeleted:t}){const[n,s]=q.useState([]),o=async()=>{const f=await lo(Xi(be,"exams",r,"questions"));s(f.docs.map(m=>({id:m.id,...m.data()})))},u=async f=>{await GS(Yn(be,"exams",r,"questions",f)),o(),t&&t()};return q.useEffect(()=>{o()},[r]),n.length?K.jsx("ul",{style:{marginLeft:20},children:n.map((f,m)=>K.jsxs("li",{children:[K.jsxs("strong",{children:["Q",m+1,":"]})," ",f.question," ",K.jsx("button",{onClick:()=>u(f.id),style:{marginLeft:8},children:"Delete"})]},f.id))}):K.jsx("p",{children:"No questions yet."})}function AN(){const[r,t]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(""),[f,m]=q.useState([]),[p,g]=q.useState(null),[E,w]=q.useState(null),[A,N]=q.useState(null),[D,G]=q.useState([]),B=Ks();q.useEffect(()=>{Y()},[]);const Y=async()=>{const I=await lo(Xi(be,"exams"));m(I.docs.map(b=>({id:b.id,...b.data()})))},it=async I=>{I.preventDefault();const b={title:r,date:n,duration:+o};p?(await FS(Yn(be,"exams",p.id),b),g(null)):await Wp(Xi(be,"exams"),b),t(""),s(""),u(""),Y()},et=async I=>{await GS(Yn(be,"exams",I)),E===I&&w(null),Y()},ft=I=>{g(I),t(I.title),s(I.date),u(I.duration)},ht=async()=>{try{await hp(Fn),B("/login")}catch(I){console.error("Logout failed:",I)}},wt=async I=>{const R=(await lo(Xi(be,"registrations"))).docs.map(x=>({id:x.id,...x.data()})).filter(x=>x.examId===I);G(R),N(I)};return K.jsxs("div",{className:"staff-dashboard",children:[K.jsxs("header",{className:"dashboard-header",children:[K.jsx("h2",{children:p?"✏️ Edit Exam":"📝 Create New Exam"}),K.jsx("button",{className:"logout-btn",onClick:ht,children:"Logout"})]}),K.jsxs("form",{className:"exam-form",onSubmit:it,children:[K.jsx("input",{type:"text",placeholder:"Exam Title",value:r,onChange:I=>t(I.target.value),required:!0}),K.jsx("input",{type:"date",value:n,onChange:I=>s(I.target.value),required:!0}),K.jsx("input",{type:"number",placeholder:"Duration (in minutes)",value:o,onChange:I=>u(I.target.value),required:!0}),K.jsxs("div",{className:"form-actions",children:[K.jsx("button",{type:"submit",children:p?"Update Exam":"Create Exam"}),p&&K.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>{g(null),t(""),s(""),u("")},children:"Cancel"})]})]}),K.jsxs("section",{className:"exam-list",children:[K.jsx("h3",{children:"📚 All Exams"}),K.jsx("ul",{children:f.map(I=>K.jsxs("li",{className:"exam-card",children:[K.jsxs("div",{className:"exam-info",children:[K.jsx("strong",{children:I.title})," (",I.date,") — ",I.duration," ","mins"]}),K.jsxs("div",{className:"exam-actions",children:[K.jsx("button",{onClick:()=>ft(I),children:"Edit"}),K.jsx("button",{onClick:()=>et(I.id),children:"Delete"}),K.jsx("button",{onClick:()=>w(E===I.id?null:I.id),children:E===I.id?"Hide Questions":"Manage Questions"}),K.jsx("button",{onClick:()=>A===I.id?N(null):wt(I.id),children:A===I.id?"Hide Submissions":"View Submissions"})]}),E===I.id&&K.jsxs("div",{className:"question-section",children:[K.jsx(TN,{examId:I.id,onQuestionAdded:Y}),K.jsx(SN,{examId:I.id})]}),A===I.id&&K.jsxs("div",{className:"results-section",children:[K.jsx("h5",{children:"📊 Submissions"}),D.length===0?K.jsx("p",{children:"No students have submitted yet."}):K.jsx("ul",{children:D.map(b=>K.jsxs("li",{children:["Student ID: ",K.jsx("strong",{children:b.studentId})," — Score:"," ",K.jsx("strong",{children:b.score!==null?b.score:"Not graded yet"})]},b.id))})]})]},I.id))})]})]})}function wN(){const[r,t]=q.useState(""),[n,s]=q.useState(""),[o,u]=q.useState(!1),f=async()=>{try{u(!0);const m=await cp(Fn,r,n);await jI(m.user,{displayName:"Staff"}),await Xp(Yn(be,"users",m.user.uid),{email:m.user.email,role:"staff",createdAt:new Date}),alert(`✅ Staff account for ${r} created successfully.`),t(""),s("")}catch(m){alert("❌ Error: "+m.message)}finally{u(!1)}};return K.jsx("div",{className:"admin-dashboard",children:K.jsxs("div",{className:"admin-card glass-card",children:[K.jsx("h2",{className:"admin-heading",children:"👤 Invite New Staff"}),K.jsx("input",{type:"email",className:"admin-input",placeholder:"Staff Email",value:r,onChange:m=>t(m.target.value),required:!0}),K.jsx("input",{type:"password",className:"admin-input",placeholder:"Password",value:n,onChange:m=>s(m.target.value),required:!0}),K.jsx("button",{className:"admin-button",onClick:f,disabled:o||!r||!n,children:o?"Creating...":"Create Staff Account"})]})})}function bN(){const{examId:r}=lb(),[t,n]=q.useState([]),[s,o]=q.useState({}),[u,f]=q.useState(!0),[m,p]=q.useState(0),g=Ks();q.useEffect(()=>{(async()=>{try{const D=await $p(Yn(be,"exams",r));if(D.exists()){const Y=D.data();p(Y.duration*60)}const B=(await lo(Xi(be,`exams/${r}/questions`))).docs.map(Y=>({id:Y.id,...Y.data()}));n(B)}catch(D){console.error("Error fetching exam/questions:",D)}finally{f(!1)}})()},[r]),q.useEffect(()=>{if(m<=0){u||w();return}const N=setInterval(()=>{p(D=>D-1)},1e3);return()=>clearInterval(N)},[m,u]);const E=(N,D)=>{o(G=>({...G,[N]:D}))},w=async()=>{const N=Fn.currentUser;if(N)try{let D=0;t.forEach(Y=>{const it=s[Y.id];Number(it)===Number(Y.correctIndex)&&D++});const B=(await lo(lN(Xi(be,"registrations"),ZE("examId","==",r),ZE("studentId","==",N.uid)))).docs[0];if(!B)throw new Error("Registration not found");await FS(Yn(be,"registrations",B.id),{answers:s,score:D,submittedAt:new Date}),alert("Exam submitted successfully!"),g("/student")}catch(D){console.error("Submission failed:",D),alert("Error submitting exam")}};if(u)return K.jsx("p",{children:"Loading questions..."});const A=N=>{const D=Math.floor(N/60),G=N%60;return`${String(D).padStart(2,"0")}:${String(G).padStart(2,"0")}`};return K.jsxs("div",{className:"container",children:[K.jsxs("div",{className:"exam-header",children:[K.jsx("h2",{children:"Exam"}),K.jsxs("h4",{className:"text-danger",children:["Time Left: ",A(m)]})]}),t.map((N,D)=>K.jsxs("div",{className:"question-block",children:[K.jsxs("h5",{children:[D+1,". ",N.question]}),N.options.map((G,B)=>K.jsxs("label",{children:[K.jsx("input",{type:"radio",name:N.id,value:B,checked:s[N.id]===B,onChange:()=>E(N.id,B)}),G]},B))]},N.id)),K.jsx("button",{className:"btn",onClick:w,children:"Submit Exam"})]})}function RN(){const{userData:r,loading:t}=Yh();if(t)return K.jsx("div",{children:"Loading..."});if(!r)return K.jsx(Us,{to:"/login"});switch(r.role){case"student":return K.jsx(Us,{to:"/student"});case"staff":return K.jsx(Us,{to:"/staff"});case"admin":return K.jsx(Us,{to:"/admin"});default:return K.jsx(Us,{to:"/login"})}}function IN(){return K.jsx(Yb,{children:K.jsxs(wb,{children:[K.jsx(xn,{path:"/",element:K.jsx(RN,{})}),K.jsx(xn,{path:"/login",element:K.jsx(_N,{})}),K.jsx(xn,{path:"/signup",element:K.jsx(vN,{})}),K.jsxs(xn,{element:K.jsx(pm,{allowedRoles:["student"]}),children:[K.jsx(xn,{path:"/student",element:K.jsx(EN,{})}),K.jsx(xn,{path:"/exam/:examId",element:K.jsx(bN,{})})]}),K.jsx(xn,{element:K.jsx(pm,{allowedRoles:["staff"]}),children:K.jsx(xn,{path:"/staff",element:K.jsx(AN,{})})}),K.jsx(xn,{element:K.jsx(pm,{allowedRoles:["admin"]}),children:K.jsx(xn,{path:"/admin",element:K.jsx(wN,{})})}),K.jsx(xn,{path:"*",element:K.jsx(Us,{to:"/",replace:!0})})]})})}Dw.createRoot(document.getElementById("root")).render(K.jsx(Tw.StrictMode,{children:K.jsx(yN,{children:K.jsx(IN,{})})}));
